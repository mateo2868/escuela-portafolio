var EA=Object.defineProperty,SA=Object.defineProperties;var TA=Object.getOwnPropertyDescriptors;var ch=Object.getOwnPropertySymbols,DA=Object.getPrototypeOf,u5=Object.prototype.hasOwnProperty,d5=Object.prototype.propertyIsEnumerable,xA=Reflect.get;var l5=(n,e,t)=>e in n?EA(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,R=(n,e)=>{for(var t in e||={})u5.call(e,t)&&l5(n,t,e[t]);if(ch)for(var t of ch(e))d5.call(e,t)&&l5(n,t,e[t]);return n},Z=(n,e)=>SA(n,TA(e));var O2=(n,e)=>{var t={};for(var r in n)u5.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&ch)for(var r of ch(n))e.indexOf(r)<0&&d5.call(n,r)&&(t[r]=n[r]);return t};var Oi=(n,e,t)=>xA(DA(n),t,e);var v=(n,e,t)=>new Promise((r,i)=>{var o=c=>{try{a(t.next(c))}catch(u){i(u)}},s=c=>{try{a(t.throw(c))}catch(u){i(u)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(o,s);a((t=t.apply(n,e)).next())});var F2;function lh(){return F2}function mr(n){let e=F2;return F2=n,e}var h5=Symbol("NotFound");function sa(n){return n===h5||n?.name==="\u0275NotFound"}function fh(n,e){return Object.is(n,e)}var Gt=null,uh=!1,V2=1,AA=null,Et=Symbol("SIGNAL");function oe(n){let e=Gt;return Gt=n,e}function mh(){return Gt}var jo={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Bo(n){if(uh)throw new Error("");if(Gt===null)return;Gt.consumerOnSignalRead(n);let e=Gt.producersTail;if(e!==void 0&&e.producer===n)return;let t,r=Gt.recomputing;if(r&&(t=e!==void 0?e.nextProducer:Gt.producers,t!==void 0&&t.producer===n)){Gt.producersTail=t,t.lastReadVersion=n.version;return}let i=n.consumersTail;if(i!==void 0&&i.consumer===Gt&&(!r||RA(i,Gt)))return;let o=la(Gt),s={producer:n,consumer:Gt,nextProducer:t,prevConsumer:i,lastReadVersion:n.version,nextConsumer:void 0};Gt.producersTail=s,e!==void 0?e.nextProducer=s:Gt.producers=s,o&&f5(n,s)}function p5(){V2++}function gh(n){if(!(la(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===V2)){if(!n.producerMustRecompute(n)&&!ca(n)){ph(n);return}n.producerRecomputeValue(n),ph(n)}}function j2(n){if(n.consumers===void 0)return;let e=uh;uh=!0;try{for(let t=n.consumers;t!==void 0;t=t.nextConsumer){let r=t.consumer;r.dirty||LA(r)}}finally{uh=e}}function B2(){return Gt?.consumerAllowSignalWrites!==!1}function LA(n){n.dirty=!0,j2(n),n.consumerMarkedDirty?.(n)}function ph(n){n.dirty=!1,n.lastCleanEpoch=V2}function qo(n){return n&&(n.producersTail=void 0,n.recomputing=!0),oe(n)}function aa(n,e){if(oe(e),!n)return;n.recomputing=!1;let t=n.producersTail,r=t!==void 0?t.nextProducer:n.producers;if(r!==void 0){if(la(n))do r=q2(r);while(r!==void 0);t!==void 0?t.nextProducer=void 0:n.producers=void 0}}function ca(n){for(let e=n.producers;e!==void 0;e=e.nextProducer){let t=e.producer,r=e.lastReadVersion;if(r!==t.version||(gh(t),r!==t.version))return!0}return!1}function Ho(n){if(la(n)){let e=n.producers;for(;e!==void 0;)e=q2(e)}n.producers=void 0,n.producersTail=void 0,n.consumers=void 0,n.consumersTail=void 0}function f5(n,e){let t=n.consumersTail,r=la(n);if(t!==void 0?(e.nextConsumer=t.nextConsumer,t.nextConsumer=e):(e.nextConsumer=void 0,n.consumers=e),e.prevConsumer=t,n.consumersTail=e,!r)for(let i=n.producers;i!==void 0;i=i.nextProducer)f5(i.producer,i)}function q2(n){let e=n.producer,t=n.nextProducer,r=n.nextConsumer,i=n.prevConsumer;if(n.nextConsumer=void 0,n.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:e.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(e.consumers=r,!la(e)){let o=e.producers;for(;o!==void 0;)o=q2(o)}return t}function la(n){return n.consumerIsAlwaysLive||n.consumers!==void 0}function yh(n){AA?.(n)}function RA(n,e){let t=e.producersTail;if(t!==void 0){let r=e.producers;do{if(r===n)return!0;if(r===t)break;r=r.nextProducer}while(r!==void 0)}return!1}function Cl(n,e){let t=Object.create(PA);t.computation=n,e!==void 0&&(t.equal=e);let r=()=>{if(gh(t),Bo(t),t.value===_l)throw t.error;return t.value};return r[Et]=t,yh(t),r}var dh=Symbol("UNSET"),hh=Symbol("COMPUTING"),_l=Symbol("ERRORED"),PA=Z(R({},jo),{value:dh,dirty:!0,error:null,equal:fh,kind:"computed",producerMustRecompute(n){return n.value===dh||n.value===hh},producerRecomputeValue(n){if(n.value===hh)throw new Error("");let e=n.value;n.value=hh;let t=qo(n),r,i=!1;try{r=n.computation(),oe(null),i=e!==dh&&e!==_l&&r!==_l&&n.equal(e,r)}catch(o){r=_l,n.error=o}finally{aa(n,t)}if(i){n.value=e;return}n.value=r,n.version++}});function NA(){throw new Error}var m5=NA;function g5(n){m5(n)}function H2(n){m5=n}var OA=null;function z2(n,e){let t=Object.create(vh);t.value=n,e!==void 0&&(t.equal=e);let r=()=>y5(t);return r[Et]=t,yh(t),[r,s=>zo(t,s),s=>U2(t,s)]}function y5(n){return Bo(n),n.value}function zo(n,e){B2()||g5(n),n.equal(n.value,e)||(n.value=e,FA(n))}function U2(n,e){B2()||g5(n),zo(n,e(n.value))}var vh=Z(R({},jo),{equal:fh,value:void 0,kind:"signal"});function FA(n){n.version++,p5(),j2(n),OA?.(n)}function ne(n){return typeof n=="function"}function ua(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var kh=ua(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Uo(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var Ke=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(ne(r))try{r()}catch(o){e=o instanceof kh?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{v5(o)}catch(s){e=e??[],s instanceof kh?e=[...e,...s.errors]:e.push(s)}}if(e)throw new kh(e)}}add(e){var t;if(e&&e!==this)if(this.closed)v5(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Uo(t,e)}remove(e){let{_finalizers:t}=this;t&&Uo(t,e),e instanceof n&&e._removeParent(this)}};Ke.EMPTY=(()=>{let n=new Ke;return n.closed=!0,n})();var $2=Ke.EMPTY;function wh(n){return n instanceof Ke||n&&"closed"in n&&ne(n.remove)&&ne(n.add)&&ne(n.unsubscribe)}function v5(n){ne(n)?n():n.unsubscribe()}var Gn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var da={setTimeout(n,e,...t){let{delegate:r}=da;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=da;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Ih(n){da.setTimeout(()=>{let{onUnhandledError:e}=Gn;if(e)e(n);else throw n})}function bl(){}var k5=G2("C",void 0,void 0);function w5(n){return G2("E",void 0,n)}function I5(n){return G2("N",n,void 0)}function G2(n,e,t){return{kind:n,value:e,error:t}}var $o=null;function ha(n){if(Gn.useDeprecatedSynchronousErrorHandling){let e=!$o;if(e&&($o={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=$o;if($o=null,t)throw r}}else n()}function M5(n){Gn.useDeprecatedSynchronousErrorHandling&&$o&&($o.errorThrown=!0,$o.error=n)}var Go=class extends Ke{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,wh(e)&&e.add(this)):this.destination=BA}static create(e,t,r){return new pa(e,t,r)}next(e){this.isStopped?K2(I5(e),this):this._next(e)}error(e){this.isStopped?K2(w5(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?K2(k5,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},VA=Function.prototype.bind;function W2(n,e){return VA.call(n,e)}var Z2=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Mh(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Mh(r)}else Mh(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Mh(t)}}},pa=class extends Go{constructor(e,t,r){super();let i;if(ne(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&Gn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&W2(e.next,o),error:e.error&&W2(e.error,o),complete:e.complete&&W2(e.complete,o)}):i=e}this.destination=new Z2(i)}};function Mh(n){Gn.useDeprecatedSynchronousErrorHandling?M5(n):Ih(n)}function jA(n){throw n}function K2(n,e){let{onStoppedNotification:t}=Gn;t&&da.setTimeout(()=>t(n,e))}var BA={closed:!0,next:bl,error:jA,complete:bl};var fa=typeof Symbol=="function"&&Symbol.observable||"@@observable";function In(n){return n}function _h(...n){return Q2(n)}function Q2(n){return n.length===0?In:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var ae=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=HA(t)?t:new pa(t,r,i);return ha(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=_5(r),new r((i,o)=>{let s=new pa({next:a=>{try{t(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[fa](){return this}pipe(...t){return Q2(t)(this)}toPromise(t){return t=_5(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function _5(n){var e;return(e=n??Gn.Promise)!==null&&e!==void 0?e:Promise}function qA(n){return n&&ne(n.next)&&ne(n.error)&&ne(n.complete)}function HA(n){return n&&n instanceof Go||qA(n)&&wh(n)}function X2(n){return ne(n?.lift)}function we(n){return e=>{if(X2(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ge(n,e,t,r,i){return new Y2(n,e,t,r,i)}var Y2=class extends Go{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function ma(){return we((n,e)=>{let t=null;n._refCount++;let r=ge(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var ga=class extends ae{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,X2(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ke;let t=this.getSubject();e.add(this.source.subscribe(ge(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ke.EMPTY)}return e}refCount(){return ma()(this)}};var ya={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame,{delegate:r}=ya;r&&(e=r.requestAnimationFrame,t=r.cancelAnimationFrame);let i=e(o=>{t=void 0,n(o)});return new Ke(()=>t?.(i))},requestAnimationFrame(...n){let{delegate:e}=ya;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){let{delegate:e}=ya;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var C5=ua(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Fe=(()=>{class n extends ae{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new Ch(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new C5}next(t){ha(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){ha(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){ha(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?$2:(this.currentObservers=null,o.push(t),new Ke(()=>{this.currentObservers=null,Uo(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new ae;return t.source=this,t}}return n.create=(e,t)=>new Ch(e,t),n})(),Ch=class extends Fe{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:$2}};var Ot=class extends Fe{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var El={now(){return(El.delegate||Date).now()},delegate:void 0};var Sl=class extends Fe{constructor(e=1/0,t=1/0,r=El){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){let{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:s}=this;t||(r.push(e),!i&&r.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let s=0;s<o.length&&!e.closed;s+=r?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){let{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*e;if(e<1/0&&o<r.length&&r.splice(0,r.length-o),!i){let s=t.now(),a=0;for(let c=1;c<r.length&&r[c]<=s;c+=2)a=c;a&&r.splice(0,a+1)}}};var bh=class extends Ke{constructor(e,t){super()}schedule(e,t=0){return this}};var Tl={setInterval(n,e,...t){let{delegate:r}=Tl;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=Tl;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var gr=class extends bh{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return Tl.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&Tl.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Uo(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var zA=1,J2,em={};function b5(n){return n in em?(delete em[n],!0):!1}var E5={setImmediate(n){let e=zA++;return em[e]=!0,J2||(J2=Promise.resolve()),J2.then(()=>b5(e)&&n()),e},clearImmediate(n){b5(n)}};var{setImmediate:UA,clearImmediate:$A}=E5,Dl={setImmediate(...n){let{delegate:e}=Dl;return(e?.setImmediate||UA)(...n)},clearImmediate(n){let{delegate:e}=Dl;return(e?.clearImmediate||$A)(n)},delegate:void 0};var Eh=class extends gr{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return r!==null&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=Dl.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,r=0){var i;if(r!=null?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);let{actions:o}=e;t!=null&&((i=o[o.length-1])===null||i===void 0?void 0:i.id)!==t&&(Dl.clearImmediate(t),e._scheduled===t&&(e._scheduled=void 0))}};var va=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};va.now=El.now;var yr=class extends va{constructor(e,t=va.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var Sh=class extends yr{flush(e){this._active=!0;let t=this._scheduled;this._scheduled=void 0;let{actions:r}=this,i;e=e||r.shift();do if(i=e.execute(e.state,e.delay))break;while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}};var tm=new Sh(Eh);var Fi=new yr(gr),nm=Fi;var Th=class extends gr{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var Dh=class extends yr{};var rm=new Dh(Th);var xh=class extends gr{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return r!==null&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=ya.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,r=0){var i;if(r!=null?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);let{actions:o}=e;t!=null&&t===e._scheduled&&((i=o[o.length-1])===null||i===void 0?void 0:i.id)!==t&&(ya.cancelAnimationFrame(t),e._scheduled=void 0)}};var Ah=class extends yr{flush(e){this._active=!0;let t;e?t=e.id:(t=this._scheduled,this._scheduled=void 0);let{actions:r}=this,i;e=e||r.shift();do if(i=e.execute(e.state,e.delay))break;while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}};var im=new Ah(xh);var Wt=new ae(n=>n.complete());function Lh(n){return n&&ne(n.schedule)}function om(n){return n[n.length-1]}function Rh(n){return ne(om(n))?n.pop():void 0}function vr(n){return Lh(om(n))?n.pop():void 0}function S5(n,e){return typeof om(n)=="number"?n.pop():e}function sm(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function D5(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(h){try{u(r.next(h))}catch(f){s(f)}}function c(h){try{u(r.throw(h))}catch(f){s(f)}}function u(h){h.done?o(h.value):i(h.value).then(a,c)}u((r=r.apply(n,e||[])).next())})}function T5(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Wo(n){return this instanceof Wo?(this.v=n,this):new Wo(n)}function x5(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(y){return function(M){return Promise.resolve(M).then(y,f)}}function a(y,M){r[y]&&(i[y]=function(L){return new Promise(function(D,x){o.push([y,L,D,x])>1||c(y,L)})},M&&(i[y]=M(i[y])))}function c(y,M){try{u(r[y](M))}catch(L){m(o[0][3],L)}}function u(y){y.value instanceof Wo?Promise.resolve(y.value.v).then(h,f):m(o[0][2],y)}function h(y){c("next",y)}function f(y){c("throw",y)}function m(y,M){y(M),o.shift(),o.length&&c(o[0][0],o[0][1])}}function A5(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof T5=="function"?T5(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,c){s=n[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(u){o({value:u,done:a})},s)}}var ka=n=>n&&typeof n.length=="number"&&typeof n!="function";function Ph(n){return ne(n?.then)}function Nh(n){return ne(n[fa])}function Oh(n){return Symbol.asyncIterator&&ne(n?.[Symbol.asyncIterator])}function Fh(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function GA(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Vh=GA();function jh(n){return ne(n?.[Vh])}function Bh(n){return x5(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield Wo(t.read());if(i)return yield Wo(void 0);yield yield Wo(r)}}finally{t.releaseLock()}})}function qh(n){return ne(n?.getReader)}function je(n){if(n instanceof ae)return n;if(n!=null){if(Nh(n))return WA(n);if(ka(n))return KA(n);if(Ph(n))return ZA(n);if(Oh(n))return L5(n);if(jh(n))return QA(n);if(qh(n))return XA(n)}throw Fh(n)}function WA(n){return new ae(e=>{let t=n[fa]();if(ne(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function KA(n){return new ae(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function ZA(n){return new ae(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Ih)})}function QA(n){return new ae(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function L5(n){return new ae(e=>{YA(n,e).catch(t=>e.error(t))})}function XA(n){return L5(Bh(n))}function YA(n,e){var t,r,i,o;return D5(this,void 0,void 0,function*(){try{for(t=A5(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function pn(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function Vi(n,e=0){return we((t,r)=>{t.subscribe(ge(r,i=>pn(r,n,()=>r.next(i),e),()=>pn(r,n,()=>r.complete(),e),i=>pn(r,n,()=>r.error(i),e)))})}function ji(n,e=0){return we((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function R5(n,e){return je(n).pipe(ji(e),Vi(e))}function P5(n,e){return je(n).pipe(ji(e),Vi(e))}function N5(n,e){return new ae(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function O5(n,e){return new ae(t=>{let r;return pn(t,e,()=>{r=n[Vh](),pn(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>ne(r?.return)&&r.return()})}function Hh(n,e){if(!n)throw new Error("Iterable cannot be null");return new ae(t=>{pn(t,e,()=>{let r=n[Symbol.asyncIterator]();pn(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function F5(n,e){return Hh(Bh(n),e)}function V5(n,e){if(n!=null){if(Nh(n))return R5(n,e);if(ka(n))return N5(n,e);if(Ph(n))return P5(n,e);if(Oh(n))return Hh(n,e);if(jh(n))return O5(n,e);if(qh(n))return F5(n,e)}throw Fh(n)}function Ne(n,e){return e?V5(n,e):je(n)}function X(...n){let e=vr(n);return Ne(n,e)}function wa(n,e){let t=ne(n)?n:()=>n,r=i=>i.error(t());return new ae(e?i=>e.schedule(r,0,i):r)}function am(n){return!!n&&(n instanceof ae||ne(n.lift)&&ne(n.subscribe))}var ti=ua(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function j5(n){return n instanceof Date&&!isNaN(n)}function de(n,e){return we((t,r)=>{let i=0;t.subscribe(ge(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:JA}=Array;function e7(n,e){return JA(e)?n(...e):n(e)}function Ia(n){return de(e=>e7(n,e))}var{isArray:t7}=Array,{getPrototypeOf:n7,prototype:r7,keys:i7}=Object;function zh(n){if(n.length===1){let e=n[0];if(t7(e))return{args:e,keys:null};if(o7(e)){let t=i7(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function o7(n){return n&&typeof n=="object"&&n7(n)===r7}function Uh(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function xl(...n){let e=vr(n),t=Rh(n),{args:r,keys:i}=zh(n);if(r.length===0)return Ne([],e);let o=new ae(s7(r,e,i?s=>Uh(i,s):In));return t?o.pipe(Ia(t)):o}function s7(n,e,t=In){return r=>{B5(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)B5(e,()=>{let u=Ne(n[c],e),h=!1;u.subscribe(ge(r,f=>{o[c]=f,h||(h=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function B5(n,e,t){n?pn(t,n,e):e()}function q5(n,e,t,r,i,o,s,a){let c=[],u=0,h=0,f=!1,m=()=>{f&&!c.length&&!u&&e.complete()},y=L=>u<r?M(L):c.push(L),M=L=>{o&&e.next(L),u++;let D=!1;je(t(L,h++)).subscribe(ge(e,x=>{i?.(x),o?y(x):e.next(x)},()=>{D=!0},void 0,()=>{if(D)try{for(u--;c.length&&u<r;){let x=c.shift();s?pn(e,s,()=>M(x)):M(x)}m()}catch(x){e.error(x)}}))};return n.subscribe(ge(e,y,()=>{f=!0,m()})),()=>{a?.()}}function Xe(n,e,t=1/0){return ne(e)?Xe((r,i)=>de((o,s)=>e(r,o,i,s))(je(n(r,i))),t):(typeof e=="number"&&(t=e),we((r,i)=>q5(r,i,n,t)))}function kr(n=1/0){return Xe(In,n)}function H5(){return kr(1)}function Ma(...n){return H5()(Ne(n,vr(n)))}function Al(n){return new ae(e=>{je(n()).subscribe(e)})}function cm(...n){let e=Rh(n),{args:t,keys:r}=zh(n),i=new ae(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),c=s,u=s;for(let h=0;h<s;h++){let f=!1;je(t[h]).subscribe(ge(o,m=>{f||(f=!0,u--),a[h]=m},()=>c--,void 0,()=>{(!c||!f)&&(u||o.next(r?Uh(r,a):a),o.complete())}))}});return e?i.pipe(Ia(e)):i}var a7=["addListener","removeListener"],c7=["addEventListener","removeEventListener"],l7=["on","off"];function Bi(n,e,t,r){if(ne(t)&&(r=t,t=void 0),r)return Bi(n,e,t).pipe(Ia(r));let[i,o]=h7(n)?c7.map(s=>a=>n[s](e,a,t)):u7(n)?a7.map(z5(n,e)):d7(n)?l7.map(z5(n,e)):[];if(!i&&ka(n))return Xe(s=>Bi(s,e,t))(je(n));if(!i)throw new TypeError("Invalid event target");return new ae(s=>{let a=(...c)=>s.next(1<c.length?c:c[0]);return i(a),()=>o(a)})}function z5(n,e){return t=>r=>n[t](e,r)}function u7(n){return ne(n.addListener)&&ne(n.removeListener)}function d7(n){return ne(n.on)&&ne(n.off)}function h7(n){return ne(n.addEventListener)&&ne(n.removeEventListener)}function U5(n=0,e,t=nm){let r=-1;return e!=null&&(Lh(e)?t=e:r=e),new ae(i=>{let o=j5(n)?+n-t.now():n;o<0&&(o=0);let s=0;return t.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}function $h(...n){let e=vr(n),t=S5(n,1/0),r=n;return r.length?r.length===1?je(r[0]):kr(t)(Ne(r,e)):Wt}function rt(n,e){return we((t,r)=>{let i=0;t.subscribe(ge(r,o=>n.call(e,o,i++)&&r.next(o)))})}function $5(n){return we((e,t)=>{let r=!1,i=null,o=null,s=!1,a=()=>{if(o?.unsubscribe(),o=null,r){r=!1;let u=i;i=null,t.next(u)}s&&t.complete()},c=()=>{o=null,s&&t.complete()};e.subscribe(ge(t,u=>{r=!0,i=u,o||je(n(u)).subscribe(o=ge(t,a,c))},()=>{s=!0,(!r||!o||o.closed)&&t.complete()}))})}function lm(n,e=Fi){return $5(()=>U5(n,e))}function ni(n){return we((e,t)=>{let r=null,i=!1,o;r=e.subscribe(ge(t,void 0,void 0,s=>{o=je(n(s,ni(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function G5(n,e,t,r,i){return(o,s)=>{let a=t,c=e,u=0;o.subscribe(ge(s,h=>{let f=u++;c=a?n(c,h,f):(a=!0,h),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}function wr(n,e){return ne(e)?Xe(n,e,1):Xe(n,1)}function um(n,e=Fi){return we((t,r)=>{let i=null,o=null,s=null,a=()=>{if(i){i.unsubscribe(),i=null;let u=o;o=null,r.next(u)}};function c(){let u=s+n,h=e.now();if(h<u){i=this.schedule(void 0,u-h),r.add(i);return}a()}t.subscribe(ge(r,u=>{o=u,s=e.now(),i||(i=e.schedule(c,n),r.add(i))},()=>{a(),r.complete()},void 0,()=>{o=i=null}))})}function qi(n){return we((e,t)=>{let r=!1;e.subscribe(ge(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function ri(n){return n<=0?()=>Wt:we((e,t)=>{let r=0;e.subscribe(ge(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Gh(n=p7){return we((e,t)=>{let r=!1;e.subscribe(ge(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function p7(){return new ti}function Hi(n){return we((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function ii(n,e){let t=arguments.length>=2;return r=>r.pipe(n?rt((i,o)=>n(i,o,r)):In,ri(1),t?qi(e):Gh(()=>new ti))}function _a(n){return n<=0?()=>Wt:we((e,t)=>{let r=[];e.subscribe(ge(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function dm(n,e){let t=arguments.length>=2;return r=>r.pipe(n?rt((i,o)=>n(i,o,r)):In,_a(1),t?qi(e):Gh(()=>new ti))}function Wh(n,e){return we(G5(n,e,arguments.length>=2,!0))}function Ca(...n){let e=vr(n);return we((t,r)=>{(e?Ma(n,t,e):Ma(n,t)).subscribe(r)})}function It(n,e){return we((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(ge(r,c=>{i?.unsubscribe();let u=0,h=o++;je(n(c,h)).subscribe(i=ge(r,f=>r.next(e?e(c,f,h,u++):f),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Ir(n){return we((e,t)=>{je(n).subscribe(ge(t,()=>t.complete(),bl)),!t.closed&&e.subscribe(t)})}function it(n,e,t){let r=ne(n)||e||t?{next:n,error:e,complete:t}:n;return r?we((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(ge(o,c=>{var u;(u=r.next)===null||u===void 0||u.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,c),o.error(c)},()=>{var c,u;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):In}function W5(n){let e=oe(null);try{return n()}finally{oe(e)}}var K5=Z(R({},jo),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,hasRun:!1,kind:"effect"});function Z5(n){if(n.dirty=!1,n.hasRun&&!ca(n))return;n.hasRun=!0;let e=qo(n);try{n.cleanup(),n.fn()}finally{aa(n,e)}}var Yh="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",U=class extends Error{code;constructor(e,t){super(Mr(e,t)),this.code=e}};function f7(n){return`NG0${Math.abs(n)}`}function Mr(n,e){return`${f7(n)}${e?": "+e:""}`}var Fl=globalThis;function xe(n){for(let e in n)if(n[e]===xe)return e;throw Error("")}function Y5(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function si(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(si).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function Jh(n,e){return n?e?`${n} ${e}`:n:e||""}var m7=xe({__forward_ref__:xe});function fn(n){return n.__forward_ref__=fn,n.toString=function(){return si(this())},n}function Ft(n){return _m(n)?n():n}function _m(n){return typeof n=="function"&&n.hasOwnProperty(m7)&&n.__forward_ref__===fn}function J5(n,e){n==null&&Cm(e,n,null,"!=")}function Cm(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(r==null?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}function H(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function St(n){return{providers:n.providers||[],imports:n.imports||[]}}function Vl(n){return g7(n,e1)}function bm(n){return Vl(n)!==null}function g7(n,e){return n.hasOwnProperty(e)&&n[e]||null}function y7(n){let e=n?.[e1]??null;return e||null}function pm(n){return n&&n.hasOwnProperty(Zh)?n[Zh]:null}var e1=xe({\u0275prov:xe}),Zh=xe({\u0275inj:xe}),j=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=H({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Em(n){return n&&!!n.\u0275providers}var Sm=xe({\u0275cmp:xe}),Tm=xe({\u0275dir:xe}),Dm=xe({\u0275pipe:xe}),xm=xe({\u0275mod:xe}),Pl=xe({\u0275fac:xe}),Jo=xe({__NG_ELEMENT_ID__:xe}),Q5=xe({__NG_ENV_ID__:xe});function Ea(n){return typeof n=="string"?n:n==null?"":String(n)}function Qh(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():Ea(n)}var Am=xe({ngErrorCode:xe}),e_=xe({ngErrorMessage:xe}),Rl=xe({ngTokenPath:xe});function Lm(n,e){return t_("",-200,e)}function t1(n,e){throw new U(-201,!1)}function v7(n,e){n[Rl]??=[];let t=n[Rl],r;typeof e=="object"&&"multi"in e&&e?.multi===!0?(J5(e.provide,"Token with multi: true should have a provide property"),r=Qh(e.provide)):r=Qh(e),t[0]!==r&&n[Rl].unshift(r)}function k7(n,e){let t=n[Rl],r=n[Am],i=n[e_]||n.message;return n.message=I7(i,r,t,e),n}function t_(n,e,t){let r=new U(e,n);return r[Am]=e,r[e_]=n,t&&(r[Rl]=t),r}function w7(n){return n[Am]}function I7(n,e,t=[],r=null){let i="";t&&t.length>1&&(i=` Path: ${t.join(" -> ")}.`);let o=r?` Source: ${r}.`:"";return Mr(e,`${n}${o}${i}`)}var fm;function n_(){return fm}function Mn(n){let e=fm;return fm=n,e}function Rm(n,e,t){let r=Vl(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&8)return null;if(e!==void 0)return e;t1(n,"Injector")}var M7={},Ko=M7,mm="__NG_DI_FLAG__",gm=class{injector;constructor(e){this.injector=e}retrieve(e,t){let r=Zo(t)||0;try{return this.injector.get(e,r&8?null:Ko,r)}catch(i){if(sa(i))return i;throw i}}};function _7(n,e=0){let t=lh();if(t===void 0)throw new U(-203,!1);if(t===null)return Rm(n,void 0,e);{let r=C7(e),i=t.retrieve(n,r);if(sa(i)){if(r.optional)return null;throw i}return i}}function Q(n,e=0){return(n_()||_7)(Ft(n),e)}function b(n,e){return Q(n,Zo(e))}function Zo(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function C7(n){return{optional:!!(n&8),host:!!(n&1),self:!!(n&2),skipSelf:!!(n&4)}}function ym(n){let e=[];for(let t=0;t<n.length;t++){let r=Ft(n[t]);if(Array.isArray(r)){if(r.length===0)throw new U(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let a=r[s],c=b7(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}e.push(Q(i,o))}else e.push(Q(r))}return e}function r_(n,e){return n[mm]=e,n.prototype[mm]=e,n}function b7(n){return n[mm]}function Qo(n,e){let t=n.hasOwnProperty(Pl);return t?n[Pl]:null}function i_(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=e[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}function o_(n){return n.flat(Number.POSITIVE_INFINITY)}function n1(n,e){n.forEach(t=>Array.isArray(t)?n1(t,e):e(t))}function Pm(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function jl(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function s_(n,e){let t=[];for(let r=0;r<n;r++)t.push(e);return t}function a_(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function r1(n,e,t){let r=Sa(n,e);return r>=0?n[r|1]=t:(r=~r,a_(n,r,e,t)),r}function i1(n,e){let t=Sa(n,e);if(t>=0)return n[t|1]}function Sa(n,e){return E7(n,e,1)}function E7(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var Ui={},Kt=[],ai=new j(""),Nm=new j("",-1),Om=new j(""),Nl=class{get(e,t=Ko){if(t===Ko){let i=t_("",-201);throw i.name="\u0275NotFound",i}return t}};function Fm(n){return n[xm]||null}function ci(n){return n[Sm]||null}function Vm(n){return n[Tm]||null}function c_(n){return n[Dm]||null}function Zt(n){return{\u0275providers:n}}function l_(n){return Zt([{provide:ai,multi:!0,useValue:n}])}function o1(...n){return{\u0275providers:jm(!0,n),\u0275fromNgModule:!0}}function jm(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return n1(e,s=>{let a=s;Xh(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&u_(i,o),t}function u_(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];Bm(i,o=>{e(o,r)})}}function Xh(n,e,t,r){if(n=Ft(n),!n)return!1;let i=null,o=pm(n),s=!o&&ci(n);if(!o&&!s){let c=n.ngModule;if(o=pm(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let u of c)Xh(u,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let u;try{n1(o.imports,h=>{Xh(h,e,t,r)&&(u||=[],u.push(h))})}finally{}u!==void 0&&u_(u,e)}if(!a){let u=Qo(i)||(()=>new i);e({provide:i,useFactory:u,deps:Kt},i),e({provide:Om,useValue:i,multi:!0},i),e({provide:ai,useValue:()=>Q(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let u=n;Bm(c,h=>{e(h,u)})}}else return!1;return i!==n&&n.providers!==void 0}function Bm(n,e){for(let t of n)Em(t)&&(t=t.\u0275providers),Array.isArray(t)?Bm(t,e):e(t)}var S7=xe({provide:String,useValue:xe});function d_(n){return n!==null&&typeof n=="object"&&S7 in n}function T7(n){return!!(n&&n.useExisting)}function D7(n){return!!(n&&n.useFactory)}function Xo(n){return typeof n=="function"}function h_(n){return!!n.useClass}var Bl=new j(""),Kh={},X5={},hm;function ql(){return hm===void 0&&(hm=new Nl),hm}var Ye=class{},Yo=class extends Ye{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,km(e,s=>this.processProvider(s)),this.records.set(Nm,ba(void 0,this)),i.has("environment")&&this.records.set(Ye,ba(void 0,this));let o=this.records.get(Bl);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Om,Kt,{self:!0}))}retrieve(e,t){let r=Zo(t)||0;try{return this.get(e,Ko,r)}catch(i){if(sa(i))return i;throw i}}destroy(){Ll(this),this._destroyed=!0;let e=oe(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),oe(e)}}onDestroy(e){return Ll(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Ll(this);let t=mr(this),r=Mn(void 0),i;try{return e()}finally{mr(t),Mn(r)}}get(e,t=Ko,r){if(Ll(this),e.hasOwnProperty(Q5))return e[Q5](this);let i=Zo(r),o,s=mr(this),a=Mn(void 0);try{if(!(i&4)){let u=this.records.get(e);if(u===void 0){let h=P7(e)&&Vl(e);h&&this.injectableDefInScope(h)?u=ba(vm(e),Kh):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u,i)}let c=i&2?ql():this.parent;return t=i&8&&t===Ko?null:t,c.get(e,t)}catch(c){let u=w7(c);throw u===-200||u===-201?new U(u,null):c}finally{Mn(a),mr(s)}}resolveInjectorInitializers(){let e=oe(null),t=mr(this),r=Mn(void 0),i;try{let o=this.get(ai,Kt,{self:!0});for(let s of o)s()}finally{mr(t),Mn(r),oe(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(si(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=Ft(e);let t=Xo(e)?e:Ft(e&&e.provide),r=A7(e);if(!Xo(e)&&e.multi===!0){let i=this.records.get(t);i||(i=ba(void 0,Kh,!0),i.factory=()=>ym(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t,r){let i=oe(null);try{if(t.value===X5)throw Lm(si(e));return t.value===Kh&&(t.value=X5,t.value=t.factory(void 0,r)),typeof t.value=="object"&&t.value&&R7(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{oe(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=Ft(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function vm(n){let e=Vl(n),t=e!==null?e.factory:Qo(n);if(t!==null)return t;if(n instanceof j)throw new U(204,!1);if(n instanceof Function)return x7(n);throw new U(204,!1)}function x7(n){if(n.length>0)throw new U(204,!1);let t=y7(n);return t!==null?()=>t.factory(n):()=>new n}function A7(n){if(d_(n))return ba(void 0,n.useValue);{let e=qm(n);return ba(e,Kh)}}function qm(n,e,t){let r;if(Xo(n)){let i=Ft(n);return Qo(i)||vm(i)}else if(d_(n))r=()=>Ft(n.useValue);else if(D7(n))r=()=>n.useFactory(...ym(n.deps||[]));else if(T7(n))r=(i,o)=>Q(Ft(n.useExisting),o!==void 0&&o&8?8:void 0);else{let i=Ft(n&&(n.useClass||n.provide));if(L7(n))r=()=>new i(...ym(n.deps));else return Qo(i)||vm(i)}return r}function Ll(n){if(n.destroyed)throw new U(205,!1)}function ba(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function L7(n){return!!n.deps}function R7(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function P7(n){return typeof n=="function"||typeof n=="object"&&n.ngMetadataName==="InjectionToken"}function km(n,e){for(let t of n)Array.isArray(t)?km(t,e):t&&Em(t)?km(t.\u0275providers,e):e(t)}function ot(n,e){let t;n instanceof Yo?(Ll(n),t=n):t=new gm(n);let r,i=mr(t),o=Mn(void 0);try{return e()}finally{mr(i),Mn(o)}}function p_(){return n_()!==void 0||lh()!=null}var Kn=0,te=1,ce=2,Mt=3,An=4,sn=5,es=6,Ta=7,st=8,ts=9,_r=10,Be=11,Da=12,Hm=13,ns=14,Qt=15,$i=16,rs=17,Cr=18,Hl=19,zm=20,oi=21,s1=22,li=23,Cn=24,is=25,at=26,f_=1,Um=6,Gi=7,zl=8,os=9,Tt=10;function br(n){return Array.isArray(n)&&typeof n[f_]=="object"}function Zn(n){return Array.isArray(n)&&n[f_]===!0}function $m(n){return(n.flags&4)!==0}function ui(n){return n.componentOffset>-1}function xa(n){return(n.flags&1)===1}function Er(n){return!!n.template}function Aa(n){return(n[ce]&512)!==0}function ss(n){return(n[ce]&256)===256}var m_="svg",g_="math";function Ln(n){for(;Array.isArray(n);)n=n[Kn];return n}function Gm(n,e){return Ln(e[n])}function Rn(n,e){return Ln(e[n.index])}function Ul(n,e){return n.data[e]}function y_(n,e){return n[e]}function Pn(n,e){let t=e[n];return br(t)?t:t[Kn]}function v_(n){return(n[ce]&4)===4}function a1(n){return(n[ce]&128)===128}function k_(n){return Zn(n[Mt])}function Nn(n,e){return e==null?null:n[e]}function Wm(n){n[rs]=0}function Km(n){n[ce]&1024||(n[ce]|=1024,a1(n)&&Wi(n))}function w_(n,e){for(;n>0;)e=e[ns],n--;return e}function $l(n){return!!(n[ce]&9216||n[Cn]?.dirty)}function c1(n){n[_r].changeDetectionScheduler?.notify(8),n[ce]&64&&(n[ce]|=1024),$l(n)&&Wi(n)}function Wi(n){n[_r].changeDetectionScheduler?.notify(0);let e=zi(n);for(;e!==null&&!(e[ce]&8192||(e[ce]|=8192,!a1(e)));)e=zi(e)}function Zm(n,e){if(ss(n))throw new U(911,!1);n[oi]===null&&(n[oi]=[]),n[oi].push(e)}function I_(n,e){if(n[oi]===null)return;let t=n[oi].indexOf(e);t!==-1&&n[oi].splice(t,1)}function zi(n){let e=n[Mt];return Zn(e)?e[Mt]:e}function Qm(n){return n[Ta]??=[]}function Xm(n){return n.cleanup??=[]}function M_(n,e,t,r){let i=Qm(e);i.push(t),n.firstCreatePass&&Xm(n).push(r,i.length-1)}var ve={lFrame:R_(null),bindingsEnabled:!0,skipHydrationRootTNode:null},Gl=(function(n){return n[n.Off=0]="Off",n[n.Exhaustive=1]="Exhaustive",n[n.OnlyDirtyViews=2]="OnlyDirtyViews",n})(Gl||{}),N7=0,wm=!1;function __(){return ve.lFrame.elementDepthCount}function C_(){ve.lFrame.elementDepthCount++}function Ym(){ve.lFrame.elementDepthCount--}function l1(){return ve.bindingsEnabled}function Jm(){return ve.skipHydrationRootTNode!==null}function eg(n){return ve.skipHydrationRootTNode===n}function tg(){ve.skipHydrationRootTNode=null}function re(){return ve.lFrame.lView}function ct(){return ve.lFrame.tView}function $e(n){return ve.lFrame.contextLView=n,n[st]}function Ge(n){return ve.lFrame.contextLView=null,n}function _t(){let n=ng();for(;n!==null&&n.type===64;)n=n.parent;return n}function ng(){return ve.lFrame.currentTNode}function b_(){let n=ve.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function La(n,e){let t=ve.lFrame;t.currentTNode=n,t.isParent=e}function rg(){return ve.lFrame.isParent}function ig(){ve.lFrame.isParent=!1}function E_(){return ve.lFrame.contextLView}function og(n){Cm("Must never be called in production mode"),N7=n}function sg(){return wm}function Ra(n){let e=wm;return wm=n,e}function Pa(){let n=ve.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function S_(n){return ve.lFrame.bindingIndex=n}function Ki(){return ve.lFrame.bindingIndex++}function ag(n){let e=ve.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function T_(){return ve.lFrame.inI18n}function D_(n,e){let t=ve.lFrame;t.bindingIndex=t.bindingRootIndex=n,u1(e)}function x_(){return ve.lFrame.currentDirectiveIndex}function u1(n){ve.lFrame.currentDirectiveIndex=n}function A_(n){let e=ve.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function d1(){return ve.lFrame.currentQueryIndex}function Wl(n){ve.lFrame.currentQueryIndex=n}function O7(n){let e=n[te];return e.type===2?e.declTNode:e.type===1?n[sn]:null}function cg(n,e,t){if(t&4){let i=e,o=n;for(;i=i.parent,i===null&&!(t&1);)if(i=O7(o),i===null||(o=o[ns],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=ve.lFrame=L_();return r.currentTNode=e,r.lView=n,!0}function h1(n){let e=L_(),t=n[te];ve.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function L_(){let n=ve.lFrame,e=n===null?null:n.child;return e===null?R_(n):e}function R_(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function P_(){let n=ve.lFrame;return ve.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var lg=P_;function p1(){let n=P_();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function N_(n){return(ve.lFrame.contextLView=w_(n,ve.lFrame.contextLView))[st]}function di(){return ve.lFrame.selectedIndex}function Zi(n){ve.lFrame.selectedIndex=n}function f1(){let n=ve.lFrame;return Ul(n.tView,n.selectedIndex)}function O_(){return ve.lFrame.currentNamespace}var F_=!0;function m1(){return F_}function Kl(n){F_=n}var F7={elements:void 0};function g1(){return F7}function Im(n,e=null,t=null,r){let i=ug(n,e,t,r);return i.resolveInjectorInitializers(),i}function ug(n,e=null,t=null,r,i=new Set){let o=[t||Kt,o1(n)];return r=r||(typeof n=="object"?void 0:si(n)),new Yo(o,e||ql(),r||null,i)}var Ue=class n{static THROW_IF_NOT_FOUND=Ko;static NULL=new Nl;static create(e,t){if(Array.isArray(e))return Im({name:""},t,e,"");{let r=e.name??"";return Im({name:r},e.parent,e.providers,r)}}static \u0275prov=H({token:n,providedIn:"any",factory:()=>Q(Nm)});static __NG_ELEMENT_ID__=-1},We=new j(""),Xt=(()=>{class n{static __NG_ELEMENT_ID__=V7;static __NG_ENV_ID__=t=>t}return n})(),Ol=class extends Xt{_lView;constructor(e){super(),this._lView=e}get destroyed(){return ss(this._lView)}onDestroy(e){let t=this._lView;return Zm(t,e),()=>I_(t,e)}};function V7(){return new Ol(re())}var _n=class{_console=console;handleError(e){this._console.error("ERROR",e)}},an=new j("",{providedIn:"root",factory:()=>{let n=b(Ye),e;return t=>{n.destroyed&&!e?setTimeout(()=>{throw t}):(e??=n.get(_n),e.handleError(t))}}}),V_={provide:ai,useValue:()=>void b(_n),multi:!0},j7=new j("",{providedIn:"root",factory:()=>{let n=b(We).defaultView;if(!n)return;let e=b(an),t=o=>{e(o.reason),o.preventDefault()},r=o=>{o.error?e(o.error):e(new Error(o.message,{cause:o})),o.preventDefault()},i=()=>{n.addEventListener("unhandledrejection",t),n.addEventListener("error",r)};typeof Zone<"u"?Zone.root.run(i):i(),b(Xt).onDestroy(()=>{n.removeEventListener("error",r),n.removeEventListener("unhandledrejection",t)})}});function dg(){return Zt([l_(()=>void b(j7))])}function Je(n,e){let[t,r,i]=z2(n,e?.equal),o=t,s=o[Et];return o.set=r,o.update=i,o.asReadonly=y1.bind(o),o}function y1(){let n=this[Et];if(n.readonlyFn===void 0){let e=()=>this();e[Et]=n,n.readonlyFn=e}return n.readonlyFn}var Wn=class{},Zl=new j("",{providedIn:"root",factory:()=>!1});var hg=new j(""),pg=new j("");var Na=(()=>{class n{view;node;constructor(t,r){this.view=t,this.node=r}static __NG_ELEMENT_ID__=B7}return n})();function B7(){return new Na(re(),_t())}var Sr=(()=>{class n{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new Ot(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new ae(t=>{t.next(!1),t.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=H({token:n,providedIn:"root",factory:()=>new n})}return n})(),Tr=(()=>{class n{internalPendingTasks=b(Sr);scheduler=b(Wn);errorHandler=b(an);add(){let t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t))}}run(t){let r=this.add();t().catch(this.errorHandler).finally(r)}static \u0275prov=H({token:n,providedIn:"root",factory:()=>new n})}return n})();function as(...n){}var Ql=(()=>{class n{static \u0275prov=H({token:n,providedIn:"root",factory:()=>new Mm})}return n})(),Mm=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[t,r]of this.queues)t===null?e||=this.flushQueue(r):e||=t.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let t=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,t=!0,r.run());return t}};function Ha(n){return{toString:n}.toString()}var v1="__parameters__";function Q7(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function X7(n,e,t){return Ha(()=>{let r=Q7(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,u,h){let f=c.hasOwnProperty(v1)?c[v1]:Object.defineProperty(c,v1,{value:[]})[v1];for(;f.length<=h;)f.push(null);return(f[h]=f[h]||[]).push(s),c}}return i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var cn=r_(X7("Optional"),8);function Y7(n){return typeof n=="function"}var E1=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function f3(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var Vt=(()=>{let n=()=>m3;return n.ngInherit=!0,n})();function m3(n){return n.type.prototype.ngOnChanges&&(n.setInput=e9),J7}function J7(){let n=y3(this),e=n?.current;if(e){let t=n.previous;if(t===Ui)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function e9(n,e,t,r,i){let o=this.declaredInputs[r],s=y3(n)||t9(n,{previous:Ui,current:null}),a=s.current||(s.current={}),c=s.previous,u=c[o];a[o]=new E1(u&&u.currentValue,t,c===Ui),f3(n,e,i,t)}var g3="__ngSimpleChanges__";function y3(n){return n[g3]||null}function t9(n,e){return n[g3]=e}var j_=[];var Re=function(n,e=null,t){for(let r=0;r<j_.length;r++){let i=j_[r];i(n,e,t)}};function n9(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=m3(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function v3(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:h}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),c&&(n.viewHooks??=[]).push(-t,c),u&&((n.viewHooks??=[]).push(t,u),(n.viewCheckHooks??=[]).push(t,u)),h!=null&&(n.destroyHooks??=[]).push(t,h)}}function I1(n,e,t){k3(n,e,3,t)}function M1(n,e,t,r){(n[ce]&3)===t&&k3(n,e,t,r)}function fg(n,e){let t=n[ce];(t&3)===e&&(t&=16383,t+=1,n[ce]=t)}function k3(n,e,t,r){let i=r!==void 0?n[rs]&65535:0,o=r??-1,s=e.length-1,a=0;for(let c=i;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(n[rs]+=65536),(a<o||o==-1)&&(r9(n,t,e,c),n[rs]=(n[rs]&4294901760)+c+2),c++}function B_(n,e){Re(4,n,e);let t=oe(null);try{e.call(n)}finally{oe(t),Re(5,n,e)}}function r9(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[ce]>>14<n[rs]>>16&&(n[ce]&3)===e&&(n[ce]+=16384,B_(a,o)):B_(a,o)}var Fa=-1,ls=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r,i){this.factory=e,this.name=i,this.canSeeViewProviders=t,this.injectImpl=r}};function i9(n){return(n.flags&8)!==0}function o9(n){return(n.flags&16)!==0}function s9(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];a9(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function w3(n){return n===3||n===4||n===6}function a9(n){return n.charCodeAt(0)===64}function Va(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?q_(n,t,i,null,e[++r]):q_(n,t,i,null,null))}}return n}function q_(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){i!==null&&(n[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),i!==null&&n.splice(o++,0,i)}function I3(n){return n!==Fa}function S1(n){return n&32767}function c9(n){return n>>16}function T1(n,e){let t=c9(n),r=e;for(;t>0;)r=r[ns],t--;return r}var bg=!0;function H_(n){let e=bg;return bg=n,e}var l9=256,M3=l9-1,_3=5,u9=0,Dr={};function d9(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(Jo)&&(r=t[Jo]),r==null&&(r=t[Jo]=u9++);let i=r&M3,o=1<<i;e.data[n+(i>>_3)]|=o}function D1(n,e){let t=C3(n,e);if(t!==-1)return t;let r=e[te];r.firstCreatePass&&(n.injectorIndex=e.length,mg(r.data,n),mg(e,null),mg(r.blueprint,null));let i=ty(n,e),o=n.injectorIndex;if(I3(i)){let s=S1(i),a=T1(i,e),c=a[te].data;for(let u=0;u<8;u++)e[o+u]=a[s+u]|c[s+u]}return e[o+8]=i,o}function mg(n,e){n.push(0,0,0,0,0,0,0,0,e)}function C3(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function ty(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=D3(i),r===null)return Fa;if(t++,i=i[ns],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return Fa}function Eg(n,e,t){d9(n,e,t)}function h9(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,i=0;for(;i<r;){let o=t[i];if(w3(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(o===e)return t[i+1];i=i+2}}}return null}function b3(n,e,t){if(t&8||n!==void 0)return n;t1(e,"NodeInjector")}function E3(n,e,t,r){if(t&8&&r===void 0&&(r=null),(t&3)===0){let i=n[ts],o=Mn(void 0);try{return i?i.get(e,r,t&8):Rm(e,r,t&8)}finally{Mn(o)}}return b3(r,e,t)}function S3(n,e,t,r=0,i){if(n!==null){if(e[ce]&2048&&!(r&2)){let s=g9(n,e,t,r,Dr);if(s!==Dr)return s}let o=T3(n,e,t,r,Dr);if(o!==Dr)return o}return E3(e,t,r,i)}function T3(n,e,t,r,i){let o=f9(t);if(typeof o=="function"){if(!cg(e,n,r))return r&1?b3(i,t,r):E3(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&8))t1(t);else return s}finally{lg()}}else if(typeof o=="number"){let s=null,a=C3(n,e),c=Fa,u=r&1?e[Qt][sn]:null;for((a===-1||r&4)&&(c=a===-1?ty(n,e):e[a+8],c===Fa||!U_(r,!1)?a=-1:(s=e[te],a=S1(c),e=T1(c,e)));a!==-1;){let h=e[te];if(z_(o,a,h.data)){let f=p9(a,e,t,s,r,u);if(f!==Dr)return f}c=e[a+8],c!==Fa&&U_(r,e[te].data[a+8]===u)&&z_(o,a,e)?(s=h,a=S1(c),e=T1(c,e)):a=-1}}return i}function p9(n,e,t,r,i,o){let s=e[te],a=s.data[n+8],c=r==null?ui(a)&&bg:r!=s&&(a.type&3)!==0,u=i&1&&o===a,h=_1(a,s,t,c,u);return h!==null?Jl(e,s,h,a,i):Dr}function _1(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,c=n.directiveStart,u=n.directiveEnd,h=o>>20,f=r?a:a+h,m=i?a+h:u;for(let y=f;y<m;y++){let M=s[y];if(y<c&&t===M||y>=c&&M.type===t)return y}if(i){let y=s[c];if(y&&Er(y)&&y.type===t)return c}return null}function Jl(n,e,t,r,i){let o=n[t],s=e.data;if(o instanceof ls){let a=o;if(a.resolving){let y=Qh(s[t]);throw Lm(y)}let c=H_(a.canSeeViewProviders);a.resolving=!0;let u=s[t].type||s[t],h,f=a.injectImpl?Mn(a.injectImpl):null,m=cg(n,r,0);try{o=n[t]=a.factory(void 0,i,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&n9(t,s[t],e)}finally{f!==null&&Mn(f),H_(c),a.resolving=!1,lg()}}return o}function f9(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(Jo)?n[Jo]:void 0;return typeof e=="number"?e>=0?e&M3:m9:e}function z_(n,e,t){let r=1<<n;return!!(t[e+(n>>_3)]&r)}function U_(n,e){return!(n&2)&&!(n&1&&e)}var cs=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return S3(this._tNode,this._lView,e,Zo(r),t)}};function m9(){return new cs(_t(),re())}function pi(n){return Ha(()=>{let e=n.prototype.constructor,t=e[Pl]||Sg(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[Pl]||Sg(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Sg(n){return _m(n)?()=>{let e=Sg(Ft(n));return e&&e()}:Qo(n)}function g9(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[ce]&2048&&!Aa(s);){let a=T3(o,s,t,r|2,Dr);if(a!==Dr)return a;let c=o.parent;if(!c){let u=s[zm];if(u){let h=u.get(t,Dr,r);if(h!==Dr)return h}c=D3(s),s=s[ns]}o=c}return i}function D3(n){let e=n[te],t=e.type;return t===2?e.declTNode:t===1?n[sn]:null}function ou(n){return h9(_t(),n)}function y9(){return za(_t(),re())}function za(n,e){return new Ae(Rn(n,e))}var Ae=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=y9}return n})();function x3(n){return n instanceof Ae?n.nativeElement:n}function v9(){return this._results[Symbol.iterator]()}var x1=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new Fe}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let r=o_(e);(this._changesDetected=!i_(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=v9};function A3(n){return(n.flags&128)===128}var ny=(function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n})(ny||{}),L3=new Map,k9=0;function w9(){return k9++}function I9(n){L3.set(n[Hl],n)}function Tg(n){L3.delete(n[Hl])}var $_="__ngContext__";function ja(n,e){br(e)?(n[$_]=e[Hl],I9(e)):n[$_]=e}function R3(n){return N3(n[Da])}function P3(n){return N3(n[An])}function N3(n){for(;n!==null&&!Zn(n);)n=n[An];return n}var Dg;function ry(n){Dg=n}function O3(){if(Dg!==void 0)return Dg;if(typeof document<"u")return document;throw new U(210,!1)}var K1=new j("",{providedIn:"root",factory:()=>M9}),M9="ng",Z1=new j(""),fi=new j("",{providedIn:"platform",factory:()=>"unknown"});var Q1=new j("",{providedIn:"root",factory:()=>O3().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var _9="h",C9="b";var F3="r";var V3="di";var j3=!1,B3=new j("",{providedIn:"root",factory:()=>j3});var iy=new j("");var b9=(n,e,t,r)=>{};function E9(n,e,t,r){b9(n,e,t,r)}function X1(n){return(n.flags&32)===32}var S9=()=>null;function q3(n,e,t=!1){return S9(n,e,t)}function H3(n,e){let t=n.contentQueries;if(t!==null){let r=oe(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];Wl(o),a.contentQueries(2,e[s],s)}}}finally{oe(r)}}}function xg(n,e,t){Wl(0);let r=oe(null);try{e(n,t)}finally{oe(r)}}function oy(n,e,t){if($m(e)){let r=oe(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let c=t[s];a.contentQueries(1,c,s)}}}finally{oe(r)}}}var hi=(function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n})(hi||{});var k1;function T9(){if(k1===void 0&&(k1=null,Fl.trustedTypes))try{k1=Fl.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return k1}function G_(n){return T9()?.createScriptURL(n)||n}var A1=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Yh})`}};function Ua(n){return n instanceof A1?n.changingThisBreaksApplicationSecurity:n}function sy(n,e){let t=z3(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${Yh})`)}return t===e}function z3(n){return n instanceof A1&&n.getTypeName()||null}var D9=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function U3(n){return n=String(n),n.match(D9)?n:"unsafe:"+n}var Y1=(function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n})(Y1||{});function $3(n){let e=W3();return e?e.sanitize(Y1.URL,n)||"":sy(n,"URL")?Ua(n):U3(Ea(n))}function G3(n){let e=W3();if(e)return G_(e.sanitize(Y1.RESOURCE_URL,n)||"");if(sy(n,"ResourceURL"))return G_(Ua(n));throw new U(904,!1)}function x9(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?G3:$3}function ay(n,e,t){return x9(e,t)(n)}function W3(){let n=re();return n&&n[_r].sanitizer}var A9=/^>|^->|<!--|-->|--!>|<!-$/g,L9=/(<|>)/g,R9="\u200B$1\u200B";function P9(n){return n.replace(A9,e=>e.replace(L9,R9))}function K3(n){return n instanceof Function?n():n}function N9(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}var Z3="ng-template";function O9(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&N9(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(cy(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function cy(n){return n.type===4&&n.value!==Z3}function F9(n,e,t){let r=n.type===4&&!t?Z3:n.value;return e===r}function V9(n,e,t){let r=4,i=n.attrs,o=i!==null?q9(i):0,s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!Qn(r)&&!Qn(c))return!1;if(s&&Qn(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!F9(n,c,t)||c===""&&e.length===1){if(Qn(r))return!1;s=!0}}else if(r&8){if(i===null||!O9(n,i,c,t)){if(Qn(r))return!1;s=!0}}else{let u=e[++a],h=j9(c,i,cy(n),t);if(h===-1){if(Qn(r))return!1;s=!0;continue}if(u!==""){let f;if(h>o?f="":f=i[h+1].toLowerCase(),r&2&&u!==f){if(Qn(r))return!1;s=!0}}}}return Qn(r)||s}function Qn(n){return(n&1)===0}function j9(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return H9(e,n)}function Q3(n,e,t=!1){for(let r=0;r<e.length;r++)if(V9(n,e[r],t))return!0;return!1}function B9(n){let e=n.attrs;if(e!=null){let t=e.indexOf(5);if((t&1)===0)return e[t+1]}return null}function q9(n){for(let e=0;e<n.length;e++){let t=n[e];if(w3(t))return e}return n.length}function H9(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function z9(n,e){e:for(let t=0;t<e.length;t++){let r=e[t];if(n.length===r.length){for(let i=0;i<n.length;i++)if(n[i]!==r[i])continue e;return!0}}return!1}function W_(n,e){return n?":not("+e.trim()+")":e}function U9(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Qn(s)&&(e+=W_(o,i),i=""),r=s,o=o||!Qn(r);t++}return i!==""&&(e+=W_(o,i)),e}function $9(n){return n.map(U9).join(",")}function G9(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!Qn(i))break;i=o}r++}return t.length&&e.push(1,...t),e}var mn={};function W9(n,e){return n.createText(e)}function K9(n,e,t){n.setValue(e,t)}function Z9(n,e){return n.createComment(P9(e))}function X3(n,e,t){return n.createElement(e,t)}function L1(n,e,t,r,i){n.insertBefore(e,t,r,i)}function Y3(n,e,t){n.appendChild(e,t)}function K_(n,e,t,r,i){r!==null?L1(n,e,t,r,i):Y3(n,e,t)}function J3(n,e,t){n.removeChild(null,e,t)}function Q9(n,e,t){n.setAttribute(e,"style",t)}function X9(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function eC(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&s9(n,e,r),i!==null&&X9(n,e,i),o!==null&&Q9(n,e,o)}function ly(n,e,t,r,i,o,s,a,c,u,h){let f=at+r,m=f+i,y=Y9(f,m),M=typeof u=="function"?u():u;return y[te]={type:n,blueprint:y,template:t,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:M,incompleteFirstPass:!1,ssrId:h}}function Y9(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:mn);return t}function J9(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=ly(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function uy(n,e,t,r,i,o,s,a,c,u,h){let f=e.blueprint.slice();return f[Kn]=i,f[ce]=r|4|128|8|64|1024,(u!==null||n&&n[ce]&2048)&&(f[ce]|=2048),Wm(f),f[Mt]=f[ns]=n,f[st]=t,f[_r]=s||n&&n[_r],f[Be]=a||n&&n[Be],f[ts]=c||n&&n[ts]||null,f[sn]=o,f[Hl]=w9(),f[es]=h,f[zm]=u,f[Qt]=e.type==2?n[Qt]:f,f}function eL(n,e,t){let r=Rn(e,n),i=J9(t),o=n[_r].rendererFactory,s=dy(n,uy(n,i,null,tC(t),r,e,null,o.createRenderer(r,t),null,null,null));return n[e.index]=s}function tC(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function nC(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function dy(n,e){return n[Da]?n[Hm][An]=e:n[Da]=e,n[Hm]=e,e}function q(n=1){rC(ct(),re(),di()+n,!1)}function rC(n,e,t,r){if(!r)if((e[ce]&3)===3){let o=n.preOrderCheckHooks;o!==null&&I1(e,o,t)}else{let o=n.preOrderHooks;o!==null&&M1(e,o,0,t)}Zi(t)}var J1=(function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n})(J1||{});function Ag(n,e,t,r){let i=oe(null);try{let[o,s,a]=n.inputs[t],c=null;(s&J1.SignalBased)!==0&&(c=e[o][Et]),c!==null&&c.transformFn!==void 0?r=c.transformFn(r):a!==null&&(r=a.call(e,r)),n.setInput!==null?n.setInput(e,c,r,t,o):f3(e,c,o,r)}finally{oe(i)}}var Yn=(function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n})(Yn||{}),tL;function hy(n,e){return tL(n,e)}function Oa(n,e,t,r,i){if(r!=null){let o,s=!1;Zn(r)?o=r:br(r)&&(s=!0,r=r[Kn]);let a=Ln(r);n===0&&t!==null?i==null?Y3(e,t,a):L1(e,t,a,i||null,!0):n===1&&t!==null?L1(e,t,a,i||null,!0):n===2?J3(e,a,s):n===3&&e.destroyNode(a),o!=null&&dL(e,n,o,t,i)}}function nL(n,e){iC(n,e),e[Kn]=null,e[sn]=null}function rL(n,e,t,r,i,o){r[Kn]=i,r[sn]=e,tp(n,r,t,1,i,o)}function iC(n,e){e[_r].changeDetectionScheduler?.notify(9),tp(n,e,e[Be],2,null,null)}function iL(n){let e=n[Da];if(!e)return gg(n[te],n);for(;e;){let t=null;if(br(e))t=e[Da];else{let r=e[Tt];r&&(t=r)}if(!t){for(;e&&!e[An]&&e!==n;)br(e)&&gg(e[te],e),e=e[Mt];e===null&&(e=n),br(e)&&gg(e[te],e),t=e&&e[An]}e=t}}function py(n,e){let t=n[os],r=t.indexOf(e);t.splice(r,1)}function ep(n,e){if(ss(e))return;let t=e[Be];t.destroyNode&&tp(n,e,t,3,null,null),iL(e)}function gg(n,e){if(ss(e))return;let t=oe(null);try{e[ce]&=-129,e[ce]|=256,e[Cn]&&Ho(e[Cn]),sL(n,e),oL(n,e),e[te].type===1&&e[Be].destroy();let r=e[$i];if(r!==null&&Zn(e[Mt])){r!==e[Mt]&&py(r,e);let i=e[Cr];i!==null&&i.detachView(n)}Tg(e)}finally{oe(t)}}function oL(n,e){let t=n.cleanup,r=e[Ta];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[t[s+1]];t[s].call(a)}r!==null&&(e[Ta]=null);let i=e[oi];if(i!==null){e[oi]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[li];if(o!==null){e[li]=null;for(let s of o)s.destroy()}}function sL(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof ls)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];Re(4,a,c);try{c.call(a)}finally{Re(5,a,c)}}else{Re(4,i,o);try{o.call(i)}finally{Re(5,i,o)}}}}}function oC(n,e,t){return aL(n,e.parent,t)}function aL(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[Kn];if(ui(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===hi.None||i===hi.Emulated)return null}return Rn(r,t)}function sC(n,e,t){return lL(n,e,t)}function cL(n,e,t){return n.type&40?Rn(n,t):null}var lL=cL,Z_;function fy(n,e,t,r){let i=oC(n,r,e),o=e[Be],s=r.parent||e[sn],a=sC(s,r,e);if(i!=null)if(Array.isArray(t))for(let c=0;c<t.length;c++)K_(o,i,t[c],a,!1);else K_(o,i,t,a,!1);Z_!==void 0&&Z_(o,r,e,t,i)}function Xl(n,e){if(e!==null){let t=e.type;if(t&3)return Rn(e,n);if(t&4)return Lg(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return Xl(n,r);{let i=n[e.index];return Zn(i)?Lg(-1,i):Ln(i)}}else{if(t&128)return Xl(n,e.next);if(t&32)return hy(e,n)()||Ln(n[e.index]);{let r=aC(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=zi(n[Qt]);return Xl(i,r)}else return Xl(n,e.next)}}}return null}function aC(n,e){if(e!==null){let r=n[Qt][sn],i=e.projection;return r.projection[i]}return null}function Lg(n,e){let t=Tt+n+1;if(t<e.length){let r=e[t],i=r[te].firstChild;if(i!==null)return Xl(r,i)}return e[Gi]}function my(n,e,t,r,i,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],c=t.type;if(s&&e===0&&(a&&ja(Ln(a),r),t.flags|=2),!X1(t))if(c&8)my(n,e,t.child,r,i,o,!1),Oa(e,n,i,a,o);else if(c&32){let u=hy(t,r),h;for(;h=u();)Oa(e,n,i,h,o);Oa(e,n,i,a,o)}else c&16?cC(n,e,r,t,i,o):Oa(e,n,i,a,o);t=s?t.projectionNext:t.next}}function tp(n,e,t,r,i,o){my(t,r,n.firstChild,e,i,o,!1)}function uL(n,e,t){let r=e[Be],i=oC(n,t,e),o=t.parent||e[sn],s=sC(o,t,e);cC(r,0,e,t,i,s)}function cC(n,e,t,r,i,o){let s=t[Qt],c=s[sn].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++){let h=c[u];Oa(e,n,i,h,o)}else{let u=c,h=s[Mt];A3(r)&&(u.flags|=128),my(n,e,u,h,i,o,!0)}}function dL(n,e,t,r,i){let o=t[Gi],s=Ln(t);o!==s&&Oa(e,n,r,o,i);for(let a=Tt;a<t.length;a++){let c=t[a];tp(c[te],c,n,e,r,o)}}function hL(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:Yn.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Yn.Important),n.setStyle(t,r,i,o))}}function lC(n,e,t,r,i){let o=di(),s=r&2;try{Zi(-1),s&&e.length>at&&rC(n,e,at,!1),Re(s?2:0,i,t),t(r,i)}finally{Zi(o),Re(s?3:1,i,t)}}function np(n,e,t){kL(n,e,t),(t.flags&64)===64&&wL(n,e,t)}function su(n,e,t=Rn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function pL(n,e,t,r){let o=r.get(B3,j3)||t===hi.ShadowDom,s=n.selectRootElement(e,o);return fL(s),s}function fL(n){mL(n)}var mL=()=>null;function gL(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function yL(n,e,t,r,i,o){let s=e[te];if(rp(n,s,e,t,r)){ui(n)&&uC(e,n.index);return}n.type&3&&(t=gL(t)),vL(n,e,t,r,i,o)}function vL(n,e,t,r,i,o){if(n.type&3){let s=Rn(n,e);r=o!=null?o(r,n.value||"",t):r,i.setProperty(s,t,r)}else n.type&12}function uC(n,e){let t=Pn(e,n);t[ce]&16||(t[ce]|=64)}function kL(n,e,t){let r=t.directiveStart,i=t.directiveEnd;ui(t)&&eL(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||D1(t,e);let o=t.initialInputs;for(let s=r;s<i;s++){let a=n.data[s],c=Jl(e,n,s,t);if(ja(c,e),o!==null&&_L(e,s-r,c,a,t,o),Er(a)){let u=Pn(t.index,e);u[st]=Jl(e,n,s,t)}}}function wL(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=x_();try{Zi(o);for(let a=r;a<i;a++){let c=n.data[a],u=e[a];u1(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&IL(c,u)}}finally{Zi(-1),u1(s)}}function IL(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function gy(n,e){let t=n.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let o=t[i];Q3(e,o.selectors,!1)&&(r??=[],Er(o)?r.unshift(o):r.push(o))}return r}function ML(n,e,t,r,i,o){let s=Rn(n,e);dC(e[Be],s,o,n.value,t,r,i)}function dC(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let a=s==null?Ea(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}function _L(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let c=s[a],u=s[a+1];Ag(r,t,c,u)}}function yy(n,e,t,r,i){let o=at+t,s=e[te],a=i(s,e,n,r,t);e[o]=a,La(n,!0);let c=n.type===2;return c?(eC(e[Be],a,n),(__()===0||xa(n))&&ja(a,e),C_()):ja(a,e),m1()&&(!c||!X1(n))&&fy(s,e,a,n),n}function vy(n){let e=n;return rg()?ig():(e=e.parent,La(e,!1)),e}function CL(n,e){let t=n[ts];if(!t)return;let r;try{r=t.get(an,null)}catch{r=null}r?.(e)}function rp(n,e,t,r,i){let o=n.inputs?.[r],s=n.hostDirectiveInputs?.[r],a=!1;if(s)for(let c=0;c<s.length;c+=2){let u=s[c],h=s[c+1],f=e.data[u];Ag(f,t[u],h,i),a=!0}if(o)for(let c of o){let u=t[c],h=e.data[c];Ag(h,u,r,i),a=!0}return a}function bL(n,e){let t=Pn(e,n),r=t[te];EL(r,t);let i=t[Kn];i!==null&&t[es]===null&&(t[es]=q3(i,t[ts])),Re(18),ky(r,t,t[st]),Re(19,t[st])}function EL(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function ky(n,e,t){h1(e);try{let r=n.viewQuery;r!==null&&xg(1,r,t);let i=n.template;i!==null&&lC(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[Cr]?.finishViewCreation(n),n.staticContentQueries&&H3(n,e),n.staticViewQueries&&xg(2,n.viewQuery,t);let o=n.components;o!==null&&SL(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[ce]&=-5,p1()}}function SL(n,e){for(let t=0;t<e.length;t++)bL(n,e[t])}function au(n,e,t,r){let i=oe(null);try{let o=e.tView,a=n[ce]&4096?4096:16,c=uy(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),u=n[e.index];c[$i]=u;let h=n[Cr];return h!==null&&(c[Cr]=h.createEmbeddedView(o)),ky(o,c,t),c}finally{oe(i)}}function Ba(n,e){return!e||e.firstChild===null||A3(n)}var Q_=!1,TL=new j("");function eu(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(Ln(o)),Zn(o)&&hC(o,r);let s=t.type;if(s&8)eu(n,e,t.child,r);else if(s&32){let a=hy(t,e),c;for(;c=a();)r.push(c)}else if(s&16){let a=aC(e,t);if(Array.isArray(a))r.push(...a);else{let c=zi(e[Qt]);eu(c[te],c,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function hC(n,e){for(let t=Tt;t<n.length;t++){let r=n[t],i=r[te].firstChild;i!==null&&eu(r[te],r,i,e)}n[Gi]!==n[Kn]&&e.push(n[Gi])}function pC(n){if(n[is]!==null){for(let e of n[is])e.impl.addSequence(e);n[is].length=0}}var fC=[];function DL(n){return n[Cn]??xL(n)}function xL(n){let e=fC.pop()??Object.create(LL);return e.lView=n,e}function AL(n){n.lView[Cn]!==n&&(n.lView=null,fC.push(n))}var LL=Z(R({},jo),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{Wi(n.lView)},consumerOnSignalRead(){this.lView[Cn]=this}});function RL(n){let e=n[Cn]??Object.create(PL);return e.lView=n,e}var PL=Z(R({},jo),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=zi(n.lView);for(;e&&!mC(e[te]);)e=zi(e);e&&Km(e)},consumerOnSignalRead(){this.lView[Cn]=this}});function mC(n){return n.type!==2}function gC(n){if(n[li]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[li])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[ce]&8192)}}var NL=100;function wy(n,e=0){let r=n[_r].rendererFactory,i=!1;i||r.begin?.();try{OL(n,e)}finally{i||r.end?.()}}function OL(n,e){let t=sg();try{Ra(!0),Rg(n,e);let r=0;for(;$l(n);){if(r===NL)throw new U(103,!1);r++,Rg(n,1)}}finally{Ra(t)}}function yC(n,e){og(e?Gl.Exhaustive:Gl.OnlyDirtyViews);try{wy(n)}finally{og(Gl.Off)}}function FL(n,e,t,r){if(ss(e))return;let i=e[ce],o=!1,s=!1;h1(e);let a=!0,c=null,u=null;o||(mC(n)?(u=DL(e),c=qo(u)):mh()===null?(a=!1,u=RL(e),c=qo(u)):e[Cn]&&(Ho(e[Cn]),e[Cn]=null));try{Wm(e),S_(n.bindingStartIndex),t!==null&&lC(n,e,t,2,r);let h=(i&3)===3;if(!o)if(h){let y=n.preOrderCheckHooks;y!==null&&I1(e,y,null)}else{let y=n.preOrderHooks;y!==null&&M1(e,y,0,null),fg(e,0)}if(s||VL(e),gC(e),vC(e,0),n.contentQueries!==null&&H3(n,e),!o)if(h){let y=n.contentCheckHooks;y!==null&&I1(e,y)}else{let y=n.contentHooks;y!==null&&M1(e,y,1),fg(e,1)}BL(n,e);let f=n.components;f!==null&&wC(e,f,0);let m=n.viewQuery;if(m!==null&&xg(2,m,r),!o)if(h){let y=n.viewCheckHooks;y!==null&&I1(e,y)}else{let y=n.viewHooks;y!==null&&M1(e,y,2),fg(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[s1]){for(let y of e[s1])y();e[s1]=null}o||(pC(e),e[ce]&=-73)}catch(h){throw o||Wi(e),h}finally{u!==null&&(aa(u,c),a&&AL(u)),p1()}}function vC(n,e){for(let t=R3(n);t!==null;t=P3(t))for(let r=Tt;r<t.length;r++){let i=t[r];kC(i,e)}}function VL(n){for(let e=R3(n);e!==null;e=P3(e)){if(!(e[ce]&2))continue;let t=e[os];for(let r=0;r<t.length;r++){let i=t[r];Km(i)}}}function jL(n,e,t){Re(18);let r=Pn(e,n);kC(r,t),Re(19,r[st])}function kC(n,e){a1(n)&&Rg(n,e)}function Rg(n,e){let r=n[te],i=n[ce],o=n[Cn],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&ca(o)),s||=!1,o&&(o.dirty=!1),n[ce]&=-9217,s)FL(r,n,r.template,n[st]);else if(i&8192){let a=oe(null);try{gC(n),vC(n,1);let c=r.components;c!==null&&wC(n,c,1),pC(n)}finally{oe(a)}}}function wC(n,e,t){for(let r=0;r<e.length;r++)jL(n,e[r],t)}function BL(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)Zi(~i);else{let o=i,s=t[++r],a=t[++r];D_(s,o);let c=e[o];Re(24,c),a(2,c),Re(25,c)}}}finally{Zi(-1)}}function Iy(n,e){let t=sg()?64:1088;for(n[_r].changeDetectionScheduler?.notify(e);n;){n[ce]|=t;let r=zi(n);if(Aa(n)&&!r)return n;n=r}return null}function IC(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function MC(n,e){let t=Tt+e;if(t<n.length)return n[t]}function cu(n,e,t,r=!0){let i=e[te];if(qL(i,e,n,t),r){let s=Lg(t,n),a=e[Be],c=a.parentNode(n[Gi]);c!==null&&rL(i,n[sn],a,e,c,s)}let o=e[es];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function _C(n,e){let t=tu(n,e);return t!==void 0&&ep(t[te],t),t}function tu(n,e){if(n.length<=Tt)return;let t=Tt+e,r=n[t];if(r){let i=r[$i];i!==null&&i!==n&&py(i,r),e>0&&(n[t-1][An]=r[An]);let o=jl(n,Tt+e);nL(r[te],r);let s=o[Cr];s!==null&&s.detachView(o[te]),r[Mt]=null,r[An]=null,r[ce]&=-129}return r}function qL(n,e,t,r){let i=Tt+r,o=t.length;r>0&&(t[i-1][An]=e),r<o-Tt?(e[An]=t[i],Pm(t,Tt+r,e)):(t.push(e),e[An]=null),e[Mt]=t;let s=e[$i];s!==null&&t!==s&&CC(s,e);let a=e[Cr];a!==null&&a.insertView(n),c1(e),e[ce]|=128}function CC(n,e){let t=n[os],r=e[Mt];if(br(r))n[ce]|=2;else{let i=r[Mt][Qt];e[Qt]!==i&&(n[ce]|=2)}t===null?n[os]=[e]:t.push(e)}var Qi=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,t=e[te];return eu(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t}get context(){return this._lView[st]}set context(e){this._lView[st]=e}get destroyed(){return ss(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Mt];if(Zn(e)){let t=e[zl],r=t?t.indexOf(this):-1;r>-1&&(tu(e,r),jl(t,r))}this._attachedToViewContainer=!1}ep(this._lView[te],this._lView)}onDestroy(e){Zm(this._lView,e)}markForCheck(){Iy(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[ce]&=-129}reattach(){c1(this._lView),this._lView[ce]|=128}detectChanges(){this._lView[ce]|=1024,wy(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new U(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Aa(this._lView),t=this._lView[$i];t!==null&&!e&&py(t,this._lView),iC(this._lView[te],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new U(902,!1);this._appRef=e;let t=Aa(this._lView),r=this._lView[$i];r!==null&&!t&&CC(r,this._lView),c1(this._lView)}};var he=(()=>{class n{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=HL;constructor(t,r,i){this._declarationLView=t,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,i){let o=au(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:r,dehydratedView:i});return new Qi(o)}}return n})();function HL(){return ip(_t(),re())}function ip(n,e){return n.type&4?new he(e,n,za(n,e)):null}function $a(n,e,t,r,i){let o=n.data[e];if(o===null)o=zL(n,e,t,r,i),T_()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=b_();o.injectorIndex=s===null?-1:s.injectorIndex}return La(o,!0),o}function zL(n,e,t,r,i){let o=ng(),s=rg(),a=s?o:o&&o.parent,c=n.data[e]=$L(n,a,t,e,r,i);return UL(n,c,o,s),c}function UL(n,e,t,r){n.firstChild===null&&(n.firstChild=e),t!==null&&(r?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function $L(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return Jm()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var Wte=new RegExp(`^(\\d+)*(${C9}|${_9})*(.*)`);function GL(n){let e=n[Um]??[],r=n[Mt][Be],i=[];for(let o of e)o.data[V3]!==void 0?i.push(o):WL(o,r);n[Um]=i}function WL(n,e){let t=0,r=n.firstChild;if(r){let i=n.data[F3];for(;t<i;){let o=r.nextSibling;J3(e,r,!1),r=o,t++}}}var KL=()=>null,ZL=()=>null;function R1(n,e){return KL(n,e)}function bC(n,e,t){return ZL(n,e,t)}var EC=class{},op=class{},Pg=class{resolveComponentFactory(e){throw new U(917,!1)}},lu=class{static NULL=new Pg},us=class{},jt=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>QL()}return n})();function QL(){let n=re(),e=_t(),t=Pn(e.index,n);return(br(t)?t:n)[Be]}var SC=(()=>{class n{static \u0275prov=H({token:n,providedIn:"root",factory:()=>null})}return n})();var C1={},Ng=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){let i=this.injector.get(e,C1,r);return i!==C1||t===C1?i:this.parentInjector.get(e,t,r)}};function P1(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=Jh(i,a);else if(o==2){let c=a,u=e[++s];r=Jh(r,c+": "+u+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function Y(n,e=0){let t=re();if(t===null)return Q(n,e);let r=_t();return S3(r,t,Ft(n),e)}function My(){let n="invalid";throw new Error(n)}function TC(n,e,t,r,i){let o=r===null?null:{"":-1},s=i(n,t);if(s!==null){let a=s,c=null,u=null;for(let h of s)if(h.resolveHostDirectives!==null){[a,c,u]=h.resolveHostDirectives(s);break}JL(n,e,t,a,o,c,u)}o!==null&&r!==null&&XL(t,r,o)}function XL(n,e,t){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new U(-301,!1);r.push(e[i],o)}}function YL(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function JL(n,e,t,r,i,o,s){let a=r.length,c=!1;for(let m=0;m<a;m++){let y=r[m];!c&&Er(y)&&(c=!0,YL(n,t,m)),Eg(D1(t,e),n,y.type)}oR(t,n.data.length,a);for(let m=0;m<a;m++){let y=r[m];y.providersResolver&&y.providersResolver(y)}let u=!1,h=!1,f=nC(n,e,a,null);a>0&&(t.directiveToIndex=new Map);for(let m=0;m<a;m++){let y=r[m];if(t.mergedAttrs=Va(t.mergedAttrs,y.hostAttrs),tR(n,t,e,f,y),iR(f,y,i),s!==null&&s.has(y)){let[L,D]=s.get(y);t.directiveToIndex.set(y.type,[f,L+t.directiveStart,D+t.directiveStart])}else(o===null||!o.has(y))&&t.directiveToIndex.set(y.type,f);y.contentQueries!==null&&(t.flags|=4),(y.hostBindings!==null||y.hostAttrs!==null||y.hostVars!==0)&&(t.flags|=64);let M=y.type.prototype;!u&&(M.ngOnChanges||M.ngOnInit||M.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),u=!0),!h&&(M.ngOnChanges||M.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),h=!0),f++}eR(n,t,o)}function eR(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=n.data[r];if(t===null||!t.has(i))X_(0,e,i,r),X_(1,e,i,r),J_(e,r,!1);else{let o=t.get(i);Y_(0,e,o,r),Y_(1,e,o,r),J_(e,r,!0)}}}function X_(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;n===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),DC(e,o)}}function Y_(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;n===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),DC(e,s)}}function DC(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function J_(n,e,t){let{attrs:r,inputs:i,hostDirectiveInputs:o}=n;if(r===null||!t&&i===null||t&&o===null||cy(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let c=r[a];if(c===0){a+=4;continue}else if(c===5){a+=2;continue}else if(typeof c=="number")break;if(!t&&i.hasOwnProperty(c)){let u=i[c];for(let h of u)if(h===e){s??=[],s.push(c,r[a+1]);break}}else if(t&&o.hasOwnProperty(c)){let u=o[c];for(let h=0;h<u.length;h+=2)if(u[h]===e){s??=[],s.push(u[h+1],r[a+1]);break}}a+=2}n.initialInputs??=[],n.initialInputs.push(s)}function tR(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=Qo(i.type,!0)),s=new ls(o,Er(i),Y,null);n.blueprint[r]=s,t[r]=s,nR(n,e,r,nC(n,t,i.hostVars,mn),i)}function nR(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;rR(s)!=a&&s.push(a),s.push(t,r,o)}}function rR(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function iR(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Er(e)&&(t[""]=n)}}function oR(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function _y(n,e,t,r,i,o,s,a){let c=e[te],u=c.consts,h=Nn(u,s),f=$a(c,n,t,r,h);return o&&TC(c,e,f,Nn(u,a),i),f.mergedAttrs=Va(f.mergedAttrs,f.attrs),f.attrs!==null&&P1(f,f.attrs,!1),f.mergedAttrs!==null&&P1(f,f.mergedAttrs,!0),c.queries!==null&&c.queries.elementStart(c,f),f}function Cy(n,e){v3(n,e),$m(e)&&n.queries.elementEnd(e)}function sR(n,e,t,r,i,o){let s=e.consts,a=Nn(s,i),c=$a(e,n,t,r,a);if(c.mergedAttrs=Va(c.mergedAttrs,c.attrs),o!=null){let u=Nn(s,o);c.localNames=[];for(let h=0;h<u.length;h+=2)c.localNames.push(u[h],-1)}return c.attrs!==null&&P1(c,c.attrs,!1),c.mergedAttrs!==null&&P1(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function by(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function uu(n,e,t){return n[e]=t}function aR(n,e){return n[e]}function bn(n,e,t){if(t===mn)return!1;let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function N1(n,e,t,r){let i=bn(n,e,t);return bn(n,e+1,r)||i}function cR(n,e,t,r,i){let o=N1(n,e,t,r);return bn(n,e+2,i)||o}function lR(n,e,t,r,i,o){let s=N1(n,e,t,r);return N1(n,e+2,i,o)||s}function b1(n,e,t){return function r(i){let o=ui(n)?Pn(n.index,e):e;Iy(o,5);let s=e[st],a=e3(e,s,t,i),c=r.__ngNextListenerFn__;for(;c;)a=e3(e,s,c,i)&&a,c=c.__ngNextListenerFn__;return a}}function e3(n,e,t,r){let i=oe(null);try{return Re(6,e,t),t(r)!==!1}catch(o){return CL(n,o),!1}finally{Re(7,e,t),oe(i)}}function xC(n,e,t,r,i,o,s,a){let c=xa(n),u=!1,h=null;if(!r&&c&&(h=uR(e,t,o,n.index)),h!==null){let f=h.__ngLastListenerFn__||h;f.__ngNextListenerFn__=s,h.__ngLastListenerFn__=s,u=!0}else{let f=Rn(n,t),m=r?r(f):f;E9(t,m,o,a);let y=i.listen(m,o,a),M=r?L=>r(Ln(L[n.index])):n.index;AC(M,e,t,o,a,y,!1)}return u}function uR(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[Ta],c=i[o+2];return a&&a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function AC(n,e,t,r,i,o,s){let a=e.firstCreatePass?Xm(e):null,c=Qm(t),u=c.length;c.push(i,o),a&&a.push(r,n,u,(u+1)*(s?-1:1))}function t3(n,e,t,r,i,o){let s=e[t],a=e[te],u=a.data[t].outputs[r],f=s[u].subscribe(o);AC(n.index,a,e,i,o,f,!0)}var Og=Symbol("BINDING");var O1=class extends lu{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=ci(e);return new ds(t,this.ngModule)}};function dR(n){return Object.keys(n).map(e=>{let[t,r,i]=n[e],o={propName:t,templateName:e,isSignal:(r&J1.SignalBased)!==0};return i&&(o.transform=i),o})}function hR(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function pR(n,e,t){let r=e instanceof Ye?e:e?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new Ng(t,r):t}function fR(n){let e=n.get(us,null);if(e===null)throw new U(407,!1);let t=n.get(SC,null),r=n.get(Wn,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:r,ngReflect:!1}}function mR(n,e){let t=LC(n);return X3(e,t,t==="svg"?m_:t==="math"?g_:null)}function LC(n){return(n.selectors[0][0]||"div").toLowerCase()}var ds=class extends op{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=dR(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=hR(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=$9(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,i,o,s){Re(22);let a=oe(null);try{let c=this.componentDef,u=gR(r,c,s,o),h=pR(c,i||this.ngModule,e),f=fR(h),m=f.rendererFactory.createRenderer(null,c),y=r?pL(m,r,c.encapsulation,h):mR(c,m),M=s?.some(n3)||o?.some(x=>typeof x!="function"&&x.bindings.some(n3)),L=uy(null,u,null,512|tC(c),null,null,f,m,h,null,q3(y,h,!0));L[at]=y,h1(L);let D=null;try{let x=_y(at,L,2,"#host",()=>u.directiveRegistry,!0,0);y&&(eC(m,y,x),ja(y,L)),np(u,L,x),oy(u,x,L),Cy(u,x),t!==void 0&&vR(x,this.ngContentSelectors,t),D=Pn(x.index,L),L[st]=D[st],ky(u,L,null)}catch(x){throw D!==null&&Tg(D),Tg(L),x}finally{Re(23),p1()}return new F1(this.componentType,L,!!M)}finally{oe(a)}}};function gR(n,e,t,r){let i=n?["ng-version","20.2.4"]:G9(e.selectors[0]),o=null,s=null,a=0;if(t)for(let h of t)a+=h[Og].requiredVars,h.create&&(h.targetIdx=0,(o??=[]).push(h)),h.update&&(h.targetIdx=0,(s??=[]).push(h));if(r)for(let h=0;h<r.length;h++){let f=r[h];if(typeof f!="function")for(let m of f.bindings){a+=m[Og].requiredVars;let y=h+1;m.create&&(m.targetIdx=y,(o??=[]).push(m)),m.update&&(m.targetIdx=y,(s??=[]).push(m))}}let c=[e];if(r)for(let h of r){let f=typeof h=="function"?h:h.type,m=Vm(f);c.push(m)}return ly(0,null,yR(o,s),1,a,c,null,null,null,[i],null)}function yR(n,e){return!n&&!e?null:t=>{if(t&1&&n)for(let r of n)r.create();if(t&2&&e)for(let r of e)r.update()}}function n3(n){let e=n[Og].kind;return e==="input"||e==="twoWay"}var F1=class extends EC{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t,r){super(),this._rootLView=t,this._hasInputBindings=r,this._tNode=Ul(t[te],at),this.location=za(this._tNode,t),this.instance=Pn(this._tNode.index,t)[st],this.hostView=this.changeDetectorRef=new Qi(t,void 0),this.componentType=e}setInput(e,t){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let i=this._rootLView,o=rp(r,i[te],i,e,t);this.previousInputValues.set(e,t);let s=Pn(r.index,i);Iy(s,1)}get injector(){return new cs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function vR(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null&&o.length?Array.from(o):null)}}var Xi=(()=>{class n{static __NG_ELEMENT_ID__=kR}return n})();function kR(){let n=_t();return PC(n,re())}var wR=Xi,RC=class extends wR{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return za(this._hostTNode,this._hostLView)}get injector(){return new cs(this._hostTNode,this._hostLView)}get parentInjector(){let e=ty(this._hostTNode,this._hostLView);if(I3(e)){let t=T1(e,this._hostLView),r=S1(e),i=t[te].data[r+8];return new cs(i,t)}else return new cs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=r3(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-Tt}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=R1(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,Ba(this._hostTNode,s)),a}createComponent(e,t,r,i,o,s,a){let c=e&&!Y7(e),u;if(c)u=t;else{let D=t||{};u=D.index,r=D.injector,i=D.projectableNodes,o=D.environmentInjector||D.ngModuleRef,s=D.directives,a=D.bindings}let h=c?e:new ds(ci(e)),f=r||this.parentInjector;if(!o&&h.ngModule==null){let x=(c?f:this.parentInjector).get(Ye,null);x&&(o=x)}let m=ci(h.componentType??{}),y=R1(this._lContainer,m?.id??null),M=y?.firstChild??null,L=h.create(f,i,M,o,s,a);return this.insertImpl(L.hostView,u,Ba(this._hostTNode,y)),L}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(k_(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[Mt],u=new RC(c,c[sn],c[Mt]);u.detach(u.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return cu(s,i,o,r),e.attachToViewContainerRef(),Pm(yg(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=r3(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=tu(this._lContainer,t);r&&(jl(yg(this._lContainer),t),ep(r[te],r))}detach(e){let t=this._adjustIndex(e,-1),r=tu(this._lContainer,t);return r&&jl(yg(this._lContainer),t)!=null?new Qi(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function r3(n){return n[zl]}function yg(n){return n[zl]||(n[zl]=[])}function PC(n,e){let t,r=e[n.index];return Zn(r)?t=r:(t=IC(r,e,null,n),e[n.index]=t,dy(e,t)),MR(t,e,n,r),new RC(t,n,e)}function IR(n,e){let t=n[Be],r=t.createComment(""),i=Rn(e,n),o=t.parentNode(i);return L1(t,o,r,t.nextSibling(i),!1),r}var MR=bR,_R=()=>!1;function CR(n,e,t){return _R(n,e,t)}function bR(n,e,t,r){if(n[Gi])return;let i;t.type&8?i=Ln(r):i=IR(e,t),n[Gi]=i}var Fg=class n{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},Vg=class n{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let r=e.contentQueries!==null?e.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){let s=t.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new n(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)Sy(e,t).matches!==null&&this.queries[t].setDirty()}},V1=class{flags;read;predicate;constructor(e,t,r=null){this.flags=t,this.read=r,typeof e=="string"?this.predicate=AR(e):this.predicate=e}},jg=class n{queries;constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){let i=t!==null?t.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,t!==null?t.push(o):t=[o])}return t!==null?new n(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Bg=class n{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,t=-1){this.metadata=e,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==t;)r=r.parent;return t===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,t,ER(t,o)),this.matchTNodeWithReadOption(e,t,_1(t,e,o,!1,!1))}else r===he?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,_1(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===Ae||i===Xi||i===he&&t.type&4)this.addMatch(t.index,-2);else{let o=_1(t,e,i,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function ER(n,e){let t=n.localNames;if(t!==null){for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1]}return null}function SR(n,e){return n.type&11?za(n,e):n.type&4?ip(n,e):null}function TR(n,e,t,r){return t===-1?SR(e,n):t===-2?DR(n,e,r):Jl(n,n[te],t,e)}function DR(n,e,t){if(t===Ae)return za(e,n);if(t===he)return ip(e,n);if(t===Xi)return PC(e,n)}function NC(n,e,t,r){let i=e[Cr].queries[r];if(i.matches===null){let o=n.data,s=t.matches,a=[];for(let c=0;s!==null&&c<s.length;c+=2){let u=s[c];if(u<0)a.push(null);else{let h=o[u];a.push(TR(e,h,s[c+1],t.metadata.read))}}i.matches=a}return i.matches}function qg(n,e,t,r){let i=n.queries.getByIndex(t),o=i.matches;if(o!==null){let s=NC(n,e,i,t);for(let a=0;a<o.length;a+=2){let c=o[a];if(c>0)r.push(s[a/2]);else{let u=o[a+1],h=e[-c];for(let f=Tt;f<h.length;f++){let m=h[f];m[$i]===m[Mt]&&qg(m[te],m,u,r)}if(h[os]!==null){let f=h[os];for(let m=0;m<f.length;m++){let y=f[m];qg(y[te],y,u,r)}}}}}return r}function Ey(n,e){return n[Cr].queries[e].queryList}function OC(n,e,t){let r=new x1((t&4)===4);return M_(n,e,r,r.destroy),(e[Cr]??=new Vg).queries.push(new Fg(r))-1}function xR(n,e,t){let r=ct();return r.firstCreatePass&&(VC(r,new V1(n,e,t),-1),(e&2)===2&&(r.staticViewQueries=!0)),OC(r,re(),e)}function FC(n,e,t,r){let i=ct();if(i.firstCreatePass){let o=_t();VC(i,new V1(e,t,r),o.index),LR(i,n),(t&2)===2&&(i.staticContentQueries=!0)}return OC(i,re(),t)}function AR(n){return n.split(",").map(e=>e.trim())}function VC(n,e,t){n.queries===null&&(n.queries=new jg),n.queries.track(new Bg(e,t))}function LR(n,e){let t=n.contentQueries||(n.contentQueries=[]),r=t.length?t[t.length-1]:-1;e!==r&&t.push(n.queries.length-1,e)}function Sy(n,e){return n.queries.getByIndex(e)}function jC(n,e){let t=n[te],r=Sy(t,e);return r.crossesNgTemplate?qg(t,n,e,[]):NC(t,n,r,e)}function Ty(n,e,t){let r,i=Cl(()=>{r._dirtyCounter();let o=RR(r,n);if(e&&o===void 0)throw new U(-951,!1);return o});return r=i[Et],r._dirtyCounter=Je(0),r._flatValue=void 0,i}function Dy(n){return Ty(!0,!1,n)}function xy(n){return Ty(!0,!0,n)}function BC(n){return Ty(!1,!1,n)}function qC(n,e){let t=n[Et];t._lView=re(),t._queryIndex=e,t._queryList=Ey(t._lView,e),t._queryList.onDirty(()=>t._dirtyCounter.update(r=>r+1))}function RR(n,e){let t=n._lView,r=n._queryIndex;if(t===void 0||r===void 0||t[ce]&4)return e?void 0:Kt;let i=Ey(t,r),o=jC(t,r);return i.reset(o,x3),e?i.first:i._changesDetected||n._flatValue===void 0?n._flatValue=i.toArray():n._flatValue}var i3=new Set;function Jn(n){i3.has(n)||(i3.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var hs=class{},sp=class{};var j1=class extends hs{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new O1(this);constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t;let o=Fm(e);this._bootstrapComponents=K3(o.bootstrap),this._r3Injector=ug(e,t,[{provide:hs,useValue:this},{provide:lu,useValue:this.componentFactoryResolver},...r],si(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},B1=class extends sp{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new j1(this.moduleType,e,[])}};var nu=class extends hs{injector;componentFactoryResolver=new O1(this);instance=null;constructor(e){super();let t=new Yo([...e.providers,{provide:hs,useValue:this},{provide:lu,useValue:this.componentFactoryResolver}],e.parent||ql(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Ga(n,e,t=null){return new nu({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var PR=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=jm(!1,t.type),i=r.length>0?Ga([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=H({token:n,providedIn:"environment",factory:()=>new n(Q(Ye))})}return n})();function et(n){return Ha(()=>{let e=HC(n),t=Z(R({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===ny.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(PR).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||hi.Emulated,styles:n.styles||Kt,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&Jn("NgStandalone"),zC(t);let r=n.dependencies;return t.directiveDefs=o3(r,NR),t.pipeDefs=o3(r,c_),t.id=VR(t),t})}function NR(n){return ci(n)||Vm(n)}function Bt(n){return Ha(()=>({type:n.type,bootstrap:n.bootstrap||Kt,declarations:n.declarations||Kt,imports:n.imports||Kt,exports:n.exports||Kt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function OR(n,e){if(n==null)return Ui;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a,c;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,c=i[3]||null):(o=i,s=i,a=J1.None,c=null),t[o]=[r,a,c],e[o]=s}return t}function FR(n){if(n==null)return Ui;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function ye(n){return Ha(()=>{let e=HC(n);return zC(e),e})}function HC(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||Ui,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||Kt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:OR(n.inputs,e),outputs:FR(n.outputs),debugInfo:null}}function zC(n){n.features?.forEach(e=>e(n))}function o3(n,e){return n?()=>{let t=typeof n=="function"?n():n,r=[];for(let i of t){let o=e(i);o!==null&&r.push(o)}return r}:null}function VR(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function jR(n){return Object.getPrototypeOf(n.prototype).constructor}function On(n){let e=jR(n.type),t=!0,r=[n];for(;e;){let i;if(Er(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new U(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=vg(n.inputs),s.declaredInputs=vg(n.declaredInputs),s.outputs=vg(n.outputs);let a=i.hostBindings;a&&UR(n,a);let c=i.viewQuery,u=i.contentQueries;if(c&&HR(n,c),u&&zR(n,u),BR(n,i),Y5(n.outputs,i.outputs),Er(i)&&i.data.animation){let h=n.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===On&&(t=!1)}}e=Object.getPrototypeOf(e)}qR(r)}function BR(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t])}}function qR(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Va(i.hostAttrs,t=Va(t,i.hostAttrs))}}function vg(n){return n===Ui?{}:n===Kt?[]:n}function HR(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function zR(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function UR(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function UC(n,e,t,r,i,o,s,a){if(t.firstCreatePass){n.mergedAttrs=Va(n.mergedAttrs,n.attrs);let h=n.tView=ly(2,n,i,o,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,t.consts,null);t.queries!==null&&(t.queries.template(t,n),h.queries=t.queries.embeddedTView(n))}a&&(n.flags|=a),La(n,!1);let c=GR(t,e,n,r);m1()&&fy(t,e,c,n),ja(c,e);let u=IC(c,e,c,n);e[r+at]=u,dy(e,u),CR(u,n,e)}function $R(n,e,t,r,i,o,s,a,c,u,h){let f=t+at,m;return e.firstCreatePass?(m=$a(e,f,4,s||null,a||null),l1()&&TC(e,n,m,Nn(e.consts,u),gy),v3(e,m)):m=e.data[f],UC(m,n,e,t,r,i,o,c),xa(m)&&np(e,n,m),u!=null&&su(n,m,h),m}function ru(n,e,t,r,i,o,s,a,c,u,h){let f=t+at,m;if(e.firstCreatePass){if(m=$a(e,f,4,s||null,a||null),u!=null){let y=Nn(e.consts,u);m.localNames=[];for(let M=0;M<y.length;M+=2)m.localNames.push(y[M],-1)}}else m=e.data[f];return UC(m,n,e,t,r,i,o,c),u!=null&&su(n,m,h),m}function Fn(n,e,t,r,i,o,s,a){let c=re(),u=ct(),h=Nn(u.consts,o);return $R(c,u,n,e,t,r,i,h,void 0,s,a),Fn}var GR=WR;function WR(n,e,t,r){return Kl(!0),e[Be].createComment("")}var ap=(function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n})(ap||{}),fs=new j(""),$C=!1,Hg=class extends Fe{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,p_()&&(this.destroyRef=b(Xt,{optional:!0})??void 0,this.pendingTasks=b(Sr,{optional:!0})??void 0)}emit(e){let t=oe(null);try{super.next(e)}finally{oe(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Ke&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},ht=Hg;function GC(n){let e,t;function r(){n=as;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function s3(n){return queueMicrotask(()=>n()),()=>{n=as}}var Ay="isAngularZone",q1=Ay+"_ID",KR=0,Ce=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new ht(!1);onMicrotaskEmpty=new ht(!1);onStable=new ht(!1);onError=new ht(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=$C}=e;if(typeof Zone>"u")throw new U(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,XR(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Ay)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new U(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new U(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,ZR,as,as);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},ZR={};function Ly(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function QR(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){GC(()=>{n.callbackScheduled=!1,zg(n),n.isCheckStableRunning=!0,Ly(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),zg(n)}function XR(n){let e=()=>{QR(n)},t=KR++;n._inner=n._inner.fork({name:"angular",properties:{[Ay]:!0,[q1]:t,[q1+t]:!0},onInvokeTask:(r,i,o,s,a,c)=>{if(YR(c))return r.invokeTask(o,s,a,c);try{return a3(n),r.invokeTask(o,s,a,c)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),c3(n)}},onInvoke:(r,i,o,s,a,c,u)=>{try{return a3(n),r.invoke(o,s,a,c,u)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!JR(c)&&e(),c3(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,zg(n),Ly(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function zg(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function a3(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function c3(n){n._nesting--,Ly(n)}var H1=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new ht;onMicrotaskEmpty=new ht;onStable=new ht;onError=new ht;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function YR(n){return WC(n,"__ignore_ng_zone__")}function JR(n){return WC(n,"__scheduler_tick__")}function WC(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var Ry=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=H({token:n,providedIn:"root",factory:()=>new n})}return n})(),KC=[0,1,2,3],ZC=(()=>{class n{ngZone=b(Ce);scheduler=b(Wn);errorHandler=b(_n,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){b(fs,{optional:!0})}execute(){let t=this.sequences.size>0;t&&Re(16),this.executing=!0;for(let r of KC)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&Re(17)}register(t){let{view:r}=t;r!==void 0?((r[is]??=[]).push(t),Wi(r),r[ce]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,r){return r?r.run(ap.AFTER_NEXT_RENDER,t):t()}static \u0275prov=H({token:n,providedIn:"root",factory:()=>new n})}return n})(),z1=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,t,r,i,o,s=null){this.impl=e,this.hooks=t,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[is];e&&(this.view[is]=e.filter(t=>t!==this))}};function ms(n,e){let t=e?.injector??b(Ue);return Jn("NgAfterNextRender"),tP(n,t,e,!0)}function eP(n){return n instanceof Function?[void 0,void 0,n,void 0]:[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function tP(n,e,t,r){let i=e.get(Ry);i.impl??=e.get(ZC);let o=e.get(fs,null,{optional:!0}),s=t?.manualCleanup!==!0?e.get(Xt):null,a=e.get(Na,null,{optional:!0}),c=new z1(i.impl,eP(n),a?.view,r,s,o?.snapshot(null));return i.impl.register(c),c}var Py=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var Ny=new j("");function Yi(n){return!!n&&typeof n.then=="function"}function Oy(n){return!!n&&typeof n.subscribe=="function"}var Fy=new j("");function cp(n){return Zt([{provide:Fy,multi:!0,useValue:n}])}var Vy=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=b(Fy,{optional:!0})??[];injector=b(Ue);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=ot(this.injector,i);if(Yi(o))t.push(o);else if(Oy(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),du=new j("");function QC(){H2(()=>{let n="";throw new U(600,n)})}function XC(n){return n.isBoundToModule}var nP=10;var mi=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=b(an);afterRenderManager=b(Ry);zonelessEnabled=b(Zl);rootEffectScheduler=b(Ql);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new Fe;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=b(Sr);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(de(t=>!t))}constructor(){b(fs,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=b(Ye);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=Ue.NULL){return this._injector.get(Ce).run(()=>{Re(10);let s=t instanceof op;if(!this._injector.get(Vy).done){let M="";throw new U(405,M)}let c;s?c=t:c=this._injector.get(lu).resolveComponentFactory(t),this.componentTypes.push(c.componentType);let u=XC(c)?void 0:this._injector.get(hs),h=r||c.selector,f=c.create(i,[],h,u),m=f.location.nativeElement,y=f.injector.get(Ny,null);return y?.registerApplication(m),f.onDestroy(()=>{this.detachView(f.hostView),Yl(this.components,f),y?.unregisterApplication(m)}),this._loadComponent(f),Re(11,f),f})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Re(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(ap.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new U(101,!1);let t=oe(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,oe(t),this.afterTick.next(),Re(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(us,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<nP;)Re(14),this.synchronizeOnce(),Re(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let t=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!$l(i))continue;let o=r&&!this.zonelessEnabled?0:1;wy(i,o),t=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}t||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>$l(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;Yl(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(t),this._injector.get(du,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Yl(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new U(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Yl(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}var kg="aria";function lp(n,e){let t=re(),r=Ki();if(bn(t,r,e)){let i=ct(),o=f1();if(rp(o,i,t,n,e))ui(o)&&uC(t,o.index);else{let a=Rn(o,t),c=rP(n);dC(t[Be],a,null,o.value,c,e,null)}}return lp}function rP(n){return n.charAt(kg.length)!=="-"?kg+"-"+n.slice(kg.length).toLowerCase():n}function er(n,e,t,r){let i=re(),o=Ki();if(bn(i,o,e)){let s=ct(),a=f1();ML(a,i,n,e,t,r)}return er}var jy=new j("",{providedIn:"root",factory:()=>!1}),By=new j("",{providedIn:"root",factory:()=>iP}),iP=4e3;var ene=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";function up(){return re()[Qt][st]}var Ug=class{destroy(e){}updateValue(e,t){}swap(e,t){let r=Math.min(e,t),i=Math.max(e,t),o=this.detach(i);if(i-r>1){let s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(e,t){this.attach(t,this.detach(e))}};function wg(n,e,t,r,i){return n===t&&Object.is(e,r)?1:Object.is(i(n,e),i(t,r))?-1:0}function oP(n,e,t){let r,i,o=0,s=n.length-1,a=void 0;if(Array.isArray(e)){let c=e.length-1;for(;o<=s&&o<=c;){let u=n.at(o),h=e[o],f=wg(o,u,o,h,t);if(f!==0){f<0&&n.updateValue(o,h),o++;continue}let m=n.at(s),y=e[c],M=wg(s,m,c,y,t);if(M!==0){M<0&&n.updateValue(s,y),s--,c--;continue}let L=t(o,u),D=t(s,m),x=t(o,h);if(Object.is(x,D)){let N=t(c,y);Object.is(N,L)?(n.swap(o,s),n.updateValue(s,y),c--,s--):n.move(s,o),n.updateValue(o,h),o++;continue}if(r??=new U1,i??=u3(n,o,s,t),$g(n,r,o,x))n.updateValue(o,h),o++,s++;else if(i.has(x))r.set(L,n.detach(o)),s--;else{let N=n.create(o,e[o]);n.attach(o,N),o++,s++}}for(;o<=c;)l3(n,r,t,o,e[o]),o++}else if(e!=null){let c=e[Symbol.iterator](),u=c.next();for(;!u.done&&o<=s;){let h=n.at(o),f=u.value,m=wg(o,h,o,f,t);if(m!==0)m<0&&n.updateValue(o,f),o++,u=c.next();else{r??=new U1,i??=u3(n,o,s,t);let y=t(o,f);if($g(n,r,o,y))n.updateValue(o,f),o++,s++,u=c.next();else if(!i.has(y))n.attach(o,n.create(o,f)),o++,s++,u=c.next();else{let M=t(o,h);r.set(M,n.detach(o)),s--}}}for(;!u.done;)l3(n,r,t,n.length,u.value),u=c.next()}for(;o<=s;)n.destroy(n.detach(s--));r?.forEach(c=>{n.destroy(c)})}function $g(n,e,t,r){return e!==void 0&&e.has(r)?(n.attach(t,e.get(r)),e.delete(r),!0):!1}function l3(n,e,t,r,i){if($g(n,e,r,t(r,i)))n.updateValue(r,i);else{let o=n.create(r,i);n.attach(r,o)}}function u3(n,e,t,r){let i=new Set;for(let o=e;o<=t;o++)i.add(r(o,n.at(o)));return i}var U1=class{kvMap=new Map;_vMap=void 0;has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let t=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(t)?(this.kvMap.set(e,this._vMap.get(t)),this._vMap.delete(t)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,t){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,t)}else this.kvMap.set(e,t)}forEach(e){for(let[t,r]of this.kvMap)if(e(r,t),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,t)}}};function qe(n,e,t,r,i,o,s,a){Jn("NgControlFlow");let c=re(),u=ct(),h=Nn(u.consts,o);return ru(c,u,n,e,t,r,i,h,256,s,a),qy}function qy(n,e,t,r,i,o,s,a){Jn("NgControlFlow");let c=re(),u=ct(),h=Nn(u.consts,o);return ru(c,u,n,e,t,r,i,h,512,s,a),qy}function He(n,e){Jn("NgControlFlow");let t=re(),r=Ki(),i=t[r]!==mn?t[r]:-1,o=i!==-1?$1(t,at+i):void 0,s=0;if(bn(t,r,n)){let a=oe(null);try{if(o!==void 0&&_C(o,s),n!==-1){let c=at+n,u=$1(t,c),h=Zg(t[te],c),f=bC(u,h,t),m=au(t,h,e,{dehydratedView:f});cu(u,m,s,Ba(h,f))}}finally{oe(a)}}else if(o!==void 0){let a=MC(o,s);a!==void 0&&(a[st]=e)}}var Gg=class{lContainer;$implicit;$index;constructor(e,t,r){this.lContainer=e,this.$implicit=t,this.$index=r}get $count(){return this.lContainer.length-Tt}};function Ji(n){return n}var Wg=class{hasEmptyBlock;trackByFn;liveCollection;constructor(e,t,r){this.hasEmptyBlock=e,this.trackByFn=t,this.liveCollection=r}};function tr(n,e,t,r,i,o,s,a,c,u,h,f,m){Jn("NgControlFlow");let y=re(),M=ct(),L=c!==void 0,D=re(),x=a?s.bind(D[Qt][st]):s,N=new Wg(L,x);D[at+n]=N,ru(y,M,n+1,e,t,r,i,Nn(M.consts,o),256),L&&ru(y,M,n+2,c,u,h,f,Nn(M.consts,m),512)}var Kg=class extends Ug{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(e,t,r){super(),this.lContainer=e,this.hostLView=t,this.templateTNode=r}get length(){return this.lContainer.length-Tt}at(e){return this.getLView(e)[st].$implicit}attach(e,t){let r=t[es];this.needsIndexUpdate||=e!==this.length,cu(this.lContainer,t,e,Ba(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,sP(this.lContainer,e)}create(e,t){let r=R1(this.lContainer,this.templateTNode.tView.ssrId),i=au(this.hostLView,this.templateTNode,new Gg(this.lContainer,t,e),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(e){ep(e[te],e),this.operationsCounter?.recordDestroy()}updateValue(e,t){this.getLView(e)[st].$implicit=t}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[st].$index=e}getLView(e){return aP(this.lContainer,e)}};function nr(n){let e=oe(null),t=di();try{let r=re(),i=r[te],o=r[t],s=t+1,a=$1(r,s);if(o.liveCollection===void 0){let u=Zg(i,s);o.liveCollection=new Kg(a,r,u)}else o.liveCollection.reset();let c=o.liveCollection;if(oP(c,n,o.trackByFn),c.updateIndexes(),o.hasEmptyBlock){let u=Ki(),h=c.length===0;if(bn(r,u,h)){let f=t+2,m=$1(r,f);if(h){let y=Zg(i,f),M=bC(m,y,r),L=au(r,y,void 0,{dehydratedView:M});cu(m,L,0,Ba(y,M))}else i.firstUpdatePass&&GL(m),_C(m,0)}}}finally{oe(e)}}function $1(n,e){return n[e]}function sP(n,e){return tu(n,e)}function aP(n,e){return MC(n,e)}function Zg(n,e){return Ul(n,e)}function Ie(n,e,t){let r=re(),i=Ki();if(bn(r,i,e)){let o=ct(),s=f1();yL(s,r,n,e,r[Be],t)}return Ie}function Qg(n,e,t,r,i){rp(e,n,t,i?"class":"style",r)}function V(n,e,t,r){let i=re(),o=i[te],s=n+at,a=o.firstCreatePass?_y(s,i,2,e,gy,l1(),t,r):o.data[s];if(yy(a,i,n,e,YC),xa(a)){let c=i[te];np(c,i,a),oy(c,a,i)}return r!=null&&su(i,a),V}function F(){let n=ct(),e=_t(),t=vy(e);return n.firstCreatePass&&Cy(n,t),eg(t)&&tg(),Ym(),t.classesWithoutHost!=null&&i9(t)&&Qg(n,t,re(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&o9(t)&&Qg(n,t,re(),t.stylesWithoutHost,!1),F}function Se(n,e,t,r){return V(n,e,t,r),F(),Se}function Dt(n,e,t,r){let i=re(),o=i[te],s=n+at,a=o.firstCreatePass?sR(s,o,2,e,t,r):o.data[s];return yy(a,i,n,e,YC),r!=null&&su(i,a),Dt}function xt(){let n=_t(),e=vy(n);return eg(e)&&tg(),Ym(),xt}function dp(n,e,t,r){return Dt(n,e,t,r),xt(),dp}var YC=(n,e,t,r,i)=>(Kl(!0),X3(e[Be],r,O_()));function gi(n,e,t){let r=re(),i=r[te],o=n+at,s=i.firstCreatePass?_y(o,r,8,"ng-container",gy,l1(),e,t):i.data[o];if(yy(s,r,n,"ng-container",cP),xa(s)){let a=r[te];np(a,r,s),oy(a,s,r)}return t!=null&&su(r,s),gi}function yi(){let n=ct(),e=_t(),t=vy(e);return n.firstCreatePass&&Cy(n,t),yi}function Wa(n,e,t){return gi(n,e,t),yi(),Wa}var cP=(n,e,t,r,i)=>(Kl(!0),Z9(e[Be],""));function Vn(){return re()}var hu="en-US";var lP=hu;function JC(n){typeof n=="string"&&(lP=n.toLowerCase().replace(/_/g,"-"))}function Pe(n,e,t){let r=re(),i=ct(),o=_t();return uP(i,r,r[Be],o,n,e,t),Pe}function hp(n,e,t){let r=re(),i=ct(),o=_t();return(o.type&3||t)&&xC(o,i,r,t,r[Be],n,e,b1(o,r,e)),hp}function uP(n,e,t,r,i,o,s){let a=!0,c=null;if((r.type&3||s)&&(c??=b1(r,e,o),xC(r,n,e,s,t,i,o,c)&&(a=!1)),a){let u=r.outputs?.[i],h=r.hostDirectiveOutputs?.[i];if(h&&h.length)for(let f=0;f<h.length;f+=2){let m=h[f],y=h[f+1];c??=b1(r,e,o),t3(r,e,m,y,i,c)}if(u&&u.length)for(let f of u)c??=b1(r,e,o),t3(r,e,f,i,i,c)}}function ue(n=1){return N_(n)}function dP(n,e){let t=null,r=B9(n);for(let i=0;i<e.length;i++){let o=e[i];if(o==="*"){t=i;continue}if(r===null?Q3(n,o,!0):z9(r,o))return i}return t}function Ka(n){let e=re()[Qt][sn];if(!e.projection){let t=n?n.length:1,r=e.projection=s_(t,null),i=r.slice(),o=e.child;for(;o!==null;){if(o.type!==128){let s=n?dP(o,n):0;s!==null&&(i[s]?i[s].projectionNext=o:r[s]=o,i[s]=o)}o=o.next}}}function Za(n,e=0,t,r,i,o){let s=re(),a=ct(),c=r?n+1:null;c!==null&&ru(s,a,c,r,i,o,null,t);let u=$a(a,at+n,16,null,t||null);u.projection===null&&(u.projection=e),ig();let f=!s[es]||Jm();s[Qt][sn].projection[u.projection]===null&&c!==null?hP(s,a,c):f&&!X1(u)&&uL(a,s,u)}function hP(n,e,t){let r=at+t,i=e.data[r],o=n[r],s=R1(o,i.tView.ssrId),a=au(n,i,void 0,{dehydratedView:s});cu(o,a,0,Ba(i,s))}function Hy(n,e,t,r){FC(n,e,t,r)}function zy(n){let e=re(),t=ct(),r=d1();Wl(r+1);let i=Sy(t,r);if(n.dirty&&v_(e)===((i.metadata.flags&2)===2)){if(i.matches===null)n.reset([]);else{let o=jC(e,r);n.reset(o,x3),n.notifyOnChanges()}return!0}return!1}function Uy(){return Ey(re(),d1())}function Yt(n,e,t,r,i){qC(e,FC(n,t,r,i))}function eo(n,e,t,r){qC(n,xR(e,t,r))}function pu(n=1){Wl(d1()+n)}function jn(n){let e=E_();return y_(e,at+n)}function w1(n,e){return n<<17|e<<2}function ps(n){return n>>17&32767}function pP(n){return(n&2)==2}function fP(n,e){return n&131071|e<<17}function Xg(n){return n|2}function qa(n){return(n&131068)>>2}function Ig(n,e){return n&-131069|e<<2}function mP(n){return(n&1)===1}function Yg(n){return n|1}function gP(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=ps(s),c=qa(s);n[r]=t;let u=!1,h;if(Array.isArray(t)){let f=t;h=f[1],(h===null||Sa(f,h)>0)&&(u=!0)}else h=t;if(i)if(c!==0){let m=ps(n[a+1]);n[r+1]=w1(m,a),m!==0&&(n[m+1]=Ig(n[m+1],r)),n[a+1]=fP(n[a+1],r)}else n[r+1]=w1(a,0),a!==0&&(n[a+1]=Ig(n[a+1],r)),a=r;else n[r+1]=w1(c,0),a===0?a=r:n[c+1]=Ig(n[c+1],r),c=r;u&&(n[r+1]=Xg(n[r+1])),d3(n,h,r,!0),d3(n,h,r,!1),yP(e,h,n,r,o),s=w1(a,c),o?e.classBindings=s:e.styleBindings=s}function yP(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&Sa(o,e)>=0&&(t[r+1]=Yg(t[r+1]))}function d3(n,e,t,r){let i=n[t+1],o=e===null,s=r?ps(i):qa(i),a=!1;for(;s!==0&&(a===!1||o);){let c=n[s],u=n[s+1];vP(c,e)&&(a=!0,n[s+1]=r?Yg(u):Xg(u)),s=r?ps(u):qa(u)}a&&(n[t+1]=r?Xg(i):Yg(i))}function vP(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?Sa(n,e)>=0:!1}var Xn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function kP(n){return n.substring(Xn.key,Xn.keyEnd)}function wP(n){return IP(n),eb(n,tb(n,0,Xn.textEnd))}function eb(n,e){let t=Xn.textEnd;return t===e?-1:(e=Xn.keyEnd=MP(n,Xn.key=e,t),tb(n,e,t))}function IP(n){Xn.key=0,Xn.keyEnd=0,Xn.value=0,Xn.valueEnd=0,Xn.textEnd=n.length}function tb(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function MP(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}function gn(n,e){return CP(n,e,null,!0),gn}function $y(n){bP(AP,_P,n,!0)}function _P(n,e){for(let t=wP(e);t>=0;t=eb(e,t))r1(n,kP(e),!0)}function CP(n,e,t,r){let i=re(),o=ct(),s=ag(2);if(o.firstUpdatePass&&rb(o,n,s,r),e!==mn&&bn(i,s,e)){let a=o.data[di()];ib(o,a,i,i[Be],n,i[s+1]=RP(e,t),r,s)}}function bP(n,e,t,r){let i=ct(),o=ag(2);i.firstUpdatePass&&rb(i,null,o,r);let s=re();if(t!==mn&&bn(s,o,t)){let a=i.data[di()];if(ob(a,r)&&!nb(i,o)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(t=Jh(c,t||"")),Qg(i,a,s,t,r)}else LP(i,a,s,s[Be],s[o+1],s[o+1]=xP(n,e,t),r,o)}}function nb(n,e){return e>=n.expandoStartIndex}function rb(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[di()],s=nb(n,t);ob(o,r)&&e===null&&!s&&(e=!1),e=EP(i,o,e,r),gP(i,o,e,t,s,r)}}function EP(n,e,t,r){let i=A_(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=Mg(null,n,e,t,r),t=iu(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=Mg(i,n,e,t,r),o===null){let c=SP(n,e,r);c!==void 0&&Array.isArray(c)&&(c=Mg(null,n,e,c[1],r),c=iu(c,e.attrs,r),TP(n,e,r,c))}else o=DP(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function SP(n,e,t){let r=t?e.classBindings:e.styleBindings;if(qa(r)!==0)return n[ps(r)]}function TP(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[ps(i)]=r}function DP(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=iu(r,s,t)}return iu(r,e.attrs,t)}function Mg(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=iu(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function iu(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),r1(n,s,t?!0:e[++o]))}return n===void 0?null:n}function xP(n,e,t){if(t==null||t==="")return Kt;let r=[],i=Ua(t);if(Array.isArray(i))for(let o=0;o<i.length;o++)n(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&n(r,o,i[o]);else typeof i=="string"&&e(r,i);return r}function AP(n,e,t){let r=String(e);r!==""&&!r.includes(" ")&&r1(n,r,t)}function LP(n,e,t,r,i,o,s,a){i===mn&&(i=Kt);let c=0,u=0,h=0<i.length?i[0]:null,f=0<o.length?o[0]:null;for(;h!==null||f!==null;){let m=c<i.length?i[c+1]:void 0,y=u<o.length?o[u+1]:void 0,M=null,L;h===f?(c+=2,u+=2,m!==y&&(M=f,L=y)):f===null||h!==null&&h<f?(c+=2,M=h):(u+=2,M=f,L=y),M!==null&&ib(n,e,t,r,M,L,s,a),h=c<i.length?i[c]:null,f=u<o.length?o[u]:null}}function ib(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let c=n.data,u=c[a+1],h=mP(u)?h3(c,e,t,i,qa(u),s):void 0;if(!G1(h)){G1(o)||pP(u)&&(o=h3(c,null,t,i,a,s));let f=Gm(di(),t);hL(r,s,f,i,o)}}function h3(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let c=n[i],u=Array.isArray(c),h=u?c[1]:c,f=h===null,m=t[i+1];m===mn&&(m=f?Kt:void 0);let y=f?i1(m,r):h===r?m:void 0;if(u&&!G1(y)&&(y=i1(c,r)),G1(y)&&(a=y,s))return a;let M=n[i+1];i=s?ps(M):qa(M)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=i1(c,r))}return a}function G1(n){return n!==void 0}function RP(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=si(Ua(n)))),n}function ob(n,e){return(n.flags&(e?8:16))!==0}function z(n,e=""){let t=re(),r=ct(),i=n+at,o=r.firstCreatePass?$a(r,i,1,e,null):r.data[i],s=PP(r,t,o,e,n);t[i]=s,m1()&&fy(r,t,s,o),La(o,!1)}var PP=(n,e,t,r,i)=>(Kl(!0),W9(e[Be],r));function NP(n,e,t,r=""){return bn(n,Ki(),t)?e+Ea(t)+r:mn}function At(n){return ln("",n),At}function ln(n,e,t){let r=re(),i=NP(r,n,e,t);return i!==mn&&OP(r,di(),i),ln}function OP(n,e,t){let r=Gm(e,n);K9(n[Be],r,t)}function Gy(n){return bn(re(),Ki(),n)?Ea(n):mn}function FP(n,e,t){let r=ct();if(r.firstCreatePass){let i=Er(n);Jg(t,r.data,r.blueprint,i,!0),Jg(e,r.data,r.blueprint,i,!1)}}function Jg(n,e,t,r,i){if(n=Ft(n),Array.isArray(n))for(let o=0;o<n.length;o++)Jg(n[o],e,t,r,i);else{let o=ct(),s=re(),a=_t(),c=Xo(n)?n:Ft(n.provide),u=qm(n),h=a.providerIndexes&1048575,f=a.directiveStart,m=a.providerIndexes>>20;if(Xo(n)||!n.multi){let y=new ls(u,i,Y,null),M=Cg(c,e,i?h:h+m,f);M===-1?(Eg(D1(a,s),o,c),_g(o,n,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(y),s.push(y)):(t[M]=y,s[M]=y)}else{let y=Cg(c,e,h+m,f),M=Cg(c,e,h,h+m),L=y>=0&&t[y],D=M>=0&&t[M];if(i&&!D||!i&&!L){Eg(D1(a,s),o,c);let x=BP(i?jP:VP,t.length,i,r,u,n);!i&&D&&(t[M].providerFactory=x),_g(o,n,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(x),s.push(x)}else{let x=sb(t[i?M:y],u,!i&&r);_g(o,n,y>-1?y:M,x)}!i&&r&&D&&t[M].componentProviders++}}}function _g(n,e,t,r){let i=Xo(e),o=h_(e);if(i||o){let c=(o?Ft(e.useClass):e).prototype.ngOnDestroy;if(c){let u=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let h=u.indexOf(t);h===-1?u.push(t,[r,c]):u[h+1].push(r,c)}else u.push(t,c)}}}function sb(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Cg(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function VP(n,e,t,r,i){return ey(this.multi,[])}function jP(n,e,t,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,c=Jl(r,r[te],this.providerFactory.index,i);s=c.slice(0,a),ey(o,s);for(let u=a;u<c.length;u++)s.push(c[u])}else s=[],ey(o,s);return s}function ey(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function BP(n,e,t,r,i,o){let s=new ls(n,t,Y,null);return s.multi=[],s.index=e,s.componentProviders=0,sb(s,i,r&&!t),s}function xr(n,e=[]){return t=>{t.providersResolver=(r,i)=>FP(r,i?i(n):n,e)}}function pp(n,e,t){let r=Pa()+n,i=re();return i[r]===mn?uu(i,r,t?e.call(t):e()):aR(i,r)}function vi(n,e,t,r){return qP(re(),Pa(),n,e,t,r)}function Qa(n,e,t,r,i){return HP(re(),Pa(),n,e,t,r,i)}function Wy(n,e,t,r,i,o){return zP(re(),Pa(),n,e,t,r,i,o)}function Ky(n,e,t,r,i,o,s){return UP(re(),Pa(),n,e,t,r,i,o,s)}function fp(n,e){let t=n[e];return t===mn?void 0:t}function qP(n,e,t,r,i,o){let s=e+t;return bn(n,s,i)?uu(n,s+1,o?r.call(o,i):r(i)):fp(n,s+1)}function HP(n,e,t,r,i,o,s){let a=e+t;return N1(n,a,i,o)?uu(n,a+2,s?r.call(s,i,o):r(i,o)):fp(n,a+2)}function zP(n,e,t,r,i,o,s,a){let c=e+t;return cR(n,c,i,o,s)?uu(n,c+3,a?r.call(a,i,o,s):r(i,o,s)):fp(n,c+3)}function UP(n,e,t,r,i,o,s,a,c){let u=e+t;return lR(n,u,i,o,s,a)?uu(n,u+4,c?r.call(c,i,o,s,a):r(i,o,s,a)):fp(n,u+4)}function Ar(n,e){return ip(n,e)}var W1=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},Zy=(()=>{class n{compileModuleSync(t){return new B1(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=Fm(t),o=K3(i.declarations).reduce((s,a)=>{let c=ci(a);return c&&s.push(new ds(c)),s},[]);return new W1(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var $P=(()=>{class n{zone=b(Ce);changeDetectionScheduler=b(Wn);applicationRef=b(mi);applicationErrorHandler=b(an);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(t){this.applicationErrorHandler(t)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ab=new j("",{factory:()=>!1});function Qy({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new Ce(Z(R({},Yy()),{scheduleInRootZone:t})),[{provide:Ce,useFactory:n},{provide:ai,multi:!0,useFactory:()=>{let r=b($P,{optional:!0});return()=>r.initialize()}},{provide:ai,multi:!0,useFactory:()=>{let r=b(GP);return()=>{r.initialize()}}},e===!0?{provide:hg,useValue:!0}:[],{provide:pg,useValue:t??$C},{provide:an,useFactory:()=>{let r=b(Ce),i=b(Ye),o;return s=>{r.runOutsideAngular(()=>{i.destroyed&&!o?setTimeout(()=>{throw s}):(o??=i.get(_n),o.handleError(s))})}}}]}function Xy(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,r=Qy({ngZoneFactory:()=>{let i=Yy(n);return i.scheduleInRootZone=t,i.shouldCoalesceEventChangeDetection&&Jn("NgZone_CoalesceEvent"),new Ce(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return Zt([{provide:ab,useValue:!0},{provide:Zl,useValue:!1},r])}function Yy(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var GP=(()=>{class n{subscription=new Ke;initialized=!1;zone=b(Ce);pendingTasks=b(Sr);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ce.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ce.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var cb=(()=>{class n{applicationErrorHandler=b(an);appRef=b(mi);taskService=b(Sr);ngZone=b(Ce);zonelessEnabled=b(Zl);tracing=b(fs,{optional:!0});disableScheduling=b(hg,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Ke;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(q1):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(b(pg,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof H1||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?s3:GC;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(q1+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(t),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,s3(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function WP(){return typeof $localize<"u"&&$localize.locale||hu}var mp=new j("",{providedIn:"root",factory:()=>b(mp,{optional:!0,skipSelf:!0})||WP()});var fu=class{destroyed=!1;listeners=null;errorHandler=b(_n,{optional:!0});destroyRef=b(Xt);constructor(){this.destroyRef.onDestroy(()=>{this.destroyed=!0,this.listeners=null})}subscribe(e){if(this.destroyed)throw new U(953,!1);return(this.listeners??=[]).push(e),{unsubscribe:()=>{let t=this.listeners?.indexOf(e);t!==void 0&&t!==-1&&this.listeners?.splice(t,1)}}}emit(e){if(this.destroyed){console.warn(Mr(953,!1));return}if(this.listeners===null)return;let t=oe(null);try{for(let r of this.listeners)try{r(e)}catch(i){this.errorHandler?.handleError(i)}}finally{oe(t)}}};function pt(n){return W5(n)}function Jt(n,e){return Cl(n,e?.equal)}var Jy=class{[Et];constructor(e){this[Et]=e}destroy(){this[Et].destroy()}};function Xa(n,e){let t=e?.injector??b(Ue),r=e?.manualCleanup!==!0?t.get(Xt):null,i,o=t.get(Na,null,{optional:!0}),s=t.get(Wn);return o!==null?(i=QP(o.view,s,n),r instanceof Ol&&r._lView===o.view&&(r=null)):i=XP(n,t.get(Ql),s),i.injector=t,r!==null&&(i.onDestroyFn=r.onDestroy(()=>i.destroy())),new Jy(i)}var lb=Z(R({},K5),{cleanupFns:void 0,zone:null,onDestroyFn:as,run(){let n=Ra(!1);try{Z5(this)}finally{Ra(n)}},cleanup(){if(!this.cleanupFns?.length)return;let n=oe(null);try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[],oe(n)}}}),KP=Z(R({},lb),{consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){Ho(this),this.onDestroyFn(),this.cleanup(),this.scheduler.remove(this)}}),ZP=Z(R({},lb),{consumerMarkedDirty(){this.view[ce]|=8192,Wi(this.view),this.notifier.notify(13)},destroy(){Ho(this),this.onDestroyFn(),this.cleanup(),this.view[li]?.delete(this)}});function QP(n,e,t){let r=Object.create(ZP);return r.view=n,r.zone=typeof Zone<"u"?Zone.current:null,r.notifier=e,r.fn=ub(r,t),n[li]??=new Set,n[li].add(r),r.consumerMarkedDirty(r),r}function XP(n,e,t){let r=Object.create(KP);return r.fn=ub(r,n),r.scheduler=e,r.notifier=t,r.zone=typeof Zone<"u"?Zone.current:null,r.scheduler.add(r),r.notifier.notify(12),r}function ub(n,e){return()=>{e(t=>(n.cleanupFns??=[]).push(t))}}var yp=Symbol("InputSignalNode#UNSET"),vb=Z(R({},vh),{transformFn:void 0,applyValueToInputSignal(n,e){zo(n,e)}});function kb(n,e){let t=Object.create(vb);t.value=n,t.transformFn=e?.transform;function r(){if(Bo(t),t.value===yp){let i=null;throw new U(-950,i)}return t.value}return r[Et]=t,r}var gs=class{attributeName;constructor(e){this.attributeName=e}__NG_ELEMENT_ID__=()=>ou(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},gN=new j("");gN.__NG_ELEMENT_ID__=n=>{let e=_t();if(e===null)throw new U(204,!1);if(e.type&2)return e.value;if(n&8)return null;throw new U(204,!1)};function en(n){return new fu}function db(n,e){return kb(n,e)}function yN(n){return kb(yp,n)}var K=(db.required=yN,db);function hb(n,e){return Dy(e)}function vN(n,e){return xy(e)}var to=(hb.required=vN,hb);function pb(n,e){return Dy(e)}function kN(n,e){return xy(e)}var yn=(pb.required=kN,pb);function wb(n,e){return BC(e)}function Ib(n,e){let t=Object.create(vb),r=new fu;t.value=n;function i(){return Bo(t),fb(t.value),t.value}return i[Et]=t,i.asReadonly=y1.bind(i),i.set=o=>{t.equal(t.value,o)||(zo(t,o),r.emit(o))},i.update=o=>{fb(t.value),i.set(o(t.value))},i.subscribe=r.subscribe.bind(r),i.destroyRef=r.destroyRef,i}function fb(n){if(n===yp)throw new U(952,!1)}function mb(n,e){return Ib(n,e)}function wN(n){return Ib(yp,n)}var Ya=(mb.required=wN,mb);var ys=class{full;major;minor;patch;constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},Mb=new ys("20.2.4");var ev=new j(""),IN=new j("");function mu(n){return!n.moduleRef}function MN(n){let e=mu(n)?n.r3Injector:n.moduleRef.injector,t=e.get(Ce);return t.run(()=>{mu(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(an),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:r})}),mu(n)){let o=()=>e.destroy(),s=n.platformInjector.get(ev);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(ev);s.add(o),n.moduleRef.onDestroy(()=>{Yl(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return CN(r,t,()=>{let o=e.get(Sr),s=o.add(),a=e.get(Vy);return a.runInitializers(),a.donePromise.then(()=>{let c=e.get(mp,hu);if(JC(c||hu),!e.get(IN,!0))return mu(n)?e.get(mi):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(mu(n)){let h=e.get(mi);return n.rootComponent!==void 0&&h.bootstrap(n.rootComponent),h}else return _N?.(n.moduleRef,n.allPlatformModules),n.moduleRef}).finally(()=>void o.remove(s))})})}var _N;function CN(n,e,t){try{let r=t();return Yi(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n(r)),r}}var gp=null;function bN(n=[],e){return Ue.create({name:e,providers:[{provide:Bl,useValue:"platform"},{provide:ev,useValue:new Set([()=>gp=null])},...n]})}function EN(n=[]){if(gp)return gp;let e=bN(n);return gp=e,QC(),SN(e),e}function SN(n){let e=n.get(Z1,null);ot(n,()=>{e?.forEach(t=>t())})}function iv(){return!1}var Bn=(()=>{class n{static __NG_ELEMENT_ID__=TN}return n})();function TN(n){return DN(_t(),re(),(n&16)===16)}function DN(n,e,t){if(ui(n)&&!t){let r=Pn(n.index,e);return new Qi(r,r)}else if(n.type&175){let r=e[Qt];return new Qi(r,e)}return null}var tv=class{constructor(){}supports(e){return e instanceof Map||by(e)}create(){return new nv}},nv=class{_records=new Map;_mapHead=null;_appendAfter=null;_previousMapHead=null;_changesHead=null;_changesTail=null;_additionsHead=null;_additionsTail=null;_removalsHead=null;_removalsTail=null;get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(e){let t;for(t=this._mapHead;t!==null;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;t!==null;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;t!==null;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}diff(e){if(!e)e=new Map;else if(!(e instanceof Map||by(e)))throw new U(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{let o=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,o)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;r!==null;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){let r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){let i=this._records.get(e);this._maybeAddToChanges(i,t);let o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}let r=new rv(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;e!==null;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;e!=null;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){this._additionsHead===null?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){this._changesHead===null?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}},rv=class{key;previousValue=null;currentValue=null;_nextPrevious=null;_next=null;_prev=null;_nextAdded=null;_nextRemoved=null;_nextChanged=null;constructor(e){this.key=e}};function gb(){return new ov([new tv])}var ov=(()=>{class n{static \u0275prov=H({token:n,providedIn:"root",factory:gb});factories;constructor(t){this.factories=t}static create(t,r){if(r){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:()=>{let r=b(n,{optional:!0,skipSelf:!0});return n.create(t,r||gb())}}}find(t){let r=this.factories.find(i=>i.supports(t));if(r)return r;throw new U(901,!1)}}return n})();function _b(n){Re(8);try{let{rootComponent:e,appProviders:t,platformProviders:r}=n,i=EN(r),o=[Qy({}),{provide:Wn,useExisting:cb},V_,...t||[]],s=new nu({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return MN({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}finally{Re(9)}}function Ve(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function ks(n,e=NaN){return!isNaN(parseFloat(n))&&!isNaN(Number(n))?Number(n):e}function Cb(n){let e=ci(n);if(!e)return null;let t=new ds(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var Sb=null;function qn(){return Sb}function sv(n){Sb??=n}var gu=class{},yu=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:()=>b(Tb),providedIn:"platform"})}return n})(),av=new j(""),Tb=(()=>{class n extends yu{_location;_history;_doc=b(We);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return qn().getBaseHref(this._doc)}onPopState(t){let r=qn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=qn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function vp(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function bb(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function rr(n){return n&&n[0]!=="?"?`?${n}`:n}var ir=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:()=>b(wp),providedIn:"root"})}return n})(),kp=new j(""),wp=(()=>{class n extends ir{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??b(We).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return vp(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+rr(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+rr(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+rr(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(Q(yu),Q(kp,8))};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),no=(()=>{class n{_subject=new Fe;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=LN(bb(Eb(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+rr(r))}normalize(t){return n.stripTrailingSlash(AN(this._basePath,Eb(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+rr(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+rr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=rr;static joinWithSlash=vp;static stripTrailingSlash=bb;static \u0275fac=function(r){return new(r||n)(Q(ir))};static \u0275prov=H({token:n,factory:()=>xN(),providedIn:"root"})}return n})();function xN(){return new no(Q(ir))}function AN(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function Eb(n){return n.replace(/\/index.html$/,"")}function LN(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var lv=(()=>{class n extends ir{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=vp(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+rr(o))||this._platformLocation.pathname;this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+rr(o))||this._platformLocation.pathname;this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(Q(yu),Q(kp,8))};static \u0275prov=H({token:n,factory:n.\u0275fac})}return n})();var cv=/\s+/,Db=[],uv=(()=>{class n{_ngEl;_renderer;initialClasses=Db;rawClass;stateMap=new Map;constructor(t,r){this._ngEl=t,this._renderer=r}set klass(t){this.initialClasses=t!=null?t.trim().split(cv):Db}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(cv):t}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let r of t)this._updateState(r,!0);else if(t!=null)for(let r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){let i=this.stateMap.get(t);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){t=t.trim(),t.length>0&&t.split(cv).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||n)(Y(Ae),Y(jt))};static \u0275dir=ye({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return n})();var dv=(()=>{class n{_ngEl;_differs;_renderer;_ngStyle=null;_differ=null;constructor(t,r,i){this._ngEl=t,this._differs=r,this._renderer=i}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){let t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){let[i,o]=t.split("."),s=i.indexOf("-")===-1?void 0:Yn.DashCase;r!=null?this._renderer.setStyle(this._ngEl.nativeElement,i,o?`${r}${o}`:r,s):this._renderer.removeStyle(this._ngEl.nativeElement,i,s)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}static \u0275fac=function(r){return new(r||n)(Y(Ae),Y(ov),Y(jt))};static \u0275dir=ye({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}})}return n})(),Ip=(()=>{class n{_viewContainerRef;_viewRef=null;ngTemplateOutletContext=null;ngTemplateOutlet=null;ngTemplateOutletInjector=null;constructor(t){this._viewContainerRef=t}ngOnChanges(t){if(this._shouldRecreateView(t)){let r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let i=this._createContextForwardProxy();this._viewRef=r.createEmbeddedView(this.ngTemplateOutlet,i,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(t){return!!t.ngTemplateOutlet||!!t.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(t,r,i)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,r,i):!1,get:(t,r,i)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,r,i)}})}static \u0275fac=function(r){return new(r||n)(Y(Xi))};static \u0275dir=ye({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},features:[Vt]})}return n})();var ro=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Bt({type:n});static \u0275inj=St({})}return n})();function vu(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var ws=class{};var xb="browser";var Ab=(()=>{class n{static \u0275prov=H({token:n,providedIn:"root",factory:()=>new hv(b(We),window)})}return n})(),hv=class{document;window;offset=()=>[0,0];constructor(e,t){this.document=e,this.window=t}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e,t){this.window.scrollTo(Z(R({},t),{left:e[0],top:e[1]}))}scrollToAnchor(e,t){let r=PN(this.document,e);r&&(this.scrollToElement(r,t),r.focus())}setHistoryScrollRestoration(e){try{this.window.history.scrollRestoration=e}catch{console.warn(Mr(2400,!1))}}scrollToElement(e,t){let r=e.getBoundingClientRect(),i=r.left+this.window.pageXOffset,o=r.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(Z(R({},t),{left:i-s[0],top:o-s[1]}))}};function PN(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var _p=new j(""),yv=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new U(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(Q(_p),Q(Ce))};static \u0275prov=H({token:n,factory:n.\u0275fac})}return n})(),ku=class{_doc;constructor(e){this._doc=e}manager},pv="ng-app-id";function Rb(n){for(let e of n)e.remove()}function Pb(n,e){let t=e.createElement("style");return t.textContent=n,t}function NN(n,e,t,r){let i=n.head?.querySelectorAll(`style[${pv}="${e}"],link[${pv}="${e}"]`);if(i)for(let o of i)o.removeAttribute(pv),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function mv(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var vv=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,NN(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,Pb);r?.forEach(i=>this.addUsage(i,this.external,mv))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(Rb(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])Rb(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,Pb(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,mv(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(Q(We),Q(K1),Q(Q1,8),Q(fi))};static \u0275prov=H({token:n,factory:n.\u0275fac})}return n})(),fv={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},kv=/%COMP%/g;var Ob="%COMP%",ON=`_nghost-${Ob}`,FN=`_ngcontent-${Ob}`,VN=!0,jN=new j("",{providedIn:"root",factory:()=>VN});function BN(n){return FN.replace(kv,n)}function qN(n){return ON.replace(kv,n)}function Fb(n,e){return e.map(t=>t.replace(kv,n))}var wv=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;animationDisabled;maxAnimationTimeout;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;registry;constructor(t,r,i,o,s,a,c,u=null,h,f,m=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=u,this.animationDisabled=h,this.maxAnimationTimeout=f,this.tracingService=m,this.platformIsServer=!1,this.defaultRenderer=new wu(t,s,c,this.platformIsServer,this.tracingService,this.registry=g1(),this.maxAnimationTimeout)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(t,r);return i instanceof Mp?i.applyToHost(t):i instanceof Iu&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,f=this.platformIsServer,m=this.tracingService;switch(r.encapsulation){case hi.Emulated:o=new Mp(c,u,r,this.appId,h,s,a,f,m,this.registry,this.animationDisabled,this.maxAnimationTimeout);break;case hi.ShadowDom:return new gv(c,u,t,r,s,a,this.nonce,f,m,this.registry,this.maxAnimationTimeout);default:o=new Iu(c,u,r,h,s,a,f,m,this.registry,this.animationDisabled,this.maxAnimationTimeout);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(Q(yv),Q(vv),Q(K1),Q(jN),Q(We),Q(fi),Q(Ce),Q(Q1),Q(jy),Q(By),Q(fs,8))};static \u0275prov=H({token:n,factory:n.\u0275fac})}return n})(),wu=class{eventManager;doc;ngZone;platformIsServer;tracingService;registry;maxAnimationTimeout;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i,o,s,a){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=o,this.registry=s,this.maxAnimationTimeout=a}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(fv[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(Nb(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(Nb(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){let{elements:r}=this.registry;if(r){r.animate(t,()=>t.remove(),this.maxAnimationTimeout);return}t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new U(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=fv[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=fv[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Yn.DashCase|Yn.Important)?e.style.setProperty(t,r,i&Yn.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Yn.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=qn().getGlobalEventTarget(this.doc,e),!e))throw new U(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,t,o)),this.eventManager.addEventListener(e,t,o,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;e(t)===!1&&t.preventDefault()}}};function Nb(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var gv=class extends wu{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,r,i,o,s,a,c,u,h,f){super(e,o,s,c,u,h,f),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let m=i.styles;m=Fb(i.id,m);for(let M of m){let L=document.createElement("style");a&&L.setAttribute("nonce",a),L.textContent=M,this.shadowRoot.appendChild(L)}let y=i.getExternalStyles?.();if(y)for(let M of y){let L=mv(M,o);a&&L.setAttribute("nonce",a),this.shadowRoot.appendChild(L)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Iu=class extends wu{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;_animationDisabled;constructor(e,t,r,i,o,s,a,c,u,h,f,m){super(e,o,s,a,c,u,f),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this._animationDisabled=h;let y=r.styles;this.styles=m?Fb(m,y):y,this.styleUrls=r.getExternalStyles?.(m)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){if(this.removeStylesOnCompDestroy){if(!this._animationDisabled&&this.registry.elements){this.ngZone.runOutsideAngular(()=>{setTimeout(()=>{this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)},this.maxAnimationTimeout)});return}this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}}},Mp=class extends Iu{contentAttr;hostAttr;constructor(e,t,r,i,o,s,a,c,u,h,f,m){let y=i+"-"+r.id;super(e,t,r,o,s,a,c,u,h,f,m,y),this.contentAttr=BN(y),this.hostAttr=qN(y)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}};var Cp=class n extends gu{supportsDOMEvents=!0;static makeCurrent(){sv(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=HN();return t==null?null:zN(t)}resetBaseElement(){Mu=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return vu(document.cookie,e)}},Mu=null;function HN(){return Mu=Mu||document.head.querySelector("base"),Mu?Mu.getAttribute("href"):null}function zN(n){return new URL(n,document.baseURI).pathname}var UN=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac})}return n})(),jb=(()=>{class n extends ku{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||n)(Q(We))};static \u0275prov=H({token:n,factory:n.\u0275fac})}return n})(),Vb=["alt","control","meta","shift"],$N={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},GN={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},Bb=(()=>{class n extends ku{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,o){let s=n.parseEventName(r),a=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>qn().onAndCancel(t,s.domEventName,a,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),Vb.forEach(u=>{let h=r.indexOf(u);h>-1&&(r.splice(h,1),s+=u+".")}),s+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(t,r){let i=$N[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),Vb.forEach(s=>{if(s!==i){let a=GN[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(Q(We))};static \u0275prov=H({token:n,factory:n.\u0275fac})}return n})();function Iv(n,e){let t=R({rootComponent:n},WN(e));return _b(t)}function WN(n){return{appProviders:[...YN,...n?.providers??[]],platformProviders:XN}}function KN(){Cp.makeCurrent()}function ZN(){return new _n}function QN(){return ry(document),document}var XN=[{provide:fi,useValue:xb},{provide:Z1,useValue:KN,multi:!0},{provide:We,useFactory:QN}];var YN=[{provide:Bl,useValue:"root"},{provide:_n,useFactory:ZN},{provide:_p,useClass:jb,multi:!0,deps:[We]},{provide:_p,useClass:Bb,multi:!0,deps:[We]},wv,vv,yv,{provide:us,useExisting:wv},{provide:ws,useClass:UN},[]];var ec=class{},bu=class{},Is=class n{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),o=t.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.addHeaderEntry(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,t);let i=(e.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let o=e.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}addHeaderEntry(e,t){let r=e.toLowerCase();this.maybeSetNormalizedName(e,r),this.headers.has(r)?this.headers.get(r).push(t):this.headers.set(r,[t])}setHeaderEntries(e,t){let r=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var Ep=class{encodeKey(e){return qb(e)}encodeValue(e){return qb(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function JN(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],c=t.get(s)||[];c.push(a),t.set(s,c)}),t}var eO=/%(\d[a-f0-9])/gi,tO={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function qb(n){return encodeURIComponent(n).replace(eO,(e,t)=>tO[t]??e)}function bp(n){return`${n}`}var io=class n{map;encoder;updates=null;cloneFrom=null;constructor(e={}){if(this.encoder=e.encoder||new Ep,e.fromString){if(e.fromObject)throw new U(2805,!1);this.map=JN(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let r=e.fromObject[t],i=Array.isArray(r)?r.map(bp):[bp(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(bp(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(bp(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var Sp=class{map=new Map;set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function nO(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function Hb(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function zb(n){return typeof Blob<"u"&&n instanceof Blob}function Ub(n){return typeof FormData<"u"&&n instanceof FormData}function rO(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var $b="Content-Type",Gb="Accept",Kb="X-Request-URL",Zb="text/plain",Qb="application/json",iO=`${Qb}, ${Zb}, */*`,_u=class n{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;credentials;keepalive=!1;cache;priority;mode;redirect;referrer;integrity;responseType="json";method;params;urlWithParams;transferCache;timeout;constructor(e,t,r,i){this.url=t,this.method=e.toUpperCase();let o;if(nO(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o){if(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,this.keepalive=!!o.keepalive,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),o.priority&&(this.priority=o.priority),o.cache&&(this.cache=o.cache),o.credentials&&(this.credentials=o.credentials),typeof o.timeout=="number"){if(o.timeout<1||!Number.isInteger(o.timeout))throw new U(2822,"");this.timeout=o.timeout}o.mode&&(this.mode=o.mode),o.redirect&&(this.redirect=o.redirect),o.integrity&&(this.integrity=o.integrity),o.referrer&&(this.referrer=o.referrer),this.transferCache=o.transferCache}if(this.headers??=new Is,this.context??=new Sp,!this.params)this.params=new io,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),c=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+c+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||Hb(this.body)||zb(this.body)||Ub(this.body)||rO(this.body)?this.body:this.body instanceof io?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||Ub(this.body)?null:zb(this.body)?this.body.type||null:Hb(this.body)?null:typeof this.body=="string"?Zb:this.body instanceof io?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?Qb:null}clone(e={}){let t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.keepalive??this.keepalive,s=e.priority||this.priority,a=e.cache||this.cache,c=e.mode||this.mode,u=e.redirect||this.redirect,h=e.credentials||this.credentials,f=e.referrer||this.referrer,m=e.integrity||this.integrity,y=e.transferCache??this.transferCache,M=e.timeout??this.timeout,L=e.body!==void 0?e.body:this.body,D=e.withCredentials??this.withCredentials,x=e.reportProgress??this.reportProgress,N=e.headers||this.headers,$=e.params||this.params,ee=e.context??this.context;return e.setHeaders!==void 0&&(N=Object.keys(e.setHeaders).reduce((Te,se)=>Te.set(se,e.setHeaders[se]),N)),e.setParams&&($=Object.keys(e.setParams).reduce((Te,se)=>Te.set(se,e.setParams[se]),$)),new n(t,r,L,{params:$,headers:N,context:ee,reportProgress:x,responseType:i,withCredentials:D,transferCache:y,keepalive:o,cache:a,priority:s,timeout:M,mode:c,redirect:u,credentials:h,referrer:f,integrity:m})}},Ja=(function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n})(Ja||{}),tc=class{headers;status;statusText;url;ok;type;redirected;constructor(e,t=200,r="OK"){this.headers=e.headers||new Is,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.redirected=e.redirected,this.ok=this.status>=200&&this.status<300}},Tp=class n extends tc{constructor(e={}){super(e)}type=Ja.ResponseHeader;clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Dp=class n extends tc{body;constructor(e={}){super(e),this.body=e.body!==void 0?e.body:null}type=Ja.Response;clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0,redirected:e.redirected??this.redirected})}},Cu=class extends tc{name="HttpErrorResponse";message;error;ok=!1;constructor(e){super(e,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},oO=200,sO=204;function Mv(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,credentials:n.credentials,transferCache:n.transferCache,timeout:n.timeout,keepalive:n.keepalive,priority:n.priority,cache:n.cache,mode:n.mode,redirect:n.redirect,integrity:n.integrity,referrer:n.referrer}}var aO=(()=>{class n{handler;constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof _u)o=t;else{let c;i.headers instanceof Is?c=i.headers:c=new Is(i.headers);let u;i.params&&(i.params instanceof io?u=i.params:u=new io({fromObject:i.params})),o=new _u(t,r,i.body!==void 0?i.body:null,{headers:c,context:i.context,params:u,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache,keepalive:i.keepalive,priority:i.priority,cache:i.cache,mode:i.mode,redirect:i.redirect,credentials:i.credentials,referrer:i.referrer,integrity:i.integrity,timeout:i.timeout})}let s=X(o).pipe(wr(c=>this.handler.handle(c)));if(t instanceof _u||i.observe==="events")return s;let a=s.pipe(rt(c=>c instanceof Dp));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(de(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new U(2806,!1);return c.body}));case"blob":return a.pipe(de(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new U(2807,!1);return c.body}));case"text":return a.pipe(de(c=>{if(c.body!==null&&typeof c.body!="string")throw new U(2808,!1);return c.body}));case"json":default:return a.pipe(de(c=>c.body))}case"response":return a;default:throw new U(2809,!1)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new io().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,Mv(i,r))}post(t,r,i={}){return this.request("POST",t,Mv(i,r))}put(t,r,i={}){return this.request("PUT",t,Mv(i,r))}static \u0275fac=function(r){return new(r||n)(Q(ec))};static \u0275prov=H({token:n,factory:n.\u0275fac})}return n})();var cO=new j("");function Xb(n,e){return e(n)}function lO(n,e){return(t,r)=>e.intercept(t,{handle:i=>n(i,r)})}function uO(n,e,t){return(r,i)=>ot(t,()=>e(r,o=>n(o,i)))}var Yb=new j(""),Cv=new j(""),dO=new j(""),bv=new j("",{providedIn:"root",factory:()=>!0});function hO(){let n=null;return(e,t)=>{n===null&&(n=(b(Yb,{optional:!0})??[]).reduceRight(lO,Xb));let r=b(Tr);if(b(bv)){let o=r.add();return n(e,t).pipe(Hi(o))}else return n(e,t)}}var xp=(()=>{class n extends ec{backend;injector;chain=null;pendingTasks=b(Tr);contributeToStability=b(bv);constructor(t,r){super(),this.backend=t,this.injector=r}handle(t){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(Cv),...this.injector.get(dO,[])]));this.chain=r.reduceRight((i,o)=>uO(i,o,this.injector),Xb)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(Hi(r))}else return this.chain(t,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||n)(Q(bu),Q(Ye))};static \u0275prov=H({token:n,factory:n.\u0275fac})}return n})();var pO=/^\)\]\}',?\n/,fO=RegExp(`^${Kb}:`,"m");function mO(n){return"responseURL"in n&&n.responseURL?n.responseURL:fO.test(n.getAllResponseHeaders())?n.getResponseHeader(Kb):null}var _v=(()=>{class n{xhrFactory;constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new U(-2800,!1);let r=this.xhrFactory;return X(null).pipe(It(()=>new ae(o=>{let s=r.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((D,x)=>s.setRequestHeader(D,x.join(","))),t.headers.has(Gb)||s.setRequestHeader(Gb,iO),!t.headers.has($b)){let D=t.detectContentTypeHeader();D!==null&&s.setRequestHeader($b,D)}if(t.timeout&&(s.timeout=t.timeout),t.responseType){let D=t.responseType.toLowerCase();s.responseType=D!=="json"?D:"text"}let a=t.serializeBody(),c=null,u=()=>{if(c!==null)return c;let D=s.statusText||"OK",x=new Is(s.getAllResponseHeaders()),N=mO(s)||t.url;return c=new Tp({headers:x,status:s.status,statusText:D,url:N}),c},h=()=>{let{headers:D,status:x,statusText:N,url:$}=u(),ee=null;x!==sO&&(ee=typeof s.response>"u"?s.responseText:s.response),x===0&&(x=ee?oO:0);let Te=x>=200&&x<300;if(t.responseType==="json"&&typeof ee=="string"){let se=ee;ee=ee.replace(pO,"");try{ee=ee!==""?JSON.parse(ee):null}catch(C){ee=se,Te&&(Te=!1,ee={error:C,text:ee})}}Te?(o.next(new Dp({body:ee,headers:D,status:x,statusText:N,url:$||void 0})),o.complete()):o.error(new Cu({error:ee,headers:D,status:x,statusText:N,url:$||void 0}))},f=D=>{let{url:x}=u(),N=new Cu({error:D,status:s.status||0,statusText:s.statusText||"Unknown Error",url:x||void 0});o.error(N)},m=f;t.timeout&&(m=D=>{let{url:x}=u(),N=new Cu({error:new DOMException("Request timed out","TimeoutError"),status:s.status||0,statusText:s.statusText||"Request timeout",url:x||void 0});o.error(N)});let y=!1,M=D=>{y||(o.next(u()),y=!0);let x={type:Ja.DownloadProgress,loaded:D.loaded};D.lengthComputable&&(x.total=D.total),t.responseType==="text"&&s.responseText&&(x.partialText=s.responseText),o.next(x)},L=D=>{let x={type:Ja.UploadProgress,loaded:D.loaded};D.lengthComputable&&(x.total=D.total),o.next(x)};return s.addEventListener("load",h),s.addEventListener("error",f),s.addEventListener("timeout",m),s.addEventListener("abort",f),t.reportProgress&&(s.addEventListener("progress",M),a!==null&&s.upload&&s.upload.addEventListener("progress",L)),s.send(a),o.next({type:Ja.Sent}),()=>{s.removeEventListener("error",f),s.removeEventListener("abort",f),s.removeEventListener("load",h),s.removeEventListener("timeout",m),t.reportProgress&&(s.removeEventListener("progress",M),a!==null&&s.upload&&s.upload.removeEventListener("progress",L)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||n)(Q(ws))};static \u0275prov=H({token:n,factory:n.\u0275fac})}return n})(),Jb=new j(""),gO="XSRF-TOKEN",yO=new j("",{providedIn:"root",factory:()=>gO}),vO="X-XSRF-TOKEN",kO=new j("",{providedIn:"root",factory:()=>vO}),Eu=class{},wO=(()=>{class n{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(t,r){this.doc=t,this.cookieName=r}getToken(){let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=vu(t,this.cookieName),this.lastCookieString=t),this.lastToken}static \u0275fac=function(r){return new(r||n)(Q(We),Q(yO))};static \u0275prov=H({token:n,factory:n.\u0275fac})}return n})();function IO(n,e){let t=n.url.toLowerCase();if(!b(Jb)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let r=b(Eu).getToken(),i=b(kO);return r!=null&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}var Ev=(function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n})(Ev||{});function MO(n,e){return{\u0275kind:n,\u0275providers:e}}function eE(...n){let e=[aO,_v,xp,{provide:ec,useExisting:xp},{provide:bu,useFactory:()=>b(cO,{optional:!0})??b(_v)},{provide:Cv,useValue:IO,multi:!0},{provide:Jb,useValue:!0},{provide:Eu,useClass:wO}];for(let t of n)e.push(...t.\u0275providers);return Zt(e)}var Wb=new j("");function tE(){return MO(Ev.LegacyInterceptors,[{provide:Wb,useFactory:hO},{provide:Cv,useExisting:Wb,multi:!0}])}var Sv=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Bt({type:n});static \u0275inj=St({providers:[eE(tE())]})}return n})();var nE=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(Q(We))};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var me="primary",ju=Symbol("RouteTitle"),Lv=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Cs(n){return new Lv(n)}function uE(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function CO(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Lr(n[t],e[t]))return!1;return!0}function Lr(n,e){let t=n?Rv(n):void 0,r=e?Rv(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!dE(n[i],e[i]))return!1;return!0}function Rv(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function dE(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function hE(n){return n.length>0?n[n.length-1]:null}function ki(n){return am(n)?n:Yi(n)?Ne(Promise.resolve(n)):X(n)}var bO={exact:fE,subset:mE},pE={exact:EO,subset:SO,ignored:()=>!0};function rE(n,e,t){return bO[t.paths](n.root,e.root,t.matrixParams)&&pE[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function EO(n,e){return Lr(n,e)}function fE(n,e,t){if(!Ms(n.segments,e.segments)||!Rp(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!fE(n.children[r],e.children[r],t))return!1;return!0}function SO(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>dE(n[t],e[t]))}function mE(n,e,t){return gE(n,e,e.segments,t)}function gE(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!Ms(i,t)||e.hasChildren()||!Rp(i,t,r))}else if(n.segments.length===t.length){if(!Ms(n.segments,t)||!Rp(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!mE(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!Ms(n.segments,i)||!Rp(n.segments,i,r)||!n.children[me]?!1:gE(n.children[me],e,o,r)}}function Rp(n,e,t){return e.every((r,i)=>pE[t](n[i].parameters,r.parameters))}var Pr=class{root;queryParams;fragment;_queryParamMap;constructor(e=new De([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Cs(this.queryParams),this._queryParamMap}toString(){return xO.serialize(this)}},De=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Pp(this)}},oo=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Cs(this.parameters),this._parameterMap}toString(){return vE(this)}};function TO(n,e){return Ms(n,e)&&n.every((t,r)=>Lr(t.parameters,e[r].parameters))}function Ms(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function DO(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===me&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==me&&(t=t.concat(e(i,r)))}),t}var bs=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:()=>new so,providedIn:"root"})}return n})(),so=class{parse(e){let t=new Nv(e);return new Pr(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${Su(e.root,!0)}`,r=RO(e.queryParams),i=typeof e.fragment=="string"?`#${AO(e.fragment)}`:"";return`${t}${r}${i}`}},xO=new so;function Pp(n){return n.segments.map(e=>vE(e)).join("/")}function Su(n,e){if(!n.hasChildren())return Pp(n);if(e){let t=n.children[me]?Su(n.children[me],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==me&&r.push(`${i}:${Su(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=DO(n,(r,i)=>i===me?[Su(n.children[me],!1)]:[`${i}:${Su(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[me]!=null?`${Pp(n)}/${t[0]}`:`${Pp(n)}/(${t.join("//")})`}}function yE(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ap(n){return yE(n).replace(/%3B/gi,";")}function AO(n){return encodeURI(n)}function Pv(n){return yE(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Np(n){return decodeURIComponent(n)}function iE(n){return Np(n.replace(/\+/g,"%20"))}function vE(n){return`${Pv(n.path)}${LO(n.parameters)}`}function LO(n){return Object.entries(n).map(([e,t])=>`;${Pv(e)}=${Pv(t)}`).join("")}function RO(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${Ap(t)}=${Ap(i)}`).join("&"):`${Ap(t)}=${Ap(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var PO=/^[^\/()?;#]+/;function Tv(n){let e=n.match(PO);return e?e[0]:""}var NO=/^[^\/()?;=#]+/;function OO(n){let e=n.match(NO);return e?e[0]:""}var FO=/^[^=?&#]+/;function VO(n){let e=n.match(FO);return e?e[0]:""}var jO=/^[^&#]+/;function BO(n){let e=n.match(jO);return e?e[0]:""}var Nv=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new De([],{}):new De([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[me]=new De(e,t)),r}parseSegment(){let e=Tv(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new U(4009,!1);return this.capture(e),new oo(Np(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=OO(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=Tv(this.remaining);i&&(r=i,this.capture(r))}e[Np(t)]=Np(r)}parseQueryParam(e){let t=VO(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=BO(this.remaining);s&&(r=s,this.capture(r))}let i=iE(t),o=iE(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Tv(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new U(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=me);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[me]:new De([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new U(4011,!1)}};function kE(n){return n.segments.length>0?new De([],{[me]:n}):n}function wE(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=wE(i);if(r===me&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new De(n.segments,e);return qO(t)}function qO(n){if(n.numberOfChildren===1&&n.children[me]){let e=n.children[me];return new De(n.segments.concat(e.segments),e.children)}return n}function ao(n){return n instanceof Pr}function IE(n,e,t=null,r=null){let i=ME(n);return _E(i,e,t,r)}function ME(n){let e;function t(o){let s={};for(let c of o.children){let u=t(c);s[c.outlet]=u}let a=new De(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=kE(r);return e??i}function _E(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return Dv(i,i,i,t,r);let o=HO(e);if(o.toRoot())return Dv(i,i,new De([],{}),t,r);let s=zO(o,i,n),a=s.processChildren?Du(s.segmentGroup,s.index,o.commands):bE(s.segmentGroup,s.index,o.commands);return Dv(i,s.segmentGroup,a,t,r)}function Op(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Au(n){return typeof n=="object"&&n!=null&&n.outlets}function Dv(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([c,u])=>{o[c]=Array.isArray(u)?u.map(h=>`${h}`):`${u}`});let s;n===e?s=t:s=CE(n,e,t);let a=kE(wE(s));return new Pr(a,o,i)}function CE(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=CE(o,e,t)}),new De(n.segments,r)}var Fp=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Op(r[0]))throw new U(4003,!1);let i=r.find(Au);if(i&&i!==hE(r))throw new U(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function HO(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Fp(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,u])=>{a[c]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Fp(t,e,r)}var ic=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function zO(n,e,t){if(n.isAbsolute)return new ic(e,!0,0);if(!t)return new ic(e,!1,NaN);if(t.parent===null)return new ic(t,!0,0);let r=Op(n.commands[0])?0:1,i=t.segments.length-1+r;return UO(t,i,n.numberOfDoubleDots)}function UO(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new U(4005,!1);i=r.segments.length}return new ic(r,!1,i-o)}function $O(n){return Au(n[0])?n[0].outlets:{[me]:n}}function bE(n,e,t){if(n??=new De([],{}),n.segments.length===0&&n.hasChildren())return Du(n,e,t);let r=GO(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new De(n.segments.slice(0,r.pathIndex),{});return o.children[me]=new De(n.segments.slice(r.pathIndex),n.children),Du(o,0,i)}else return r.match&&i.length===0?new De(n.segments,{}):r.match&&!n.hasChildren()?Ov(n,e,t):r.match?Du(n,0,i):Ov(n,e,t)}function Du(n,e,t){if(t.length===0)return new De(n.segments,{});{let r=$O(t),i={};if(Object.keys(r).some(o=>o!==me)&&n.children[me]&&n.numberOfChildren===1&&n.children[me].segments.length===0){let o=Du(n.children[me],e,t);return new De(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=bE(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new De(n.segments,i)}}function GO(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(Au(a))break;let c=`${a}`,u=r<t.length-1?t[r+1]:null;if(i>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!sE(c,u,s))return o;r+=2}else{if(!sE(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Ov(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(Au(o)){let c=WO(o.outlets);return new De(r,c)}if(i===0&&Op(t[0])){let c=n.segments[e];r.push(new oo(c.path,oE(t[0]))),i++;continue}let s=Au(o)?o.outlets[me]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&Op(a)?(r.push(new oo(s,oE(a))),i+=2):(r.push(new oo(s,{})),i++)}return new De(r,{})}function WO(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=Ov(new De([],{}),0,r))}),e}function oE(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function sE(n,e,t){return n==t.path&&Lr(e,t.parameters)}var oc="imperative",Ct=(function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n})(Ct||{}),Sn=class{id;url;constructor(e,t){this.id=e,this.url=t}},co=class extends Sn{type=Ct.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},dn=class extends Sn{urlAfterRedirects;type=Ct.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},un=(function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n[n.Aborted=4]="Aborted",n})(un||{}),ac=(function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n})(ac||{}),Rr=class extends Sn{reason;code;type=Ct.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Nr=class extends Sn{reason;code;type=Ct.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},cc=class extends Sn{error;target;type=Ct.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Lu=class extends Sn{urlAfterRedirects;state;type=Ct.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Vp=class extends Sn{urlAfterRedirects;state;type=Ct.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},jp=class extends Sn{urlAfterRedirects;state;shouldActivate;type=Ct.GuardsCheckEnd;constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Bp=class extends Sn{urlAfterRedirects;state;type=Ct.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},qp=class extends Sn{urlAfterRedirects;state;type=Ct.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Hp=class{route;type=Ct.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},zp=class{route;type=Ct.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Up=class{snapshot;type=Ct.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},$p=class{snapshot;type=Ct.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Gp=class{snapshot;type=Ct.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Wp=class{snapshot;type=Ct.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},lc=class{routerEvent;position;anchor;type=Ct.Scroll;constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Ru=class{},uc=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function KO(n){return!(n instanceof Ru)&&!(n instanceof uc)}function ZO(n,e){return n.providers&&!n._injector&&(n._injector=Ga(n.providers,e,`Route: ${n.path}`)),n._injector??e}function or(n){return n.outlet||me}function QO(n,e){let t=n.filter(r=>or(r)===e);return t.push(...n.filter(r=>or(r)!==e)),t}function pc(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var Kp=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return pc(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new Es(this.rootInjector)}},Es=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Kp(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(Q(Ye))};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Zp=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=Fv(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=Fv(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=Vv(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Vv(e,this._root).map(t=>t.value)}};function Fv(n,e){if(n===e.value)return e;for(let t of e.children){let r=Fv(n,t);if(r)return r}return null}function Vv(n,e){if(n===e.value)return[e];for(let t of e.children){let r=Vv(n,t);if(r.length)return r.unshift(e),r}return[]}var En=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function rc(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var Pu=class extends Zp{snapshot;constructor(e,t){super(e),this.snapshot=t,Gv(this,e)}toString(){return this.snapshot.toString()}};function EE(n){let e=XO(n),t=new Ot([new oo("",{})]),r=new Ot({}),i=new Ot({}),o=new Ot({}),s=new Ot(""),a=new Or(t,r,o,s,i,me,n,e.root);return a.snapshot=e.root,new Pu(new En(a,[]),e)}function XO(n){let e={},t={},r={},o=new _s([],e,r,"",t,me,n,null,{});return new Nu("",new En(o,[]))}var Or=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(de(u=>u[ju]))??X(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(de(e=>Cs(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(de(e=>Cs(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Qp(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:R(R({},e.params),n.params),data:R(R({},e.data),n.data),resolve:R(R(R(R({},n.data),e.data),i?.data),n._resolvedData)}:r={params:R({},n.params),data:R({},n.data),resolve:R(R({},n.data),n._resolvedData??{})},i&&TE(i)&&(r.resolve[ju]=i.title),r}var _s=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[ju]}constructor(e,t,r,i,o,s,a,c,u){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Cs(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Cs(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},Nu=class extends Zp{url;constructor(e,t){super(t),this.url=e,Gv(this,t)}toString(){return SE(this._root)}};function Gv(n,e){e.value._routerState=n,e.children.forEach(t=>Gv(n,t))}function SE(n){let e=n.children.length>0?` { ${n.children.map(SE).join(", ")} } `:"";return`${n.value}${e}`}function xv(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Lr(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Lr(e.params,t.params)||n.paramsSubject.next(t.params),CO(e.url,t.url)||n.urlSubject.next(t.url),Lr(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function jv(n,e){let t=Lr(n.params,e.params)&&TO(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||jv(n.parent,e.parent))}function TE(n){return typeof n.title=="string"||n.title===null}var DE=new j(""),Ss=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=me;activateEvents=new ht;deactivateEvents=new ht;attachEvents=new ht;detachEvents=new ht;routerOutletData=K(void 0);parentContexts=b(Es);location=b(Xi);changeDetector=b(Bn);inputBinder=b(Bu,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new U(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new U(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new U(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new U(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new Bv(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=ye({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Vt]})}return n})(),Bv=class{route;childContexts;parent;outletData;constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===Or?this.route:e===Es?this.childContexts:e===DE?this.outletData:this.parent.get(e,t)}},Bu=new j(""),Wv=(()=>{class n{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=xl([r.queryParams,r.params,r.data]).pipe(It(([o,s,a],c)=>(a=R(R(R({},o),s),a),c===0?X(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let s=Cb(r.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(t,i)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac})}return n})(),Kv=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=et({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&Se(0,"router-outlet")},dependencies:[Ss],encapsulation:2})}return n})();function Zv(n){let e=n.children&&n.children.map(Zv),t=e?Z(R({},n),{children:e}):R({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==me&&(t.component=Kv),t}function YO(n,e,t){let r=Ou(n,e._root,t?t._root:void 0);return new Pu(r,e)}function Ou(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=JO(n,e,t);return new En(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Ou(n,a)),s}}let r=eF(e.value),i=e.children.map(o=>Ou(n,o));return new En(r,i)}}function JO(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Ou(n,r,i);return Ou(n,r)})}function eF(n){return new Or(new Ot(n.url),new Ot(n.params),new Ot(n.queryParams),new Ot(n.fragment),new Ot(n.data),n.outlet,n.component,n)}var dc=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},xE="ngNavigationCancelingError";function Xp(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=ao(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=AE(!1,un.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function AE(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[xE]=!0,t.cancellationCode=e,t}function tF(n){return LE(n)&&ao(n.url)}function LE(n){return!!n&&n[xE]}var nF=(n,e,t,r)=>de(i=>(new qv(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),qv=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),xv(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=rc(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=rc(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=rc(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=rc(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Wp(o.value.snapshot))}),e.children.length&&this.forwardEvent(new $p(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(xv(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),xv(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},Yp=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},sc=class{component;route;constructor(e,t){this.component=e,this.route=t}};function rF(n,e,t){let r=n._root,i=e?e._root:null;return Tu(r,i,t,[r.value])}function iF(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function fc(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!bm(n)?n:e.get(n):r}function Tu(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=rc(e);return n.children.forEach(s=>{oF(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>xu(a,t.getContext(s),i)),i}function oF(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=sF(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new Yp(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Tu(n,e,a?a.children:null,r,i):Tu(n,e,t,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new sc(a.outlet.component,s))}else s&&xu(e,a,i),i.canActivateChecks.push(new Yp(r)),o.component?Tu(n,null,a?a.children:null,r,i):Tu(n,null,t,r,i);return i}function sF(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!Ms(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Ms(n.url,e.url)||!Lr(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!jv(n,e)||!Lr(n.queryParams,e.queryParams);case"paramsChange":default:return!jv(n,e)}}function xu(n,e,t){let r=rc(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?xu(s,e.children.getContext(o),t):xu(s,null,t):xu(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new sc(e.outlet.component,i)):t.canDeactivateChecks.push(new sc(null,i)):t.canDeactivateChecks.push(new sc(null,i))}function qu(n){return typeof n=="function"}function aF(n){return typeof n=="boolean"}function cF(n){return n&&qu(n.canLoad)}function lF(n){return n&&qu(n.canActivate)}function uF(n){return n&&qu(n.canActivateChild)}function dF(n){return n&&qu(n.canDeactivate)}function hF(n){return n&&qu(n.canMatch)}function RE(n){return n instanceof ti||n?.name==="EmptyError"}var Lp=Symbol("INITIAL_VALUE");function hc(){return It(n=>xl(n.map(e=>e.pipe(ri(1),Ca(Lp)))).pipe(de(e=>{for(let t of e)if(t!==!0){if(t===Lp)return Lp;if(t===!1||pF(t))return t}return!0}),rt(e=>e!==Lp),ri(1)))}function pF(n){return ao(n)||n instanceof dc}function fF(n,e){return Xe(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?X(Z(R({},t),{guardsResult:!0})):mF(s,r,i,n).pipe(Xe(a=>a&&aF(a)?gF(r,o,n,e):X(a)),de(a=>Z(R({},t),{guardsResult:a})))})}function mF(n,e,t,r){return Ne(n).pipe(Xe(i=>IF(i.component,i.route,t,e,r)),ii(i=>i!==!0,!0))}function gF(n,e,t,r){return Ne(e).pipe(wr(i=>Ma(vF(i.route.parent,r),yF(i.route,r),wF(n,i.path,t),kF(n,i.route,t))),ii(i=>i!==!0,!0))}function yF(n,e){return n!==null&&e&&e(new Gp(n)),X(!0)}function vF(n,e){return n!==null&&e&&e(new Up(n)),X(!0)}function kF(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return X(!0);let i=r.map(o=>Al(()=>{let s=pc(e)??t,a=fc(o,s),c=lF(a)?a.canActivate(e,n):ot(s,()=>a(e,n));return ki(c).pipe(ii())}));return X(i).pipe(hc())}function wF(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>iF(s)).filter(s=>s!==null).map(s=>Al(()=>{let a=s.guards.map(c=>{let u=pc(s.node)??t,h=fc(c,u),f=uF(h)?h.canActivateChild(r,n):ot(u,()=>h(r,n));return ki(f).pipe(ii())});return X(a).pipe(hc())}));return X(o).pipe(hc())}function IF(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return X(!0);let s=o.map(a=>{let c=pc(e)??i,u=fc(a,c),h=dF(u)?u.canDeactivate(n,e,t,r):ot(c,()=>u(n,e,t,r));return ki(h).pipe(ii())});return X(s).pipe(hc())}function MF(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return X(!0);let o=i.map(s=>{let a=fc(s,n),c=cF(a)?a.canLoad(e,t):ot(n,()=>a(e,t));return ki(c)});return X(o).pipe(hc(),PE(r))}function PE(n){return _h(it(e=>{if(typeof e!="boolean")throw Xp(n,e)}),de(e=>e===!0))}function _F(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return X(!0);let o=i.map(s=>{let a=fc(s,n),c=hF(a)?a.canMatch(e,t):ot(n,()=>a(e,t));return ki(c)});return X(o).pipe(hc(),PE(r))}var Fu=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},Vu=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function nc(n){return wa(new Fu(n))}function CF(n){return wa(new U(4e3,!1))}function bF(n){return wa(AE(!1,un.GuardRejected))}var Hv=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return X(r);if(i.numberOfChildren>1||!i.children[me])return CF(`${e.redirectTo}`);i=i.children[me]}}applyRedirectCommands(e,t,r,i,o){return EF(t,i,o).pipe(de(s=>{if(s instanceof Pr)throw new Vu(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),e,r);if(s[0]==="/")throw new Vu(a);return a}))}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new Pr(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new De(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new U(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}};function EF(n,e,t){if(typeof n=="string")return X(n);let r=n,{queryParams:i,fragment:o,routeConfig:s,url:a,outlet:c,params:u,data:h,title:f}=e;return ki(ot(t,()=>r({params:u,data:h,queryParams:i,fragment:o,routeConfig:s,url:a,outlet:c,title:f})))}var zv={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function SF(n,e,t,r,i){let o=NE(n,e,t);return o.matched?(r=ZO(e,r),_F(r,e,t,i).pipe(de(s=>s===!0?o:R({},zv)))):X(o)}function NE(n,e,t){if(e.path==="**")return TF(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?R({},zv):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||uE)(t,n,e);if(!i)return R({},zv);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?R(R({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function TF(n){return{matched:!0,parameters:n.length>0?hE(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function aE(n,e,t,r){return t.length>0&&AF(n,t,r)?{segmentGroup:new De(e,xF(r,new De(t,n.children))),slicedSegments:[]}:t.length===0&&LF(n,t,r)?{segmentGroup:new De(n.segments,DF(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new De(n.segments,n.children),slicedSegments:t}}function DF(n,e,t,r){let i={};for(let o of t)if(ef(n,e,o)&&!r[or(o)]){let s=new De([],{});i[or(o)]=s}return R(R({},r),i)}function xF(n,e){let t={};t[me]=e;for(let r of n)if(r.path===""&&or(r)!==me){let i=new De([],{});t[or(r)]=i}return t}function AF(n,e,t){return t.some(r=>ef(n,e,r)&&or(r)!==me)}function LF(n,e,t){return t.some(r=>ef(n,e,r))}function ef(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function RF(n,e,t){return e.length===0&&!n.children[t]}var Uv=class{};function PF(n,e,t,r,i,o,s="emptyOnly"){return new $v(n,e,t,r,i,s,o).recognize()}var NF=31,$v=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Hv(this.urlSerializer,this.urlTree)}noMatchError(e){return new U(4002,`'${e.segmentGroup}'`)}recognize(){let e=aE(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(de(({children:t,rootSnapshot:r})=>{let i=new En(r,t),o=new Nu("",i),s=IE(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new _s([],Object.freeze({}),Object.freeze(R({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),me,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,me,t).pipe(de(r=>({children:r,rootSnapshot:t})),ni(r=>{if(r instanceof Vu)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Fu?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(de(s=>s instanceof En?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Ne(o).pipe(wr(s=>{let a=r.children[s],c=QO(t,s);return this.processSegmentGroup(e,c,a,s,i)}),Wh((s,a)=>(s.push(...a),s)),qi(null),dm(),Xe(s=>{if(s===null)return nc(r);let a=OE(s);return OF(a),X(a)}))}processSegment(e,t,r,i,o,s,a){return Ne(t).pipe(wr(c=>this.processSegmentAgainstRoute(c._injector??e,t,c,r,i,o,s,a).pipe(ni(u=>{if(u instanceof Fu)return X(null);throw u}))),ii(c=>!!c),ni(c=>{if(RE(c))return RF(r,i,o)?X(new Uv):nc(r);throw c}))}processSegmentAgainstRoute(e,t,r,i,o,s,a,c){return or(r)!==s&&(s===me||!ef(i,o,r))?nc(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,c):nc(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:c,parameters:u,consumedSegments:h,positionalParamSegments:f,remainingSegments:m}=NE(t,i,o);if(!c)return nc(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>NF&&(this.allowRedirects=!1));let y=new _s(o,u,Object.freeze(R({},this.urlTree.queryParams)),this.urlTree.fragment,cE(i),or(i),i.component??i._loadedComponent??null,i,lE(i)),M=Qp(y,a,this.paramsInheritanceStrategy);return y.params=Object.freeze(M.params),y.data=Object.freeze(M.data),this.applyRedirects.applyRedirectCommands(h,i.redirectTo,f,y,e).pipe(It(D=>this.applyRedirects.lineralizeSegments(i,D)),Xe(D=>this.processSegment(e,r,t,D.concat(m),s,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a=SF(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(It(c=>c.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(It(({routes:u})=>{let h=r._loadedInjector??e,{parameters:f,consumedSegments:m,remainingSegments:y}=c,M=new _s(m,f,Object.freeze(R({},this.urlTree.queryParams)),this.urlTree.fragment,cE(r),or(r),r.component??r._loadedComponent??null,r,lE(r)),L=Qp(M,s,this.paramsInheritanceStrategy);M.params=Object.freeze(L.params),M.data=Object.freeze(L.data);let{segmentGroup:D,slicedSegments:x}=aE(t,m,y,u);if(x.length===0&&D.hasChildren())return this.processChildren(h,u,D,M).pipe(de($=>new En(M,$)));if(u.length===0&&x.length===0)return X(new En(M,[]));let N=or(r)===o;return this.processSegment(h,u,D,x,N?me:o,!0,M).pipe(de($=>new En(M,$ instanceof En?[$]:[])))}))):nc(t)))}getChildConfig(e,t,r){return t.children?X({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?X({routes:t._loadedRoutes,injector:t._loadedInjector}):MF(e,t,r,this.urlSerializer).pipe(Xe(i=>i?this.configLoader.loadChildren(e,t).pipe(it(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):bF(t))):X({routes:[],injector:e})}};function OF(n){n.sort((e,t)=>e.value.outlet===me?-1:t.value.outlet===me?1:e.value.outlet.localeCompare(t.value.outlet))}function FF(n){let e=n.value.routeConfig;return e&&e.path===""}function OE(n){let e=[],t=new Set;for(let r of n){if(!FF(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=OE(r.children);e.push(new En(r.value,i))}return e.filter(r=>!t.has(r))}function cE(n){return n.data||{}}function lE(n){return n.resolve||{}}function VF(n,e,t,r,i,o){return Xe(s=>PF(n,e,t,r,s.extractedUrl,i,o).pipe(de(({state:a,tree:c})=>Z(R({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function jF(n,e){return Xe(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return X(t);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let u of FE(c))s.add(u);let a=0;return Ne(s).pipe(wr(c=>o.has(c)?BF(c,r,n,e):(c.data=Qp(c,c.parent,n).resolve,X(void 0))),it(()=>a++),_a(1),Xe(c=>a===s.size?X(t):Wt))})}function FE(n){let e=n.children.map(t=>FE(t)).flat();return[n,...e]}function BF(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!TE(i)&&(o[ju]=i.title),Al(()=>(n.data=Qp(n,n.parent,t).resolve,qF(o,n,e,r).pipe(de(s=>(n._resolvedData=s,n.data=R(R({},n.data),s),null)))))}function qF(n,e,t,r){let i=Rv(n);if(i.length===0)return X({});let o={};return Ne(i).pipe(Xe(s=>HF(n[s],e,t,r).pipe(ii(),it(a=>{if(a instanceof dc)throw Xp(new so,a);o[s]=a}))),_a(1),de(()=>o),ni(s=>RE(s)?Wt:wa(s)))}function HF(n,e,t,r){let i=pc(e)??r,o=fc(n,i),s=o.resolve?o.resolve(e,t):ot(i,()=>o(e,t));return ki(s)}function Av(n){return It(e=>{let t=n(e);return t?Ne(t).pipe(de(()=>e)):X(e)})}var Qv=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===me);return r}getResolvedTitleForRoute(t){return t.data[ju]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:()=>b(VE),providedIn:"root"})}return n})(),VE=(()=>{class n extends Qv{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(Q(nE))};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),lo=new j("",{providedIn:"root",factory:()=>({})}),Ts=new j(""),tf=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=b(Zy);loadComponent(t,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return X(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=ki(ot(t,()=>r.loadComponent())).pipe(de(BE),It(qE),it(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),Hi(()=>{this.componentLoaders.delete(r)})),o=new ga(i,()=>new Fe).pipe(ma());return this.componentLoaders.set(r,o),o}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return X({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=jE(r,this.compiler,t,this.onLoadEndListener).pipe(Hi(()=>{this.childrenLoaders.delete(r)})),s=new ga(o,()=>new Fe).pipe(ma());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function jE(n,e,t,r){return ki(ot(t,()=>n.loadChildren())).pipe(de(BE),It(qE),Xe(i=>i instanceof sp||Array.isArray(i)?X(i):Ne(e.compileModuleAsync(i))),de(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(Ts,[],{optional:!0,self:!0}).flat()),{routes:s.map(Zv),injector:o}}))}function zF(n){return n&&typeof n=="object"&&"default"in n}function BE(n){return zF(n)?n.default:n}function qE(n){return X(n)}var nf=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:()=>b(UF),providedIn:"root"})}return n})(),UF=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Xv=new j(""),Yv=new j("");function HE(n,e,t){let r=n.get(Yv),i=n.get(We);if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(u=>setTimeout(u));let o,s=new Promise(u=>{o=u}),a=i.startViewTransition(()=>(o(),$F(n)));a.ready.catch(u=>{});let{onViewTransitionCreated:c}=r;return c&&ot(n,()=>c({transition:a,from:e,to:t})),s}function $F(n){return new Promise(e=>{ms({read:()=>setTimeout(e)},{injector:n})})}var Jv=new j(""),rf=(()=>{class n{currentNavigation=Je(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=null;events=new Fe;transitionAbortWithErrorSubject=new Fe;configLoader=b(tf);environmentInjector=b(Ye);destroyRef=b(Xt);urlSerializer=b(bs);rootContexts=b(Es);location=b(no);inputBindingEnabled=b(Bu,{optional:!0})!==null;titleStrategy=b(Qv);options=b(lo,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=b(nf);createViewTransition=b(Xv,{optional:!0});navigationErrorHandler=b(Jv,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>X(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new Hp(i)),r=i=>this.events.next(new zp(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;pt(()=>{this.transitions?.next(Z(R({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r}))})}setupNavigations(t){return this.transitions=new Ot(null),this.transitions.pipe(rt(r=>r!==null),It(r=>{let i=!1;return X(r).pipe(It(o=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",un.SupersededByNewNavigation),Wt;this.currentTransition=r,this.currentNavigation.set({id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?Z(R({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>o.abortController.abort()});let s=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),a=o.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!s&&a!=="reload")return this.events.next(new Nr(o.id,this.urlSerializer.serialize(o.rawUrl),"",ac.IgnoredSameUrlNavigation)),o.resolve(!1),Wt;if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return X(o).pipe(It(c=>(this.events.next(new co(c.id,this.urlSerializer.serialize(c.extractedUrl),c.source,c.restoredState)),c.id!==this.navigationId?Wt:Promise.resolve(c))),VF(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),it(c=>{r.targetSnapshot=c.targetSnapshot,r.urlAfterRedirects=c.urlAfterRedirects,this.currentNavigation.update(h=>(h.finalUrl=c.urlAfterRedirects,h));let u=new Lu(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:c,extractedUrl:u,source:h,restoredState:f,extras:m}=o,y=new co(c,this.urlSerializer.serialize(u),h,f);this.events.next(y);let M=EE(this.rootComponentType).snapshot;return this.currentTransition=r=Z(R({},o),{targetSnapshot:M,urlAfterRedirects:u,extras:Z(R({},m),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(L=>(L.finalUrl=u,L)),X(r)}else return this.events.next(new Nr(o.id,this.urlSerializer.serialize(o.extractedUrl),"",ac.IgnoredByUrlHandlingStrategy)),o.resolve(!1),Wt}),it(o=>{let s=new Vp(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(s)}),de(o=>(this.currentTransition=r=Z(R({},o),{guards:rF(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),r)),fF(this.environmentInjector,o=>this.events.next(o)),it(o=>{if(r.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw Xp(this.urlSerializer,o.guardsResult);let s=new jp(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(s)}),rt(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",un.GuardRejected),!1)),Av(o=>{if(o.guards.canActivateChecks.length!==0)return X(o).pipe(it(s=>{let a=new Bp(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),It(s=>{let a=!1;return X(s).pipe(jF(this.paramsInheritanceStrategy,this.environmentInjector),it({next:()=>a=!0,complete:()=>{a||this.cancelNavigationTransition(s,"",un.NoDataFromResolver)}}))}),it(s=>{let a=new qp(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}))}),Av(o=>{let s=a=>{let c=[];if(a.routeConfig?.loadComponent){let u=pc(a)??this.environmentInjector;c.push(this.configLoader.loadComponent(u,a.routeConfig).pipe(it(h=>{a.component=h}),de(()=>{})))}for(let u of a.children)c.push(...s(u));return c};return xl(s(o.targetSnapshot.root)).pipe(qi(null),ri(1))}),Av(()=>this.afterPreactivation()),It(()=>{let{currentSnapshot:o,targetSnapshot:s}=r,a=this.createViewTransition?.(this.environmentInjector,o.root,s.root);return a?Ne(a).pipe(de(()=>r)):X(r)}),de(o=>{let s=YO(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=r=Z(R({},o),{targetRouterState:s}),this.currentNavigation.update(a=>(a.targetRouterState=s,a)),r}),it(()=>{this.events.next(new Ru)}),nF(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),ri(1),Ir(new ae(o=>{let s=r.abortController.signal,a=()=>o.next();return s.addEventListener("abort",a),()=>s.removeEventListener("abort",a)}).pipe(rt(()=>!i&&!r.targetRouterState),it(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",un.Aborted)}))),it({next:o=>{i=!0,this.lastSuccessfulNavigation=pt(this.currentNavigation),this.events.next(new dn(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),Ir(this.transitionAbortWithErrorSubject.pipe(it(o=>{throw o}))),Hi(()=>{i||this.cancelNavigationTransition(r,"",un.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),ni(o=>{if(this.destroyed)return r.resolve(!1),Wt;if(i=!0,LE(o))this.events.next(new Rr(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode)),tF(o)?this.events.next(new uc(o.url,o.navigationBehaviorOptions)):r.resolve(!1);else{let s=new cc(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);try{let a=ot(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(a instanceof dc){let{message:c,cancellationCode:u}=Xp(this.urlSerializer,a);this.events.next(new Rr(r.id,this.urlSerializer.serialize(r.extractedUrl),c,u)),this.events.next(new uc(a.redirectTo,a.navigationBehaviorOptions))}else throw this.events.next(s),o}catch(a){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(a)}}return Wt}))}))}cancelNavigationTransition(t,r,i){let o=new Rr(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=pt(this.currentNavigation),i=r?.targetBrowserUrl??r?.extractedUrl;return t.toString()!==i?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function GF(n){return n!==oc}var zE=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:()=>b(WF),providedIn:"root"})}return n})(),Jp=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},WF=(()=>{class n extends Jp{static \u0275fac=(()=>{let t;return function(i){return(t||(t=pi(n)))(i||n)}})();static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),UE=(()=>{class n{urlSerializer=b(bs);options=b(lo,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=b(no);urlHandlingStrategy=b(nf);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Pr;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,s=i??o;return s instanceof Pr?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=EE(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:()=>b(KF),providedIn:"root"})}return n})(),KF=(()=>{class n extends UE{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof co?this.updateStateMemento():t instanceof Nr?this.commitTransition(r):t instanceof Lu?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof Ru?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof Rr&&t.code!==un.SupersededByNewNavigation&&t.code!==un.Redirect?this.restoreHistory(r):t instanceof cc?this.restoreHistory(r,!0):t instanceof dn&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(t)||o){let a=this.browserPageId,c=R(R({},s),this.generateNgRouterState(i,a));this.location.replaceState(t,"",c)}else{let a=R(R({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=pi(n)))(i||n)}})();static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function of(n,e){n.events.pipe(rt(t=>t instanceof dn||t instanceof Rr||t instanceof cc||t instanceof Nr),de(t=>t instanceof dn||t instanceof Nr?0:(t instanceof Rr?t.code===un.Redirect||t.code===un.SupersededByNewNavigation:!1)?2:1),rt(t=>t!==2),ri(1)).subscribe(()=>{e()})}var ZF={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},QF={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},qt=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=b(Py);stateManager=b(UE);options=b(lo,{optional:!0})||{};pendingTasks=b(Sr);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=b(rf);urlSerializer=b(bs);location=b(no);urlHandlingStrategy=b(nf);injector=b(Ye);_events=new Fe;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=b(zE);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=b(Ts,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!b(Bu,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Ke;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=pt(this.navigationTransitions.currentNavigation);if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Rr&&r.code!==un.Redirect&&r.code!==un.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof dn)this.navigated=!0;else if(r instanceof uc){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=R({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||GF(i.source)},s);this.scheduleNavigation(a,oc,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}KO(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),oc,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let c=R({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o).catch(c=>{this.disposed||this.injector.get(an)(c)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return pt(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Zv),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,u=c?this.currentUrlTree.fragment:s,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=R(R({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let f;try{let m=i?i.snapshot:this.routerState.snapshot.root;f=ME(m)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),f=this.currentUrlTree.root}return _E(f,t,h,u??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=ao(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,oc,null,r)}navigate(t,r={skipLocationChange:!1}){return XF(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=R({},ZF):r===!1?i=R({},QF):i=r,ao(t))return rE(this.currentUrlTree,t,i);let o=this.parseUrl(t);return rE(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,u;s?(a=s.resolve,c=s.reject,u=s.promise):u=new Promise((f,m)=>{a=f,c=m});let h=this.pendingTasks.add();return of(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(f=>Promise.reject(f))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function XF(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new U(4008,!1)}var Fr=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=Je(null);get href(){return pt(this.reactiveHref)}set href(t){this.reactiveHref.set(t)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new Fe;applicationErrorHandler=b(an);options=b(lo,{optional:!0});constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.reactiveHref.set(b(new gs("href"),{optional:!0}));let c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area"||!!(typeof customElements=="object"&&customElements.get(c)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let t=this.preserveFragment,r=i=>i==="merge"||i==="preserve";t||=r(this.queryParamsHandling),t||=!this.queryParamsHandling&&!r(this.options?.defaultQueryParamsHandling),t&&(this.subscription=this.router.events.subscribe(i=>{i instanceof dn&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(ao(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c)?.catch(u=>{this.applicationErrorHandler(u)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.reactiveHref.set(t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t))??"":null)}applyAttributeValue(t,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:ao(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||n)(Y(qt),Y(Or),ou("tabindex"),Y(jt),Y(Ae),Y(ir))};static \u0275dir=ye({type:n,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(r,i){r&1&&Pe("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&er("href",i.reactiveHref(),ay)("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Ve],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Ve],replaceUrl:[2,"replaceUrl","replaceUrl",Ve],routerLink:"routerLink"},features:[Vt]})}return n})(),tk=(()=>{class n{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new ht;constructor(t,r,i,o,s){this.router=t,this.element=r,this.renderer=i,this.cdr=o,this.link=s,this.routerEventsSubscription=t.events.subscribe(a=>{a instanceof dn&&this.update()})}ngAfterContentInit(){X(this.links.changes,X(null)).pipe(kr()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let t=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=Ne(t).pipe(kr()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){let r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let t=this.hasActiveLinks();this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.isActiveChange.emit(t))})}isLinkActive(t){let r=YF(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>{let o=i.urlTree;return o?t.isActive(o,r):!1}}hasActiveLinks(){let t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}static \u0275fac=function(r){return new(r||n)(Y(qt),Y(Ae),Y(jt),Y(Bn),Y(Fr,8))};static \u0275dir=ye({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,o){if(r&1&&Hy(o,Fr,5),r&2){let s;zy(s=Uy())&&(i.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[Vt]})}return n})();function YF(n){return!!n.paths}var Hu=class{};var $E=(()=>{class n{router;injector;preloadingStrategy;loader;subscription;constructor(t,r,i,o){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(rt(t=>t instanceof dn),wr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=Ga(o.providers,t,`Route: ${o.path}`));let s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return Ne(i).pipe(kr())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(t,r):i=X(null);let o=i.pipe(Xe(s=>s===null?X(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(t,r);return Ne([o,s]).pipe(kr())}else return o})}static \u0275fac=function(r){return new(r||n)(Q(qt),Q(Ye),Q(Hu),Q(tf))};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),GE=new j(""),JF=(()=>{class n{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource=oc;restoredId=0;store={};constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof co?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof dn?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Nr&&t.code===ac.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof lc&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>v(this,null,function*(){yield new Promise(i=>{setTimeout(i),typeof requestAnimationFrame<"u"&&requestAnimationFrame(i)}),this.zone.run(()=>{this.transitions.events.next(new lc(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){My()};static \u0275prov=H({token:n,factory:n.\u0275fac})}return n})();function nk(n,...e){return Zt([{provide:Ts,multi:!0,useValue:n},[],{provide:Or,useFactory:WE,deps:[qt]},{provide:du,multi:!0,useFactory:KE},e.map(t=>t.\u0275providers)])}function WE(n){return n.routerState.root}function zu(n,e){return{\u0275kind:n,\u0275providers:e}}function KE(){let n=b(Ue);return e=>{let t=n.get(mi);if(e!==t.components[0])return;let r=n.get(qt),i=n.get(ZE);n.get(rk)===1&&r.initialNavigation(),n.get(YE,null,{optional:!0})?.setUpPreloading(),n.get(GE,null,{optional:!0})?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var ZE=new j("",{factory:()=>new Fe}),rk=new j("",{providedIn:"root",factory:()=>1});function QE(){let n=[{provide:iy,useValue:!0},{provide:rk,useValue:0},cp(()=>{let e=b(Ue);return e.get(av,Promise.resolve()).then(()=>new Promise(r=>{let i=e.get(qt),o=e.get(ZE);of(i,()=>{r(!0)}),e.get(rf).afterPreactivation=()=>(r(!0),o.closed?X(void 0):o),i.initialNavigation()}))})];return zu(2,n)}function XE(){let n=[cp(()=>{b(qt).setUpLocationChangeListener()}),{provide:rk,useValue:2}];return zu(3,n)}var YE=new j("");function JE(n){return zu(0,[{provide:YE,useExisting:$E},{provide:Hu,useExisting:n}])}function e6(){return zu(8,[Wv,{provide:Bu,useExisting:Wv}])}function t6(n){Jn("NgRouterViewTransitions");let e=[{provide:Xv,useValue:HE},{provide:Yv,useValue:R({skipNextTransition:!!n?.skipInitialTransition},n)}];return zu(9,e)}var n6=[no,{provide:bs,useClass:so},qt,Es,{provide:Or,useFactory:WE,deps:[qt]},tf,[]],Ds=(()=>{class n{constructor(){}static forRoot(t,r){return{ngModule:n,providers:[n6,[],{provide:Ts,multi:!0,useValue:t},[],r?.errorHandler?{provide:Jv,useValue:r.errorHandler}:[],{provide:lo,useValue:r||{}},r?.useHash?tV():nV(),eV(),r?.preloadingStrategy?JE(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?rV(r):[],r?.bindToComponentInputs?e6().\u0275providers:[],r?.enableViewTransitions?t6().\u0275providers:[],iV()]}}static forChild(t){return{ngModule:n,providers:[{provide:Ts,multi:!0,useValue:t}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Bt({type:n});static \u0275inj=St({})}return n})();function eV(){return{provide:GE,useFactory:()=>{let n=b(Ab),e=b(Ce),t=b(lo),r=b(rf),i=b(bs);return t.scrollOffset&&n.setOffset(t.scrollOffset),new JF(i,r,n,e,t)}}}function tV(){return{provide:ir,useClass:lv}}function nV(){return{provide:ir,useClass:wp}}function rV(n){return[n.initialNavigation==="disabled"?XE().\u0275providers:[],n.initialNavigation==="enabledBlocking"?QE().\u0275providers:[]]}var ek=new j("");function iV(){return[{provide:ek,useFactory:KE},{provide:du,multi:!0,useExisting:ek}]}var h6=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||n)(Y(jt),Y(Ae))};static \u0275dir=ye({type:n})}return n})(),uk=(()=>{class n extends h6{static \u0275fac=(()=>{let t;return function(i){return(t||(t=pi(n)))(i||n)}})();static \u0275dir=ye({type:n,features:[On]})}return n})(),kc=new j("");var oV={provide:kc,useExisting:fn(()=>po),multi:!0};function sV(){let n=qn()?qn().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var aV=new j(""),po=(()=>{class n extends h6{_compositionMode;_composing=!1;constructor(t,r,i){super(t,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!sV())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||n)(Y(jt),Y(Ae),Y(aV,8))};static \u0275dir=ye({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&Pe("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[xr([oV]),On]})}return n})();function dk(n){return n==null||hk(n)===0}function hk(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var pk=new j(""),p6=new j(""),cV=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,sr=class{static min(e){return lV(e)}static max(e){return uV(e)}static required(e){return f6(e)}static requiredTrue(e){return dV(e)}static email(e){return hV(e)}static minLength(e){return pV(e)}static maxLength(e){return fV(e)}static pattern(e){return mV(e)}static nullValidator(e){return af()}static compose(e){return w6(e)}static composeAsync(e){return M6(e)}};function lV(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function uV(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function f6(n){return dk(n.value)?{required:!0}:null}function dV(n){return n.value===!0?null:{required:!0}}function hV(n){return dk(n.value)||cV.test(n.value)?null:{email:!0}}function pV(n){return e=>{let t=e.value?.length??hk(e.value);return t===null||t===0?null:t<n?{minlength:{requiredLength:n,actualLength:t}}:null}}function fV(n){return e=>{let t=e.value?.length??hk(e.value);return t!==null&&t>n?{maxlength:{requiredLength:n,actualLength:t}}:null}}function mV(n){if(!n)return af;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(dk(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}function af(n){return null}function m6(n){return n!=null}function g6(n){return Yi(n)?Ne(n):n}function y6(n){let e={};return n.forEach(t=>{e=t!=null?R(R({},e),t):e}),Object.keys(e).length===0?null:e}function v6(n,e){return e.map(t=>t(n))}function gV(n){return!n.validate}function k6(n){return n.map(e=>gV(e)?e:t=>e.validate(t))}function w6(n){if(!n)return null;let e=n.filter(m6);return e.length==0?null:function(t){return y6(v6(t,e))}}function I6(n){return n!=null?w6(k6(n)):null}function M6(n){if(!n)return null;let e=n.filter(m6);return e.length==0?null:function(t){let r=v6(t,e).map(g6);return cm(r).pipe(de(y6))}}function _6(n){return n!=null?M6(k6(n)):null}function r6(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function C6(n){return n._rawValidators}function b6(n){return n._rawAsyncValidators}function ok(n){return n?Array.isArray(n)?n:[n]:[]}function cf(n,e){return Array.isArray(n)?n.includes(e):n===e}function i6(n,e){let t=ok(e);return ok(n).forEach(i=>{cf(t,i)||t.push(i)}),t}function o6(n,e){return ok(e).filter(t=>!cf(n,t))}var lf=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=I6(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=_6(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},yc=class extends lf{name;get formDirective(){return null}get path(){return null}},Ku=class extends lf{_parent=null;name=null;valueAccessor=null},uf=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},yV={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Vde=Z(R({},yV),{"[class.ng-submitted]":"isSubmitted"}),wc=(()=>{class n extends uf{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(Y(Ku,2))};static \u0275dir=ye({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&gn("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[On]})}return n})(),Ic=(()=>{class n extends uf{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(Y(yc,10))};static \u0275dir=ye({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&gn("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[On]})}return n})();var Uu="VALID",sf="INVALID",mc="PENDING",$u="DISABLED",uo=class{},df=class extends uo{value;source;constructor(e,t){super(),this.value=e,this.source=t}},Gu=class extends uo{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},Wu=class extends uo{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},gc=class extends uo{status;source;constructor(e,t){super(),this.status=e,this.source=t}},sk=class extends uo{source;constructor(e){super(),this.source=e}},ak=class extends uo{source;constructor(e){super(),this.source=e}};function fk(n){return(ff(n)?n.validators:n)||null}function vV(n){return Array.isArray(n)?I6(n):n||null}function mk(n,e){return(ff(e)?e.asyncValidators:n)||null}function kV(n){return Array.isArray(n)?_6(n):n||null}function ff(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function E6(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new U(1e3,"");if(!r[t])throw new U(1001,"")}function S6(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new U(1002,"")})}var vc=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return pt(this.statusReactive)}set status(e){pt(()=>this.statusReactive.set(e))}_status=Jt(()=>this.statusReactive());statusReactive=Je(void 0);get valid(){return this.status===Uu}get invalid(){return this.status===sf}get pending(){return this.status==mc}get disabled(){return this.status===$u}get enabled(){return this.status!==$u}errors;get pristine(){return pt(this.pristineReactive)}set pristine(e){pt(()=>this.pristineReactive.set(e))}_pristine=Jt(()=>this.pristineReactive());pristineReactive=Je(!0);get dirty(){return!this.pristine}get touched(){return pt(this.touchedReactive)}set touched(e){pt(()=>this.touchedReactive.set(e))}_touched=Jt(()=>this.touchedReactive());touchedReactive=Je(!1);get untouched(){return!this.touched}_events=new Fe;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(i6(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(i6(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(o6(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(o6(e,this._rawAsyncValidators))}hasValidator(e){return cf(this._rawValidators,e)}hasAsyncValidator(e){return cf(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(Z(R({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Wu(!0,r))}markAllAsDirty(e={}){this.markAsDirty({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsDirty(e))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new Wu(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(Z(R({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Gu(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new Gu(!0,r))}markAsPending(e={}){this.status=mc;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new gc(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(Z(R({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=$u,this.errors=null,this._forEachChild(i=>{i.disable(Z(R({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new df(this.value,r)),this._events.next(new gc(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Z(R({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Uu,this._forEachChild(r=>{r.enable(Z(R({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Z(R({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Uu||this.status===mc)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new df(this.value,t)),this._events.next(new gc(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(Z(R({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?$u:Uu}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=mc,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1,shouldHaveEmitted:e!==!1};let r=g6(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new gc(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new ht,this.statusChanges=new ht}_calculateStatus(){return this._allControlsDisabled()?$u:this.errors?sf:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(mc)?mc:this._anyControlsHaveStatus(sf)?sf:Uu}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new Gu(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new Wu(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){ff(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=vV(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=kV(this._rawAsyncValidators)}},ho=class extends vc{constructor(e,t,r){super(fk(t),mk(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){S6(this,!0,e),Object.keys(e).forEach(r=>{E6(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var ck=class extends ho{};var gk=new j("",{providedIn:"root",factory:()=>mf}),mf="always";function wV(n,e){return[...e.path,n]}function s6(n,e,t=mf){yk(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),MV(n,e),CV(n,e),_V(n,e),IV(n,e)}function a6(n,e,t=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),pf(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function hf(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function IV(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function yk(n,e){let t=C6(n);e.validator!==null?n.setValidators(r6(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=b6(n);e.asyncValidator!==null?n.setAsyncValidators(r6(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();hf(e._rawValidators,i),hf(e._rawAsyncValidators,i)}function pf(n,e){let t=!1;if(n!==null){if(e.validator!==null){let i=C6(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(t=!0,n.setValidators(o))}}if(e.asyncValidator!==null){let i=b6(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(t=!0,n.setAsyncValidators(o))}}}let r=()=>{};return hf(e._rawValidators,r),hf(e._rawAsyncValidators,r),t}function MV(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&T6(n,e)})}function _V(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&T6(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function T6(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function CV(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function bV(n,e){n==null,yk(n,e)}function EV(n,e){return pf(n,e)}function SV(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function TV(n){return Object.getPrototypeOf(n.constructor)===uk}function DV(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function xV(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===po?t=o:TV(o)?r=o:i=o}),i||r||t||null}function AV(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function c6(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function l6(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var Hn=class extends vc{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,r){super(fk(t),mk(r,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ff(t)&&(t.nonNullable||t.initialValueIsDefault)&&(l6(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){c6(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){c6(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){l6(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var LV=n=>n instanceof Hn;var Mc=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=ye({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})();var D6=new j("");var RV={provide:yc,useExisting:fn(()=>xs)},xs=(()=>{class n extends yc{callSetDisabledState;get submitted(){return pt(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}_submitted=Jt(()=>this._submittedReactive());_submittedReactive=Je(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new ht;constructor(t,r,i){super(),this.callSetDisabledState=i,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(pf(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let r=this.form.get(t.path);return s6(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){a6(t.control||null,t,!1),AV(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this._submittedReactive.set(!0),DV(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new sk(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0,r={}){this.form.reset(t,r),this._submittedReactive.set(!1),r?.emitEvent!==!1&&this.form._events.next(new ak(this.form))}_updateDomValue(){this.directives.forEach(t=>{let r=t.control,i=this.form.get(t.path);r!==i&&(a6(r||null,t),LV(i)&&(s6(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let r=this.form.get(t.path);bV(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let r=this.form.get(t.path);r&&EV(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){yk(this.form,this),this._oldForm&&pf(this._oldForm,this)}static \u0275fac=function(r){return new(r||n)(Y(pk,10),Y(p6,10),Y(gk,8))};static \u0275dir=ye({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&Pe("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[xr([RV]),On,Vt]})}return n})();var PV={provide:Ku,useExisting:fn(()=>As)},As=(()=>{class n extends Ku{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(t){}model;update=new ht;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(t,r,i,o,s){super(),this._ngModelWarningConfig=s,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=xV(this,o)}ngOnChanges(t){this._added||this._setUpControl(),SV(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return wV(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(r){return new(r||n)(Y(yc,13),Y(pk,10),Y(p6,10),Y(kc,10),Y(D6,8))};static \u0275dir=ye({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[xr([PV]),On,Vt]})}return n})();var NV={provide:kc,useExisting:fn(()=>gf),multi:!0};function x6(n,e){return n==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function OV(n){return n.split(":")[0]}var gf=(()=>{class n extends uk{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;appRefInjector=b(mi).injector;destroyRef=b(Xt);cdr=b(Bn);_queuedWrite=!1;_writeValueAfterRender(){this._queuedWrite||this.appRefInjector.destroyed||(this._queuedWrite=!0,ms({write:()=>{this.destroyRef.destroyed||(this._queuedWrite=!1,this.writeValue(this.value))}},{injector:this.appRefInjector}))}writeValue(t){this.cdr.markForCheck(),this.value=t;let r=this._getOptionId(t),i=x6(r,t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){let r=OV(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=pi(n)))(i||n)}})();static \u0275dir=ye({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&Pe("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[xr([NV]),On]})}return n})(),A6=(()=>{class n{_element;_renderer;_select;id;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(x6(this.id,t)),this._select._writeValueAfterRender())}set value(t){this._setElementValue(t),this._select&&this._select._writeValueAfterRender()}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select._writeValueAfterRender())}static \u0275fac=function(r){return new(r||n)(Y(Ae),Y(jt),Y(gf,9))};static \u0275dir=ye({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})(),FV={provide:kc,useExisting:fn(()=>L6),multi:!0};function u6(n,e){return n==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function VV(n){return n.split(":")[0]}var L6=(()=>{class n extends uk{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let r;if(Array.isArray(t)){let i=t.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let c=s[a],u=this._getOptionValue(c.value);i.push(u)}}else{let s=r.options;for(let a=0;a<s.length;a++){let c=s[a];if(c.selected){let u=this._getOptionValue(c.value);i.push(u)}}}this.value=i,t(i)}}_registerOption(t){let r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){let r=VV(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=pi(n)))(i||n)}})();static \u0275dir=ye({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&Pe("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[xr([FV]),On]})}return n})(),R6=(()=>{class n{_element;_renderer;_select;id;_value;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(u6(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(u6(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||n)(Y(Ae),Y(jt),Y(L6,9))};static \u0275dir=ye({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})();var jV=(()=>{class n{_validator=af;_onChange;_enabled;ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):af,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static \u0275fac=function(r){return new(r||n)};static \u0275dir=ye({type:n,features:[Vt]})}return n})();var BV={provide:pk,useExisting:fn(()=>Zu),multi:!0};var Zu=(()=>{class n extends jV{required;inputName="required";normalizeInput=Ve;createValidator=t=>f6;enabled(t){return t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=pi(n)))(i||n)}})();static \u0275dir=ye({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&er("required",i._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[xr([BV]),On]})}return n})();var P6=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Bt({type:n});static \u0275inj=St({})}return n})(),lk=class extends vc{constructor(e,t,r){super(fk(t),mk(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){Array.isArray(e)?e.forEach(r=>{this.controls.push(r),this._registerControl(r)}):(this.controls.push(e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){S6(this,!1,e),e.forEach((r,i)=>{E6(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>r._syncPendingControls()?!0:t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function d6(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var yf=(()=>{class n{useNonNullable=!1;get nonNullable(){let t=new n;return t.useNonNullable=!0,t}group(t,r=null){let i=this._reduceControls(t),o={};return d6(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new ho(i,o)}record(t,r=null){let i=this._reduceControls(t);return new ck(i,r)}control(t,r,i){let o={};return this.useNonNullable?(d6(r)?o=r:(o.validators=r,o.asyncValidators=i),new Hn(t,Z(R({},o),{nonNullable:!0}))):new Hn(t,r,i)}array(t,r,i){let o=t.map(s=>this._createControl(s));return new lk(o,r,i)}_reduceControls(t){let r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){if(t instanceof Hn)return t;if(t instanceof vc)return t;if(Array.isArray(t)){let r=t[0],i=t.length>1?t[1]:null,o=t.length>2?t[2]:null;return this.control(r,i,o)}else return this.control(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var N6=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:gk,useValue:t.callSetDisabledState??mf}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Bt({type:n});static \u0275inj=St({imports:[P6]})}return n})(),fo=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:D6,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:gk,useValue:t.callSetDisabledState??mf}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Bt({type:n});static \u0275inj=St({imports:[P6]})}return n})();var O6=()=>{};var j6=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},qV=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],a=n[t++],c=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},kf={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,a=s?n[i+1]:0,c=i+2<n.length,u=c?n[i+2]:0,h=o>>2,f=(o&3)<<4|a>>4,m=(a&15)<<2|u>>6,y=u&63;c||(y=64,s||(m=64)),r.push(t[h],t[f],t[m],t[y])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(j6(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):qV(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let u=i<n.length?t[n.charAt(i)]:64;++i;let f=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||a==null||u==null||f==null)throw new kk;let m=o<<2|a>>4;if(r.push(m),u!==64){let y=a<<4&240|u>>2;if(r.push(y),f!==64){let M=u<<6&192|f;r.push(M)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},kk=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},HV=function(n){let e=j6(n);return kf.encodeByteArray(e,!0)},Xu=function(n){return HV(n).replace(/\./g,"")},wf=function(n){try{return kf.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Ik(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var zV=()=>Ik().__FIREBASE_DEFAULTS__,UV=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},$V=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&wf(n[1]);return e&&JSON.parse(e)},If=()=>{try{return O6()||zV()||UV()||$V()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Mk=n=>{var e,t;return(t=(e=If())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},B6=n=>{let e=Mk(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},_k=()=>{var n;return(n=If())===null||n===void 0?void 0:n.config},Ck=n=>{var e;return(e=If())===null||e===void 0?void 0:e[`_${n}`]};var Ls=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function mo(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}function Mf(n){return v(this,null,function*(){return(yield fetch(n,{credentials:"include"})).ok})}function q6(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Xu(JSON.stringify(t)),Xu(JSON.stringify(s)),""].join(".")}var Qu={};function GV(){let n={prod:[],emulator:[]};for(let e of Object.keys(Qu))Qu[e]?n.emulator.push(e):n.prod.push(e);return n}function WV(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}var F6=!1;function _f(n,e){if(typeof window>"u"||typeof document>"u"||!mo(window.location.host)||Qu[n]===e||Qu[n]||F6)return;Qu[n]=e;function t(m){return`__firebase__banner__${m}`}let r="__firebase__banner",o=GV().prod.length>0;function s(){let m=document.getElementById(r);m&&m.remove()}function a(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function c(m,y){m.setAttribute("width","24"),m.setAttribute("id",y),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function u(){let m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{F6=!0,s()},m}function h(m,y){m.setAttribute("id",y),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function f(){let m=WV(r),y=t("text"),M=document.getElementById(y)||document.createElement("span"),L=t("learnmore"),D=document.getElementById(L)||document.createElement("a"),x=t("preprendIcon"),N=document.getElementById(x)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){let $=m.element;a($),h(D,L);let ee=u();c(N,x),$.append(N,M,D,ee),document.body.appendChild($)}o?(M.innerText="Preview backend disconnected.",N.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(N.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,M.innerText="Preview backend running in this workspace."),M.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}function Lt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function H6(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Lt())}function KV(){var n;let e=(n=If())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function z6(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function U6(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function $6(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function G6(){let n=Lt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function W6(){return!KV()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Yu(){try{return typeof indexedDB=="object"}catch{return!1}}function K6(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}var ZV="FirebaseError",Tn=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=ZV,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ar.prototype.create)}},ar=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?QV(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Tn(i,a,r)}};function QV(n,e){return n.replace(XV,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var XV=/\{\$([^}]+)}/g;function Z6(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Vr(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(V6(o)&&V6(s)){if(!Vr(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function V6(n){return n!==null&&typeof n=="object"}function Ju(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function _c(n){let e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Cc(n){let e=n.indexOf("?");if(!e)return"";let t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function Q6(n,e){let t=new wk(n,e);return t.subscribe.bind(t)}var wk=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");YV(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=vk),i.error===void 0&&(i.error=vk),i.complete===void 0&&(i.complete=vk);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function YV(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function vk(){}var zde=14400*1e3;function ft(n){return n&&n._delegate?n._delegate:n}var hn=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Rs="[DEFAULT]";var bk=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new Ls;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ej(e))try{this.getOrInitializeService({instanceIdentifier:Rs})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Rs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return v(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Rs){return this.instances.has(e)}getOptions(e=Rs){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:JV(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Rs){return this.component?this.component.multipleInstances?e:Rs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function JV(n){return n===Rs?void 0:n}function ej(n){return n.instantiationMode==="EAGER"}var Cf=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new bk(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var tj=[],Me=(function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n})(Me||{}),nj={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},rj=Me.INFO,ij={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},oj=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=ij[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},jr=class{constructor(e){this.name=e,this._logLevel=rj,this._logHandler=oj,this._userLogHandler=null,tj.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?nj[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}};var sj=(n,e)=>e.some(t=>n instanceof t),X6,Y6;function aj(){return X6||(X6=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function cj(){return Y6||(Y6=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var J6=new WeakMap,Sk=new WeakMap,e8=new WeakMap,Ek=new WeakMap,Dk=new WeakMap;function lj(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(Br(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&J6.set(t,n)}).catch(()=>{}),Dk.set(e,n),e}function uj(n){if(Sk.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});Sk.set(n,e)}var Tk={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Sk.get(n);if(e==="objectStoreNames")return n.objectStoreNames||e8.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Br(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function t8(n){Tk=n(Tk)}function dj(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(bf(this),e,...t);return e8.set(r,e.sort?e.sort():[e]),Br(r)}:cj().includes(n)?function(...e){return n.apply(bf(this),e),Br(J6.get(this))}:function(...e){return Br(n.apply(bf(this),e))}}function hj(n){return typeof n=="function"?dj(n):(n instanceof IDBTransaction&&uj(n),sj(n,aj())?new Proxy(n,Tk):n)}function Br(n){if(n instanceof IDBRequest)return lj(n);if(Ek.has(n))return Ek.get(n);let e=hj(n);return e!==n&&(Ek.set(n,e),Dk.set(e,n)),e}var bf=n=>Dk.get(n);function r8(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),a=Br(s);return r&&s.addEventListener("upgradeneeded",c=>{r(Br(s.result),c.oldVersion,c.newVersion,Br(s.transaction),c)}),t&&s.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}var pj=["get","getKey","getAll","getAllKeys","count"],fj=["put","add","delete","clear"],xk=new Map;function n8(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(xk.get(e))return xk.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=fj.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||pj.includes(t)))return;let o=function(s,...a){return v(this,null,function*(){let c=this.transaction(s,i?"readwrite":"readonly"),u=c.store;return r&&(u=u.index(a.shift())),(yield Promise.all([u[t](...a),i&&c.done]))[0]})};return xk.set(e,o),o}t8(n=>Z(R({},n),{get:(e,t,r)=>n8(e,t)||n.get(e,t,r),has:(e,t)=>!!n8(e,t)||n.has(e,t)}));var Lk=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(mj(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function mj(n){let e=n.getComponent();return e?.type==="VERSION"}var Rk="@firebase/app",i8="0.13.2";var wi=new jr("@firebase/app"),gj="@firebase/app-compat",yj="@firebase/analytics-compat",vj="@firebase/analytics",kj="@firebase/app-check-compat",wj="@firebase/app-check",Ij="@firebase/auth",Mj="@firebase/auth-compat",_j="@firebase/database",Cj="@firebase/data-connect",bj="@firebase/database-compat",Ej="@firebase/functions",Sj="@firebase/functions-compat",Tj="@firebase/installations",Dj="@firebase/installations-compat",xj="@firebase/messaging",Aj="@firebase/messaging-compat",Lj="@firebase/performance",Rj="@firebase/performance-compat",Pj="@firebase/remote-config",Nj="@firebase/remote-config-compat",Oj="@firebase/storage",Fj="@firebase/storage-compat",Vj="@firebase/firestore",jj="@firebase/ai",Bj="@firebase/firestore-compat",qj="firebase",Hj="11.10.0";var Pk="[DEFAULT]",zj={[Rk]:"fire-core",[gj]:"fire-core-compat",[vj]:"fire-analytics",[yj]:"fire-analytics-compat",[wj]:"fire-app-check",[kj]:"fire-app-check-compat",[Ij]:"fire-auth",[Mj]:"fire-auth-compat",[_j]:"fire-rtdb",[Cj]:"fire-data-connect",[bj]:"fire-rtdb-compat",[Ej]:"fire-fn",[Sj]:"fire-fn-compat",[Tj]:"fire-iid",[Dj]:"fire-iid-compat",[xj]:"fire-fcm",[Aj]:"fire-fcm-compat",[Lj]:"fire-perf",[Rj]:"fire-perf-compat",[Pj]:"fire-rc",[Nj]:"fire-rc-compat",[Oj]:"fire-gcs",[Fj]:"fire-gcs-compat",[Vj]:"fire-fst",[Bj]:"fire-fst-compat",[jj]:"fire-vertex","fire-js":"fire-js",[qj]:"fire-js-all"};var ed=new Map,Uj=new Map,Nk=new Map;function o8(n,e){try{n.container.addComponent(e)}catch(t){wi.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function cr(n){let e=n.name;if(Nk.has(e))return wi.debug(`There were multiple attempts to register component ${e}.`),!1;Nk.set(e,n);for(let t of ed.values())o8(t,n);for(let t of Uj.values())o8(t,n);return!0}function bc(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function vn(n){return n==null?!1:n.settings!==void 0}var $j={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},go=new ar("app","Firebase",$j);var Ok=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new hn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw go.create("app-deleted",{appName:this._name})}};var yo=Hj;function jk(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Pk,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw go.create("bad-app-name",{appName:String(i)});if(t||(t=_k()),!t)throw go.create("no-options");let o=ed.get(i);if(o){if(Vr(t,o.options)&&Vr(r,o.config))return o;throw go.create("duplicate-app",{appName:i})}let s=new Cf(i);for(let c of Nk.values())s.addComponent(c);let a=new Ok(t,r,s);return ed.set(i,a),a}function Ps(n=Pk){let e=ed.get(n);if(!e&&n===Pk&&_k())return jk();if(!e)throw go.create("no-app",{appName:n});return e}function Ef(){return Array.from(ed.values())}function ut(n,e,t){var r;let i=(r=zj[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),wi.warn(a.join(" "));return}cr(new hn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var Gj="firebase-heartbeat-database",Wj=1,td="firebase-heartbeat-store",Ak=null;function l8(){return Ak||(Ak=r8(Gj,Wj,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(td)}catch(t){console.warn(t)}}}}).catch(n=>{throw go.create("idb-open",{originalErrorMessage:n.message})})),Ak}function Kj(n){return v(this,null,function*(){try{let t=(yield l8()).transaction(td),r=yield t.objectStore(td).get(u8(n));return yield t.done,r}catch(e){if(e instanceof Tn)wi.warn(e.message);else{let t=go.create("idb-get",{originalErrorMessage:e?.message});wi.warn(t.message)}}})}function s8(n,e){return v(this,null,function*(){try{let r=(yield l8()).transaction(td,"readwrite");yield r.objectStore(td).put(e,u8(n)),yield r.done}catch(t){if(t instanceof Tn)wi.warn(t.message);else{let r=go.create("idb-set",{originalErrorMessage:t?.message});wi.warn(r.message)}}})}function u8(n){return`${n.name}!${n.options.appId}`}var Zj=1024,Qj=30,Fk=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new Vk(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return v(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=a8();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>Qj){let s=Yj(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){wi.warn(r)}})}getHeartbeatsHeader(){return v(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=a8(),{heartbeatsToSend:r,unsentEntries:i}=Xj(this._heartbeatsCache.heartbeats),o=Xu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return wi.warn(t),""}})}};function a8(){return new Date().toISOString().substring(0,10)}function Xj(n,e=Zj){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),c8(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),c8(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var Vk=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return v(this,null,function*(){return Yu()?K6().then(()=>!0).catch(()=>!1):!1})}read(){return v(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield Kj(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return v(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return s8(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return v(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return s8(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function c8(n){return Xu(JSON.stringify({version:2,heartbeats:n})).length}function Yj(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function Jj(n){cr(new hn("platform-logger",e=>new Lk(e),"PRIVATE")),cr(new hn("heartbeat",e=>new Fk(e),"PRIVATE")),ut(Rk,i8,n),ut(Rk,i8,"esm2017"),ut("fire-js","")}Jj("");var eB="firebase",tB="11.10.0";ut(eB,tB,"app");function Bk(n,e){let t=e?.injector??b(Ue),r=new Sl(1),i=Xa(()=>{let o;try{o=n()}catch(s){pt(()=>r.error(s));return}pt(()=>r.next(o))},{injector:t,manualCleanup:!0});return t.get(Xt).onDestroy(()=>{i.destroy(),r.complete()}),r.asObservable()}function d8(n){n===void 0&&(n=b(Ue));let e=n.get(Tr);return t=>new ae(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let a=t.subscribe({next:c=>{r.next(c),s()},complete:()=>{r.complete(),s()},error:c=>{r.error(c),s()}});return a.add(()=>{r.unsubscribe(),s()}),a})}var vo=new ys("ANGULARFIRE2_VERSION");function nd(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var Sc=(n,e)=>{let t=e?[e]:Ef(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Ec=(function(n){return n[n.SILENT=0]="SILENT",n[n.WARN=1]="WARN",n[n.VERBOSE=2]="VERBOSE",n})(Ec||{}),h8=iv()&&typeof Zone<"u"?Ec.WARN:Ec.SILENT;var Sf=class{zone;delegate;constructor(e,t=rm){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,t,r)}},ko=(()=>{class n{outsideAngular;insideAngular;constructor(){let t=b(Ce);this.outsideAngular=t.runOutsideAngular(()=>new Sf(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=t.run(()=>new Sf(typeof Zone>"u"?void 0:Zone.current,Fi))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),p8=!1;function nB(n,e){!p8&&(h8>Ec.SILENT||iv())&&(p8=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),h8>=e&&console.warn(`Firebase API called outside injection context: ${n.name}`)}function rB(n){let e=b(Ce,{optional:!0});return e?e.runOutsideAngular(()=>n()):n()}function Ns(n){let e=b(Ce,{optional:!0});return e?e.run(()=>n()):n()}var iB=(n,e,t)=>(...r)=>(e&&setTimeout(e,0),ot(t,()=>Ns(()=>n.apply(void 0,r)))),mt=(n,e,t)=>(t||=e?Ec.WARN:Ec.VERBOSE,function(){let r,i=arguments,o,s,a;try{o=b(ko),s=b(Tr),a=b(Ye)}catch{return nB(n,t),n.apply(this,i)}for(let u=0;u<arguments.length;u++)typeof i[u]=="function"&&(e&&(r||=Ns(()=>s.add())),i[u]=iB(i[u],r,a));let c=rB(()=>n.apply(this,i));return e?c instanceof ae?c.pipe(ji(o.outsideAngular),Vi(o.insideAngular),d8(a)):c instanceof Promise?Ns(()=>{let u=s.add();return new Promise((h,f)=>{c.then(m=>ot(a,()=>Ns(()=>h(m))),m=>ot(a,()=>Ns(()=>f(m)))).finally(u)})}):typeof c=="function"&&r?function(){return setTimeout(r,0),c.apply(this,arguments)}:Ns(()=>c):c instanceof ae?c.pipe(ji(o.outsideAngular),Vi(o.insideAngular)):Ns(()=>c)});var Ii=class{constructor(e){return e}},Os=class{constructor(){return Ef()}};function oB(n){return n&&n.length===1?n[0]:new Ii(Ps())}var qk=new j("angularfire2._apps"),sB={provide:Ii,useFactory:oB,deps:[[new cn,qk]]},aB={provide:Os,deps:[[new cn,qk]]};function cB(n){return(e,t)=>{let r=t.get(fi);ut("angularfire",vo.full,"core"),ut("angularfire",vo.full,"app"),ut("angular",Mb.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new Ii(i)}}function f8(n,...e){return Zt([sB,aB,{provide:qk,useFactory:cB(n),multi:!0,deps:[Ce,Ue,ko,...e]}])}var m8=mt(jk,!0);var lB=new Map,uB={activated:!1,tokenObservers:[]},dB={initialized:!1,enabled:!1};function lr(n){return lB.get(n)||Object.assign({},uB)}function k8(){return dB}var hB="https://content-firebaseappcheck.googleapis.com/v1";var pB="exchangeDebugToken",g8={OFFSET_DURATION:300*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:960*1e3},Ghe=1440*60*1e3;var Uk=class{constructor(e,t,r,i,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return v(this,null,function*(){this.stop();try{this.pending=new Ls,this.pending.promise.catch(t=>{}),yield fB(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new Ls,this.pending.promise.catch(t=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function fB(n){return new Promise(e=>{setTimeout(e,n)})}var mB={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},wo=new ar("appCheck","AppCheck",mB);function w8(n){if(!lr(n).activated)throw wo.create("use-before-activation",{appName:n.name})}function I8(r,i){return v(this,arguments,function*({url:n,body:e},t){let o={"Content-Type":"application/json"},s=t.getImmediate({optional:!0});if(s){let y=yield s.getHeartbeatsHeader();y&&(o["X-Firebase-Client"]=y)}let a={method:"POST",body:JSON.stringify(e),headers:o},c;try{c=yield fetch(n,a)}catch(y){throw wo.create("fetch-network-error",{originalErrorMessage:y?.message})}if(c.status!==200)throw wo.create("fetch-status-error",{httpStatus:c.status});let u;try{u=yield c.json()}catch(y){throw wo.create("fetch-parse-error",{originalErrorMessage:y?.message})}let h=u.ttl.match(/^([\d.]+)(s)$/);if(!h||!h[2]||isNaN(Number(h[1])))throw wo.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${u.ttl}`});let f=Number(h[1])*1e3,m=Date.now();return{token:u.token,expireTimeMillis:m+f,issuedAtTimeMillis:m}})}function M8(n,e){let{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${hB}/projects/${t}/apps/${r}:${pB}?key=${i}`,body:{debug_token:e}}}var gB="firebase-app-check-database",yB=1,$k="firebase-app-check-store";var Tf=null;function vB(){return Tf||(Tf=new Promise((n,e)=>{try{let t=indexedDB.open(gB,yB);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(wo.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},t.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore($k,{keyPath:"compositeKey"})}}}catch(t){e(wo.create("storage-open",{originalErrorMessage:t?.message}))}}),Tf)}function kB(n,e){return wB(IB(n),e)}function wB(n,e){return v(this,null,function*(){let r=(yield vB()).transaction($k,"readwrite"),o=r.objectStore($k).put({compositeKey:n,value:e});return new Promise((s,a)=>{o.onsuccess=c=>{s()},r.onerror=c=>{var u;a(wo.create("storage-set",{originalErrorMessage:(u=c.target.error)===null||u===void 0?void 0:u.message}))}})})}function IB(n){return`${n.options.appId}-${n.name}`}var rd=new jr("@firebase/app-check");function Hk(n,e){return Yu()?kB(n,e).catch(t=>{rd.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function _8(){return k8().enabled}function C8(){return v(this,null,function*(){let n=k8();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var MB={error:"UNKNOWN_ERROR"};function _B(n){return kf.encodeString(JSON.stringify(n),!1)}function Gk(n,e=!1,t=!1){return v(this,null,function*(){let r=n.app;w8(r);let i=lr(r),o=i.token,s;if(o&&!id(o)&&(i.token=void 0,o=void 0),!o){let u=yield i.cachedTokenPromise;u&&(id(u)?o=u:yield Hk(r,void 0))}if(!e&&o&&id(o))return{token:o.token};let a=!1;if(_8())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=I8(M8(r,yield C8()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let u=yield i.exchangeTokenPromise;return yield Hk(r,u),i.token=u,{token:u.token}}catch(u){return u.code==="appCheck/throttled"||u.code==="appCheck/initial-throttle"?rd.warn(u.message):t&&rd.error(u),zk(u)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),o=yield lr(r).exchangeTokenPromise}catch(u){u.code==="appCheck/throttled"||u.code==="appCheck/initial-throttle"?rd.warn(u.message):t&&rd.error(u),s=u}let c;return o?s?id(o)?c={token:o.token,internalError:s}:c=zk(s):(c={token:o.token},i.token=o,yield Hk(r,o)):c=zk(s),a&&SB(r,c),c})}function CB(n){return v(this,null,function*(){let e=n.app;w8(e);let{provider:t}=lr(e);if(_8()){let r=yield C8(),{token:i}=yield I8(M8(e,r),n.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield t.getToken();return{token:r}}})}function bB(n,e,t,r){let{app:i}=n,o=lr(i),s={next:t,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&id(o.token)){let a=o.token;Promise.resolve().then(()=>{t({token:a.token}),y8(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>y8(n))}function b8(n,e){let t=lr(n),r=t.tokenObservers.filter(i=>i.next!==e);r.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function y8(n){let{app:e}=n,t=lr(e),r=t.tokenRefresher;r||(r=EB(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function EB(n){let{app:e}=n;return new Uk(()=>v(null,null,function*(){let t=lr(e),r;if(t.token?r=yield Gk(n,!0):r=yield Gk(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let t=lr(e);if(t.token){let r=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,i=t.token.expireTimeMillis-300*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},g8.RETRIAL_MIN_WAIT,g8.RETRIAL_MAX_WAIT)}function SB(n,e){let t=lr(n).tokenObservers;for(let r of t)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function id(n){return n.expireTimeMillis-Date.now()>0}function zk(n){return{token:_B(MB),error:n}}var Wk=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=lr(this.app);for(let t of e)b8(this.app,t.next);return Promise.resolve()}};function TB(n,e){return new Wk(n,e)}function DB(n){return{getToken:e=>Gk(n,e),getLimitedUseToken:()=>CB(n),addTokenListener:e=>bB(n,"INTERNAL",e),removeTokenListener:e=>b8(n.app,e)}}var xB="@firebase/app-check",AB="0.10.1";var LB="app-check",v8="app-check-internal";function RB(){cr(new hn(LB,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return TB(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(v8).initialize()})),cr(new hn(v8,n=>{let e=n.getProvider("app-check").getImmediate();return DB(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),ut(xB,AB)}RB();var PB="app-check";var Tc=class{constructor(){return Sc(PB)}};var NB=["localhost","0.0.0.0","127.0.0.1"],o1e=typeof window<"u"&&NB.includes(window.location.hostname);function q8(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var H8=q8,z8=new ar("auth","Firebase",q8());var Pf=new jr("@firebase/auth");function OB(n,...e){Pf.logLevel<=Me.WARN&&Pf.warn(`Auth (${yo}): ${n}`,...e)}function xf(n,...e){Pf.logLevel<=Me.ERROR&&Pf.error(`Auth (${yo}): ${n}`,...e)}function Hr(n,...e){throw v4(n,...e)}function Fs(n,...e){return v4(n,...e)}function U8(n,e,t){let r=Object.assign(Object.assign({},H8()),{[e]:t});return new ar("auth","Firebase",r).create(e,{appName:n.name})}function Ci(n){return U8(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function v4(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return z8.create(n,...e)}function le(n,e,...t){if(!n)throw v4(e,...t)}function Mi(n){let e="INTERNAL ASSERTION FAILED: "+n;throw xf(e),new Error(e)}function _o(n,e){n||Mi(e)}function Xk(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function FB(){return E8()==="http:"||E8()==="https:"}function E8(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function VB(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(FB()||U6()||"connection"in navigator)?navigator.onLine:!0}function jB(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var Vs=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,_o(t>e,"Short delay should be less than long delay!"),this.isMobile=H6()||$6()}get(){return VB()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function k4(n,e){_o(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var Nf=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Mi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Mi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Mi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var BB={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var qB=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],HB=new Vs(3e4,6e4);function Co(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function bo(o,s,a,c){return v(this,arguments,function*(n,e,t,r,i={}){return $8(n,i,()=>v(null,null,function*(){let u={},h={};r&&(e==="GET"?h=r:u={body:JSON.stringify(r)});let f=Ju(Object.assign({key:n.config.apiKey},h)).slice(1),m=yield n._getAdditionalHeaders();m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode);let y=Object.assign({method:e,headers:m},u);return z6()||(y.referrerPolicy="no-referrer"),n.emulatorConfig&&mo(n.emulatorConfig.host)&&(y.credentials="include"),Nf.fetch()(yield G8(n,n.config.apiHost,t,f),y)}))})}function $8(n,e,t){return v(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},BB),e);try{let i=new Yk(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw Df(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Df(n,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw Df(n,"email-already-in-use",s);if(c==="USER_DISABLED")throw Df(n,"user-disabled",s);let h=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw U8(n,h,u);Hr(n,h)}}catch(i){if(i instanceof Tn)throw i;Hr(n,"network-request-failed",{message:String(i)})}})}function pd(o,s,a,c){return v(this,arguments,function*(n,e,t,r,i={}){let u=yield bo(n,e,t,r,i);return"mfaPendingCredential"in u&&Hr(n,"multi-factor-auth-required",{_serverResponse:u}),u})}function G8(n,e,t,r){return v(this,null,function*(){let i=`${e}${t}?${r}`,o=n,s=o.config.emulator?k4(n.config,i):`${n.config.apiScheme}://${i}`;return qB.includes(t)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}function zB(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var Yk=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Fs(this.auth,"network-request-failed")),HB.get())})}};function Df(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=Fs(n,e,r);return i.customData._tokenResponse=t,i}function S8(n){return n!==void 0&&n.enterprise!==void 0}var Jk=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return zB(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};function UB(n,e){return v(this,null,function*(){return bo(n,"GET","/v2/recaptchaConfig",Co(n,e))})}function $B(n,e){return v(this,null,function*(){return bo(n,"POST","/v1/accounts:delete",e)})}function Of(n,e){return v(this,null,function*(){return bo(n,"POST","/v1/accounts:lookup",e)})}function sd(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function w4(n,e=!1){return v(this,null,function*(){let t=ft(n),r=yield t.getIdToken(e),i=I4(r);le(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:sd(Kk(i.auth_time)),issuedAtTime:sd(Kk(i.iat)),expirationTime:sd(Kk(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function Kk(n){return Number(n)*1e3}function I4(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return xf("JWT malformed, contained fewer than 3 sections"),null;try{let i=wf(t);return i?JSON.parse(i):(xf("Failed to decode base64 JWT payload"),null)}catch(i){return xf("Caught error parsing JWT payload as JSON",i?.toString()),null}}function T8(n){let e=I4(n);return le(e,"internal-error"),le(typeof e.exp<"u","internal-error"),le(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function cd(n,e,t=!1){return v(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof Tn&&GB(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function GB({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var e4=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>v(this,null,function*(){yield this.iteration()}),t)}iteration(){return v(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var ld=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=sd(this.lastLoginAt),this.creationTime=sd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Ff(n){return v(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield cd(n,Of(t,{idToken:r}));le(i?.users.length,t,"internal-error");let o=i.users[0];n._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?W8(o.providerUserInfo):[],a=WB(n.providerData,s),c=n.isAnonymous,u=!(n.email&&o.passwordHash)&&!a?.length,h=c?u:!1,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new ld(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(n,f)})}function M4(n){return v(this,null,function*(){let e=ft(n);yield Ff(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function WB(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function W8(n){return n.map(e=>{var{providerId:t}=e,r=sm(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function KB(n,e){return v(this,null,function*(){let t=yield $8(n,{},()=>v(null,null,function*(){let r=Ju({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=yield G8(n,i,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let c={method:"POST",headers:a,body:r};return n.emulatorConfig&&mo(n.emulatorConfig.host)&&(c.credentials="include"),Nf.fetch()(s,c)}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function ZB(n,e){return v(this,null,function*(){return bo(n,"POST","/v2/accounts:revokeToken",Co(n,e))})}var ad=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){le(e.idToken,"internal-error"),le(typeof e.idToken<"u","internal-error"),le(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):T8(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){le(e.length!==0,"internal-error");let t=T8(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return v(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(le(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return v(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield KB(e,t);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new n;return r&&(le(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(le(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(le(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return Mi("not implemented")}};function Io(n,e){le(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var Mo=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=sm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new e4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new ld(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return v(this,null,function*(){let t=yield cd(this,this.stsTokenManager.getToken(this.auth,e));return le(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return w4(this,e)}reload(){return M4(this)}_assign(e){this!==e&&(le(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){le(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return v(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield Ff(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return v(this,null,function*(){if(vn(this.auth.app))return Promise.reject(Ci(this.auth));let e=yield this.getIdToken();return yield cd(this,$B(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,a,c,u,h;let f=(r=t.displayName)!==null&&r!==void 0?r:void 0,m=(i=t.email)!==null&&i!==void 0?i:void 0,y=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,M=(s=t.photoURL)!==null&&s!==void 0?s:void 0,L=(a=t.tenantId)!==null&&a!==void 0?a:void 0,D=(c=t._redirectEventId)!==null&&c!==void 0?c:void 0,x=(u=t.createdAt)!==null&&u!==void 0?u:void 0,N=(h=t.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:$,emailVerified:ee,isAnonymous:Te,providerData:se,stsTokenManager:C}=t;le($&&C,e,"internal-error");let k=ad.fromJSON(this.name,C);le(typeof $=="string",e,"internal-error"),Io(f,e.name),Io(m,e.name),le(typeof ee=="boolean",e,"internal-error"),le(typeof Te=="boolean",e,"internal-error"),Io(y,e.name),Io(M,e.name),Io(L,e.name),Io(D,e.name),Io(x,e.name),Io(N,e.name);let w=new n({uid:$,auth:e,email:m,emailVerified:ee,displayName:f,isAnonymous:Te,photoURL:M,phoneNumber:y,tenantId:L,stsTokenManager:k,createdAt:x,lastLoginAt:N});return se&&Array.isArray(se)&&(w.providerData=se.map(_=>Object.assign({},_))),D&&(w._redirectEventId=D),w}static _fromIdTokenResponse(e,t,r=!1){return v(this,null,function*(){let i=new ad;i.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Ff(o),o})}static _fromGetAccountInfoResponse(e,t,r){return v(this,null,function*(){let i=t.users[0];le(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?W8(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new ad;a.updateFromIdToken(r);let c=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new ld(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(c,u),c})}};var D8=new Map;function _i(n){_o(n instanceof Function,"Expected a class definition");let e=D8.get(n);return e?(_o(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,D8.set(n,e),e)}var QB=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return v(this,null,function*(){return!0})}_set(t,r){return v(this,null,function*(){this.storage[t]=r})}_get(t){return v(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return v(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),t4=QB;function Af(n,e,t){return`firebase:${n}:${e}:${t}`}var Vf=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=Af(this.userKey,i.apiKey,o),this.fullPersistenceKey=Af("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return v(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=yield Of(this.auth,{idToken:e}).catch(()=>{});return t?Mo._fromGetAccountInfoResponse(this.auth,t,e):null}return Mo._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return v(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return v(this,null,function*(){if(!t.length)return new n(_i(t4),e,r);let i=(yield Promise.all(t.map(u=>v(null,null,function*(){if(yield u._isAvailable())return u})))).filter(u=>u),o=i[0]||_i(t4),s=Af(r,e.config.apiKey,e.name),a=null;for(let u of t)try{let h=yield u._get(s);if(h){let f;if(typeof h=="string"){let m=yield Of(e,{idToken:h}).catch(()=>{});if(!m)break;f=yield Mo._fromGetAccountInfoResponse(e,m,h)}else f=Mo._fromJSON(e,h);u!==o&&(a=f),o=u;break}}catch{}let c=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new n(o,e,r):(o=c[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(t.map(u=>v(null,null,function*(){if(u!==o)try{yield u._remove(s)}catch{}}))),new n(o,e,r))})}};function x8(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(X8(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(K8(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(J8(e))return"Blackberry";if(eS(e))return"Webos";if(Z8(e))return"Safari";if((e.includes("chrome/")||Q8(e))&&!e.includes("edge/"))return"Chrome";if(Y8(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function K8(n=Lt()){return/firefox\//i.test(n)}function Z8(n=Lt()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Q8(n=Lt()){return/crios\//i.test(n)}function X8(n=Lt()){return/iemobile/i.test(n)}function Y8(n=Lt()){return/android/i.test(n)}function J8(n=Lt()){return/blackberry/i.test(n)}function eS(n=Lt()){return/webos/i.test(n)}function _4(n=Lt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function XB(n=Lt()){var e;return _4(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function YB(){return G6()&&document.documentMode===10}function tS(n=Lt()){return _4(n)||Y8(n)||eS(n)||J8(n)||/windows phone/i.test(n)||X8(n)}function nS(n,e=[]){let t;switch(n){case"Browser":t=x8(Lt());break;case"Worker":t=`${x8(Lt())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${yo}/${r}`}var n4=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=o=>new Promise((s,a)=>{try{let c=e(o);s(c)}catch(c){a(c)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return v(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function JB(t){return v(this,arguments,function*(n,e={}){return bo(n,"GET","/v2/passwordPolicy",Co(n,e))})}var eq=6,r4=class{constructor(e){var t,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:eq,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(t=c.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsUppercaseLetter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var i4=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new jf(this),this.idTokenSubscription=new jf(this),this.beforeStateQueue=new n4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=z8,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=_i(t)),this._initializationPromise=this.queue(()=>v(this,null,function*(){var r,i,o;if(!this._deleted&&(this.persistenceManager=yield Vf.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return v(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return v(this,null,function*(){try{let t=yield Of(this,{idToken:e}),r=yield Mo._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return v(this,null,function*(){var t;if(vn(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!s||s===a)&&c?.user&&(i=c.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return le(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return v(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return v(this,null,function*(){try{yield Ff(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=jB()}_delete(){return v(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return v(this,null,function*(){if(vn(this.app))return Promise.reject(Ci(this));let t=e?ft(e):null;return t&&le(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return v(this,null,function*(){if(!this._deleted)return e&&le(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>v(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return v(this,null,function*(){return vn(this.app)?Promise.reject(Ci(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return vn(this.app)?Promise.reject(Ci(this)):this.queue(()=>v(this,null,function*(){yield this.assertedPersistence.setPersistence(_i(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return v(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return v(this,null,function*(){let e=yield JB(this),t=new r4(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ar("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return v(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield ZB(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return v(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return v(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&_i(e)||this._popupRedirectResolver;le(t,this,"argument-error"),this.redirectPersistenceManager=yield Vf.create(this,[_i(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return v(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>v(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return v(this,null,function*(){if(e===this.currentUser)return this.queue(()=>v(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(le(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let c=e.addObserver(t,r,i);return()=>{s=!0,c()}}else{let c=e.addObserver(t);return()=>{s=!0,c()}}}directlySetCurrentUser(e){return v(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return le(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=nS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return v(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return v(this,null,function*(){var e;if(vn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&OB(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function Bs(n){return ft(n)}var jf=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=Q6(t=>this.observer=t)}get next(){return le(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Gf={loadJS(){return v(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function tq(n){Gf=n}function rS(n){return Gf.loadJS(n)}function nq(){return Gf.recaptchaEnterpriseScript}function rq(){return Gf.gapiScript}function iS(n){return`__${n}${Math.floor(Math.random()*1e6)}`}var o4=class{constructor(){this.enterprise=new s4}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}},s4=class{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}};var iq="recaptcha-enterprise",oS="NO_RECAPTCHA",a4=class{constructor(e){this.type=iq,this.auth=Bs(e)}verify(e="verify",t=!1){return v(this,null,function*(){function r(o){return v(this,null,function*(){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,a)=>v(null,null,function*(){UB(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let u=new Jk(c);return o.tenantId==null?o._agentRecaptchaConfig=u:o._tenantRecaptchaConfigs[o.tenantId]=u,s(u.siteKey)}}).catch(c=>{a(c)})}))})}function i(o,s,a){let c=window.grecaptcha;S8(c)?c.enterprise.ready(()=>{c.enterprise.execute(o,{action:e}).then(u=>{s(u)}).catch(()=>{s(oS)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new o4().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{r(this.auth).then(a=>{if(!t&&S8(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let c=nq();c.length!==0&&(c+=a),rS(c).then(()=>{i(a,o,s)}).catch(u=>{s(u)})}}).catch(a=>{s(a)})})})}};function od(n,e,t,r=!1,i=!1){return v(this,null,function*(){let o=new a4(n),s;if(i)s=oS;else try{s=yield o.verify(t)}catch{s=yield o.verify(t,!0)}let a=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){let c=a.phoneEnrollmentInfo.phoneNumber,u=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:u,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){let c=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a})}function c4(n,e,t,r,i){return v(this,null,function*(){var o,s;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let a=yield od(n,e,t,t==="getOobCode");return r(n,a)}else return r(n,e).catch(a=>v(null,null,function*(){if(a.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let c=yield od(n,e,t,t==="getOobCode");return r(n,c)}else return Promise.reject(a)}));else if(i==="PHONE_PROVIDER")if(!((s=n._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("PHONE_PROVIDER")){let a=yield od(n,e,t);return r(n,a).catch(c=>v(null,null,function*(){var u;if(((u=n._getRecaptchaConfig())===null||u===void 0?void 0:u.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(c.code==="auth/missing-recaptcha-token"||c.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);let h=yield od(n,e,t,!1,!0);return r(n,h)}return Promise.reject(c)}))}else{let a=yield od(n,e,t,!1,!0);return r(n,a)}else return Promise.reject(i+" provider is not supported.")})}function C4(n,e){let t=bc(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),o=t.getOptions();if(Vr(o,e??{}))return i;Hr(i,"already-initialized")}return t.initialize({options:e})}function oq(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(_i);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function b4(n,e,t){let r=Bs(n);le(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,o=sS(e),{host:s,port:a}=sq(e),c=a===null?"":`:${a}`,u={url:`${o}//${s}${c}/`},h=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){le(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),le(Vr(u,r.config.emulator)&&Vr(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,mo(s)?(Mf(`${o}//${s}${c}`),_f("Auth",!0)):i||aq()}function sS(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function sq(n){let e=sS(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:A8(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:A8(s)}}}function A8(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function aq(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var ud=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Mi("not implemented")}_getIdTokenResponse(e){return Mi("not implemented")}_linkToIdToken(e,t){return Mi("not implemented")}_getReauthenticationResolver(e){return Mi("not implemented")}};function cq(n,e){return v(this,null,function*(){return bo(n,"POST","/v1/accounts:signUp",e)})}function lq(n,e){return v(this,null,function*(){return pd(n,"POST","/v1/accounts:signInWithPassword",Co(n,e))})}function uq(n,e){return v(this,null,function*(){return pd(n,"POST","/v1/accounts:signInWithEmailLink",Co(n,e))})}function dq(n,e){return v(this,null,function*(){return pd(n,"POST","/v1/accounts:signInWithEmailLink",Co(n,e))})}var dd=class n extends ud{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new n(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new n(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){return v(this,null,function*(){switch(this.signInMethod){case"password":let t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return c4(e,t,"signInWithPassword",lq,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return uq(e,{email:this._email,oobCode:this._password});default:Hr(e,"internal-error")}})}_linkToIdToken(e,t){return v(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return c4(e,r,"signUpPassword",cq,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return dq(e,{idToken:t,email:this._email,oobCode:this._password});default:Hr(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function Zk(n,e){return v(this,null,function*(){return pd(n,"POST","/v1/accounts:signInWithIdp",Co(n,e))})}function hq(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function pq(n){let e=_c(Cc(n)).link,t=e?_c(Cc(e)).deep_link_id:null,r=_c(Cc(n)).deep_link_id;return(r?_c(Cc(r)).link:null)||r||t||e||n}var Bf=class n{constructor(e){var t,r,i,o,s,a;let c=_c(Cc(e)),u=(t=c.apiKey)!==null&&t!==void 0?t:null,h=(r=c.oobCode)!==null&&r!==void 0?r:null,f=hq((i=c.mode)!==null&&i!==void 0?i:null);le(u&&h&&f,"argument-error"),this.apiKey=u,this.operation=f,this.code=h,this.continueUrl=(o=c.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=c.lang)!==null&&s!==void 0?s:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let t=pq(e);try{return new n(t)}catch{return null}}};var aS=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return dd._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){let i=Bf.parseLink(r);return le(i,"argument-error"),dd._fromEmailAndCode(t,i.code,i.tenantId)}}n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return n})(),qf=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var l4=class extends qf{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function fq(n,e){return v(this,null,function*(){return pd(n,"POST","/v1/accounts:signUp",Co(n,e))})}var Dc=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return v(this,null,function*(){let o=yield Mo._fromIdTokenResponse(e,r,i),s=L8(r);return new n({user:o,providerId:s,_tokenResponse:r,operationType:t})})}static _forOperation(e,t,r){return v(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=L8(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})})}};function L8(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var u4=class n extends Tn{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function cS(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?u4._fromErrorAndOperation(n,o,e,r):o})}function mq(n,e,t=!1){return v(this,null,function*(){let r=yield cd(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return Dc._forOperation(n,"link",r)})}function gq(n,e,t=!1){return v(this,null,function*(){let{auth:r}=n;if(vn(r.app))return Promise.reject(Ci(r));let i="reauthenticate";try{let o=yield cd(n,cS(r,i,e,n),t);le(o.idToken,r,"internal-error");let s=I4(o.idToken);le(s,r,"internal-error");let{sub:a}=s;return le(n.uid===a,r,"user-mismatch"),Dc._forOperation(n,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&Hr(r,"user-mismatch"),o}})}function lS(n,e,t=!1){return v(this,null,function*(){if(vn(n.app))return Promise.reject(Ci(n));let r="signIn",i=yield cS(n,r,e),o=yield Dc._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(o.user)),o})}function E4(n,e){return v(this,null,function*(){return lS(Bs(n),e)})}function uS(n){return v(this,null,function*(){let e=Bs(n);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function S4(n,e,t){return v(this,null,function*(){if(vn(n.app))return Promise.reject(Ci(n));let r=Bs(n),s=yield c4(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",fq,"EMAIL_PASSWORD_PROVIDER").catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&uS(n),c}),a=yield Dc._fromIdTokenResponse(r,"signIn",s);return yield r._updateCurrentUser(a.user),a})}function T4(n,e,t){return vn(n.app)?Promise.reject(Ci(n)):E4(ft(n),aS.credential(e,t)).catch(r=>v(null,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&uS(n),r}))}function D4(n,e,t,r){return ft(n).onIdTokenChanged(e,t,r)}function x4(n,e,t){return ft(n).beforeAuthStateChanged(e,t)}var Hf="__sak";var zf=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Hf,"1"),this.storage.removeItem(Hf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var yq=1e3,vq=10,kq=(()=>{class n extends zf{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=tS(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&t(r,o,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((a,c,u)=>{this.notifyListeners(a,u)});return}let i=t.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);YB()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,vq):o()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},yq)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,r){return v(this,null,function*(){yield Oi(n.prototype,this,"_set").call(this,t,r),this.localCache[t]=JSON.stringify(r)})}_get(t){return v(this,null,function*(){let r=yield Oi(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(r),r})}_remove(t){return v(this,null,function*(){yield Oi(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),dS=kq;var wq=(()=>{class n extends zf{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),A4=wq;function Iq(n){return Promise.all(n.map(e=>v(null,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var Mq=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(o=>o.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){return v(this,null,function*(){let r=t,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let c=Array.from(a).map(h=>v(this,null,function*(){return h(r.origin,s)})),u=yield Iq(c);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:u})})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function hS(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var d4=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){return v(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,c)=>{let u=hS("",20);i.port1.start();let h=setTimeout(()=>{c(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(f){let m=f;if(m.data.eventId===u)switch(m.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(m.data.response);break;default:clearTimeout(h),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:t},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function qr(){return window}function _q(n){qr().location.href=n}function pS(){return typeof qr().WorkerGlobalScope<"u"&&typeof qr().importScripts=="function"}function Cq(){return v(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function bq(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function Eq(){return pS()?self:null}var fS="firebaseLocalStorageDb",Sq=1,Uf="firebaseLocalStorage",mS="fbase_key",js=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function Wf(n,e){return n.transaction([Uf],e?"readwrite":"readonly").objectStore(Uf)}function Tq(){let n=indexedDB.deleteDatabase(fS);return new js(n).toPromise()}function h4(){let n=indexedDB.open(fS,Sq);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(Uf,{keyPath:mS})}catch(i){t(i)}}),n.addEventListener("success",()=>v(null,null,function*(){let r=n.result;r.objectStoreNames.contains(Uf)?e(r):(r.close(),yield Tq(),e(yield h4()))}))})}function R8(n,e,t){return v(this,null,function*(){let r=Wf(n,!0).put({[mS]:e,value:t});return new js(r).toPromise()})}function Dq(n,e){return v(this,null,function*(){let t=Wf(n,!1).get(e),r=yield new js(t).toPromise();return r===void 0?null:r.value})}function P8(n,e){let t=Wf(n,!0).delete(e);return new js(t).toPromise()}var xq=800,Aq=3,Lq=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return v(this,null,function*(){return this.db?this.db:(this.db=yield h4(),this.db)})}_withRetries(t){return v(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield t(i)}catch(i){if(r++>Aq)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return v(this,null,function*(){return pS()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return v(this,null,function*(){this.receiver=Mq._getInstance(Eq()),this.receiver._subscribe("keyChanged",(t,r)=>v(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(t,r)=>v(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return v(this,null,function*(){var t,r;if(this.activeServiceWorker=yield Cq(),!this.activeServiceWorker)return;this.sender=new d4(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return v(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||bq()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return v(this,null,function*(){try{if(!indexedDB)return!1;let t=yield h4();return yield R8(t,Hf,"1"),yield P8(t,Hf),!0}catch{}return!1})}_withPendingWrite(t){return v(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,r){return v(this,null,function*(){return this._withPendingWrite(()=>v(this,null,function*(){return yield this._withRetries(i=>R8(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)}))})}_get(t){return v(this,null,function*(){let r=yield this._withRetries(i=>Dq(i,t));return this.localCache[t]=r,r})}_remove(t){return v(this,null,function*(){return this._withPendingWrite(()=>v(this,null,function*(){return yield this._withRetries(r=>P8(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return v(this,null,function*(){let t=yield this._withRetries(o=>{let s=Wf(o,!1).getAll();return new js(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:o,value:s}of t)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>v(this,null,function*(){return this._poll()}),xq)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),gS=Lq;var p1e=iS("rcb"),f1e=new Vs(3e4,6e4);function Rq(n,e){return e?_i(e):(le(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var hd=class extends ud{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Zk(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Zk(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Zk(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function Pq(n){return lS(n.auth,new hd(n),n.bypassAuthState)}function Nq(n){let{auth:e,user:t}=n;return le(t,e,"internal-error"),gq(t,new hd(n),n.bypassAuthState)}function Oq(n){return v(this,null,function*(){let{auth:e,user:t}=n;return le(t,e,"internal-error"),mq(t,new hd(n),n.bypassAuthState)})}var p4=class{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>v(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return v(this,null,function*(){let{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let c={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(u){this.reject(u)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Pq;case"linkViaPopup":case"linkViaRedirect":return Oq;case"reauthViaPopup":case"reauthViaRedirect":return Nq;default:Hr(this.auth,"internal-error")}}resolve(e){_o(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){_o(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var m1e=new Vs(2e3,1e4);var Fq="pendingRedirect",Lf=new Map,f4=class n extends p4{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){return v(this,null,function*(){let e=Lf.get(this.auth._key());if(!e){try{let r=(yield Vq(this.resolver,this.auth))?yield Oi(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Lf.set(this.auth._key(),e)}return this.bypassAuthState||Lf.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return v(this,null,function*(){if(e.type==="signInViaRedirect")return Oi(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,Oi(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return v(this,null,function*(){})}cleanUp(){}};function Vq(n,e){return v(this,null,function*(){let t=qq(e),r=Bq(n);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(t))==="true";return yield r._remove(t),i})}function jq(n,e){Lf.set(n._key(),e)}function Bq(n){return _i(n._redirectPersistence)}function qq(n){return Af(Fq,n.config.apiKey,n.name)}function Hq(n,e,t=!1){return v(this,null,function*(){if(vn(n.app))return Promise.reject(Ci(n));let r=Bs(n),i=Rq(r,e),s=yield new f4(r,i,t).execute();return s&&!t&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var zq=600*1e3,m4=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Uq(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!yS(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Fs(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=zq&&this.cachedEventUids.clear(),this.cachedEventUids.has(N8(e))}saveEventToCache(e){this.cachedEventUids.add(N8(e)),this.lastProcessedEventTime=Date.now()}};function N8(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function yS({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function Uq(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return yS(n);default:return!1}}function $q(t){return v(this,arguments,function*(n,e={}){return bo(n,"GET","/v1/projects",e)})}var Gq=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Wq=/^https?/;function Kq(n){return v(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield $q(n);for(let t of e)try{if(Zq(t))return}catch{}Hr(n,"unauthorized-domain")})}function Zq(n){let e=Xk(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let s=new URL(n);return s.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&s.hostname===r}if(!Wq.test(t))return!1;if(Gq.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var Qq=new Vs(3e4,6e4);function O8(){let n=qr().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function Xq(n){return new Promise((e,t)=>{var r,i,o;function s(){O8(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{O8(),t(Fs(n,"network-request-failed"))},timeout:Qq.get()})}if(!((i=(r=qr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=qr().gapi)===null||o===void 0)&&o.load)s();else{let a=iS("iframefcb");return qr()[a]=()=>{gapi.load?s():t(Fs(n,"network-request-failed"))},rS(`${rq()}?onload=${a}`).catch(c=>t(c))}}).catch(e=>{throw Rf=null,e})}var Rf=null;function Yq(n){return Rf=Rf||Xq(n),Rf}var Jq=new Vs(5e3,15e3),eH="__/auth/iframe",tH="emulator/auth/iframe",nH={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},rH=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function iH(n){let e=n.config;le(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?k4(e,tH):`https://${n.config.authDomain}/${eH}`,r={apiKey:e.apiKey,appName:n.name,v:yo},i=rH.get(n.config.apiHost);i&&(r.eid=i);let o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${Ju(r).slice(1)}`}function oH(n){return v(this,null,function*(){let e=yield Yq(n),t=qr().gapi;return le(t,n,"internal-error"),e.open({where:document.body,url:iH(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:nH,dontclear:!0},r=>new Promise((i,o)=>v(null,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=Fs(n,"network-request-failed"),a=qr().setTimeout(()=>{o(s)},Jq.get());function c(){qr().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{o(s)})})))})}var sH={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},aH=500,cH=600,lH="_blank",uH="http://localhost",$f=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function dH(n,e,t,r=aH,i=cH){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",c=Object.assign(Object.assign({},sH),{width:r.toString(),height:i.toString(),top:o,left:s}),u=Lt().toLowerCase();t&&(a=Q8(u)?lH:t),K8(u)&&(e=e||uH,c.scrollbars="yes");let h=Object.entries(c).reduce((m,[y,M])=>`${m}${y}=${M},`,"");if(XB(u)&&a!=="_self")return hH(e||"",a),new $f(null);let f=window.open(e||"",a,h);le(f,n,"popup-blocked");try{f.focus()}catch{}return new $f(f)}function hH(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var pH="__/auth/handler",fH="emulator/auth/handler",mH=encodeURIComponent("fac");function F8(n,e,t,r,i,o){return v(this,null,function*(){le(n.config.authDomain,n,"auth-domain-config-required"),le(n.config.apiKey,n,"invalid-api-key");let s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:yo,eventId:i};if(e instanceof qf){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",Z6(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,f]of Object.entries(o||{}))s[h]=f}if(e instanceof l4){let h=e.getScopes().filter(f=>f!=="");h.length>0&&(s.scopes=h.join(","))}n.tenantId&&(s.tid=n.tenantId);let a=s;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let c=yield n._getAppCheckToken(),u=c?`#${mH}=${encodeURIComponent(c)}`:"";return`${gH(n)}?${Ju(a).slice(1)}${u}`})}function gH({config:n}){return n.emulator?k4(n,fH):`https://${n.authDomain}/${pH}`}var Qk="webStorageSupport",g4=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=A4,this._completeRedirectFn=Hq,this._overrideRedirectResult=jq}_openPopup(e,t,r,i){return v(this,null,function*(){var o;_o((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield F8(e,t,r,Xk(),i);return dH(e,s,hS())})}_openRedirect(e,t,r,i){return v(this,null,function*(){yield this._originValidation(e);let o=yield F8(e,t,r,Xk(),i);return _q(o),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(_o(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){return v(this,null,function*(){let t=yield oH(e),r=new m4(e);return t.register("authEvent",i=>(le(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Qk,{type:Qk},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[Qk];s!==void 0&&t(!!s),Hr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Kq(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return tS()||Z8()||_4()}},vS=g4;var V8="@firebase/auth",j8="1.10.8";var y4=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return v(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){le(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function yH(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function vH(n){cr(new hn("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;le(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:nS(n)},u=new i4(r,i,o,c);return oq(u,t),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),cr(new hn("auth-internal",e=>{let t=Bs(e.getProvider("auth").getImmediate());return(r=>new y4(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ut(V8,j8,yH(n)),ut(V8,j8,"esm2017")}var kH=300,wH=Ck("authIdTokenMaxAge")||kH,B8=null,IH=n=>e=>v(null,null,function*(){let t=e&&(yield e.getIdTokenResult()),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>wH)return;let i=t?.token;B8!==i&&(B8=i,yield fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function L4(n=Ps()){let e=bc(n,"auth");if(e.isInitialized())return e.getImmediate();let t=C4(n,{popupRedirectResolver:vS,persistence:[gS,dS,A4]}),r=Ck("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=IH(o.toString());x4(t,s,()=>s(t.currentUser)),D4(t,a=>s(a))}}let i=Mk("auth");return i&&b4(t,`http://${i}`),t}function MH(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}tq({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let o=Fs("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",MH().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});vH("Browser");var kS="auth",qs=class{constructor(e){return e}},fd=class{constructor(){return Sc(kS)}};var R4=new j("angularfire2.auth-instances");function hz(n,e){let t=nd(kS,n,e);return t&&new qs(t)}function pz(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new qs(r)}}var fz={provide:fd,deps:[[new cn,R4]]},mz={provide:qs,useFactory:hz,deps:[[new cn,R4],Ii]};function wS(n,...e){return ut("angularfire",vo.full,"auth"),Zt([mz,fz,{provide:R4,useFactory:pz(n),multi:!0,deps:[Ce,Ue,ko,Os,[new cn,Tc],...e]}])}var IS=mt(S4,!0,2);var MS=mt(L4,!0);var _S=mt(T4,!0,2);var CS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},bS={};var bi,P4;(function(){var n;function e(C,k){function w(){}w.prototype=k.prototype,C.D=k.prototype,C.prototype=new w,C.prototype.constructor=C,C.C=function(_,E,T){for(var I=Array(arguments.length-2),Yr=2;Yr<arguments.length;Yr++)I[Yr-2]=arguments[Yr];return k.prototype[E].apply(_,I)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(C,k,w){w||(w=0);var _=Array(16);if(typeof k=="string")for(var E=0;16>E;++E)_[E]=k.charCodeAt(w++)|k.charCodeAt(w++)<<8|k.charCodeAt(w++)<<16|k.charCodeAt(w++)<<24;else for(E=0;16>E;++E)_[E]=k[w++]|k[w++]<<8|k[w++]<<16|k[w++]<<24;k=C.g[0],w=C.g[1],E=C.g[2];var T=C.g[3],I=k+(T^w&(E^T))+_[0]+3614090360&4294967295;k=w+(I<<7&4294967295|I>>>25),I=T+(E^k&(w^E))+_[1]+3905402710&4294967295,T=k+(I<<12&4294967295|I>>>20),I=E+(w^T&(k^w))+_[2]+606105819&4294967295,E=T+(I<<17&4294967295|I>>>15),I=w+(k^E&(T^k))+_[3]+3250441966&4294967295,w=E+(I<<22&4294967295|I>>>10),I=k+(T^w&(E^T))+_[4]+4118548399&4294967295,k=w+(I<<7&4294967295|I>>>25),I=T+(E^k&(w^E))+_[5]+1200080426&4294967295,T=k+(I<<12&4294967295|I>>>20),I=E+(w^T&(k^w))+_[6]+2821735955&4294967295,E=T+(I<<17&4294967295|I>>>15),I=w+(k^E&(T^k))+_[7]+4249261313&4294967295,w=E+(I<<22&4294967295|I>>>10),I=k+(T^w&(E^T))+_[8]+1770035416&4294967295,k=w+(I<<7&4294967295|I>>>25),I=T+(E^k&(w^E))+_[9]+2336552879&4294967295,T=k+(I<<12&4294967295|I>>>20),I=E+(w^T&(k^w))+_[10]+4294925233&4294967295,E=T+(I<<17&4294967295|I>>>15),I=w+(k^E&(T^k))+_[11]+2304563134&4294967295,w=E+(I<<22&4294967295|I>>>10),I=k+(T^w&(E^T))+_[12]+1804603682&4294967295,k=w+(I<<7&4294967295|I>>>25),I=T+(E^k&(w^E))+_[13]+4254626195&4294967295,T=k+(I<<12&4294967295|I>>>20),I=E+(w^T&(k^w))+_[14]+2792965006&4294967295,E=T+(I<<17&4294967295|I>>>15),I=w+(k^E&(T^k))+_[15]+1236535329&4294967295,w=E+(I<<22&4294967295|I>>>10),I=k+(E^T&(w^E))+_[1]+4129170786&4294967295,k=w+(I<<5&4294967295|I>>>27),I=T+(w^E&(k^w))+_[6]+3225465664&4294967295,T=k+(I<<9&4294967295|I>>>23),I=E+(k^w&(T^k))+_[11]+643717713&4294967295,E=T+(I<<14&4294967295|I>>>18),I=w+(T^k&(E^T))+_[0]+3921069994&4294967295,w=E+(I<<20&4294967295|I>>>12),I=k+(E^T&(w^E))+_[5]+3593408605&4294967295,k=w+(I<<5&4294967295|I>>>27),I=T+(w^E&(k^w))+_[10]+38016083&4294967295,T=k+(I<<9&4294967295|I>>>23),I=E+(k^w&(T^k))+_[15]+3634488961&4294967295,E=T+(I<<14&4294967295|I>>>18),I=w+(T^k&(E^T))+_[4]+3889429448&4294967295,w=E+(I<<20&4294967295|I>>>12),I=k+(E^T&(w^E))+_[9]+568446438&4294967295,k=w+(I<<5&4294967295|I>>>27),I=T+(w^E&(k^w))+_[14]+3275163606&4294967295,T=k+(I<<9&4294967295|I>>>23),I=E+(k^w&(T^k))+_[3]+4107603335&4294967295,E=T+(I<<14&4294967295|I>>>18),I=w+(T^k&(E^T))+_[8]+1163531501&4294967295,w=E+(I<<20&4294967295|I>>>12),I=k+(E^T&(w^E))+_[13]+2850285829&4294967295,k=w+(I<<5&4294967295|I>>>27),I=T+(w^E&(k^w))+_[2]+4243563512&4294967295,T=k+(I<<9&4294967295|I>>>23),I=E+(k^w&(T^k))+_[7]+1735328473&4294967295,E=T+(I<<14&4294967295|I>>>18),I=w+(T^k&(E^T))+_[12]+2368359562&4294967295,w=E+(I<<20&4294967295|I>>>12),I=k+(w^E^T)+_[5]+4294588738&4294967295,k=w+(I<<4&4294967295|I>>>28),I=T+(k^w^E)+_[8]+2272392833&4294967295,T=k+(I<<11&4294967295|I>>>21),I=E+(T^k^w)+_[11]+1839030562&4294967295,E=T+(I<<16&4294967295|I>>>16),I=w+(E^T^k)+_[14]+4259657740&4294967295,w=E+(I<<23&4294967295|I>>>9),I=k+(w^E^T)+_[1]+2763975236&4294967295,k=w+(I<<4&4294967295|I>>>28),I=T+(k^w^E)+_[4]+1272893353&4294967295,T=k+(I<<11&4294967295|I>>>21),I=E+(T^k^w)+_[7]+4139469664&4294967295,E=T+(I<<16&4294967295|I>>>16),I=w+(E^T^k)+_[10]+3200236656&4294967295,w=E+(I<<23&4294967295|I>>>9),I=k+(w^E^T)+_[13]+681279174&4294967295,k=w+(I<<4&4294967295|I>>>28),I=T+(k^w^E)+_[0]+3936430074&4294967295,T=k+(I<<11&4294967295|I>>>21),I=E+(T^k^w)+_[3]+3572445317&4294967295,E=T+(I<<16&4294967295|I>>>16),I=w+(E^T^k)+_[6]+76029189&4294967295,w=E+(I<<23&4294967295|I>>>9),I=k+(w^E^T)+_[9]+3654602809&4294967295,k=w+(I<<4&4294967295|I>>>28),I=T+(k^w^E)+_[12]+3873151461&4294967295,T=k+(I<<11&4294967295|I>>>21),I=E+(T^k^w)+_[15]+530742520&4294967295,E=T+(I<<16&4294967295|I>>>16),I=w+(E^T^k)+_[2]+3299628645&4294967295,w=E+(I<<23&4294967295|I>>>9),I=k+(E^(w|~T))+_[0]+4096336452&4294967295,k=w+(I<<6&4294967295|I>>>26),I=T+(w^(k|~E))+_[7]+1126891415&4294967295,T=k+(I<<10&4294967295|I>>>22),I=E+(k^(T|~w))+_[14]+2878612391&4294967295,E=T+(I<<15&4294967295|I>>>17),I=w+(T^(E|~k))+_[5]+4237533241&4294967295,w=E+(I<<21&4294967295|I>>>11),I=k+(E^(w|~T))+_[12]+1700485571&4294967295,k=w+(I<<6&4294967295|I>>>26),I=T+(w^(k|~E))+_[3]+2399980690&4294967295,T=k+(I<<10&4294967295|I>>>22),I=E+(k^(T|~w))+_[10]+4293915773&4294967295,E=T+(I<<15&4294967295|I>>>17),I=w+(T^(E|~k))+_[1]+2240044497&4294967295,w=E+(I<<21&4294967295|I>>>11),I=k+(E^(w|~T))+_[8]+1873313359&4294967295,k=w+(I<<6&4294967295|I>>>26),I=T+(w^(k|~E))+_[15]+4264355552&4294967295,T=k+(I<<10&4294967295|I>>>22),I=E+(k^(T|~w))+_[6]+2734768916&4294967295,E=T+(I<<15&4294967295|I>>>17),I=w+(T^(E|~k))+_[13]+1309151649&4294967295,w=E+(I<<21&4294967295|I>>>11),I=k+(E^(w|~T))+_[4]+4149444226&4294967295,k=w+(I<<6&4294967295|I>>>26),I=T+(w^(k|~E))+_[11]+3174756917&4294967295,T=k+(I<<10&4294967295|I>>>22),I=E+(k^(T|~w))+_[2]+718787259&4294967295,E=T+(I<<15&4294967295|I>>>17),I=w+(T^(E|~k))+_[9]+3951481745&4294967295,C.g[0]=C.g[0]+k&4294967295,C.g[1]=C.g[1]+(E+(I<<21&4294967295|I>>>11))&4294967295,C.g[2]=C.g[2]+E&4294967295,C.g[3]=C.g[3]+T&4294967295}r.prototype.u=function(C,k){k===void 0&&(k=C.length);for(var w=k-this.blockSize,_=this.B,E=this.h,T=0;T<k;){if(E==0)for(;T<=w;)i(this,C,T),T+=this.blockSize;if(typeof C=="string"){for(;T<k;)if(_[E++]=C.charCodeAt(T++),E==this.blockSize){i(this,_),E=0;break}}else for(;T<k;)if(_[E++]=C[T++],E==this.blockSize){i(this,_),E=0;break}}this.h=E,this.o+=k},r.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var k=1;k<C.length-8;++k)C[k]=0;var w=8*this.o;for(k=C.length-8;k<C.length;++k)C[k]=w&255,w/=256;for(this.u(C),C=Array(16),k=w=0;4>k;++k)for(var _=0;32>_;_+=8)C[w++]=this.g[k]>>>_&255;return C};function o(C,k){var w=a;return Object.prototype.hasOwnProperty.call(w,C)?w[C]:w[C]=k(C)}function s(C,k){this.h=k;for(var w=[],_=!0,E=C.length-1;0<=E;E--){var T=C[E]|0;_&&T==k||(w[E]=T,_=!1)}this.g=w}var a={};function c(C){return-128<=C&&128>C?o(C,function(k){return new s([k|0],0>k?-1:0)}):new s([C|0],0>C?-1:0)}function u(C){if(isNaN(C)||!isFinite(C))return f;if(0>C)return D(u(-C));for(var k=[],w=1,_=0;C>=w;_++)k[_]=C/w|0,w*=4294967296;return new s(k,0)}function h(C,k){if(C.length==0)throw Error("number format error: empty string");if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(C.charAt(0)=="-")return D(h(C.substring(1),k));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=u(Math.pow(k,8)),_=f,E=0;E<C.length;E+=8){var T=Math.min(8,C.length-E),I=parseInt(C.substring(E,E+T),k);8>T?(T=u(Math.pow(k,T)),_=_.j(T).add(u(I))):(_=_.j(w),_=_.add(u(I)))}return _}var f=c(0),m=c(1),y=c(16777216);n=s.prototype,n.m=function(){if(L(this))return-D(this).m();for(var C=0,k=1,w=0;w<this.g.length;w++){var _=this.i(w);C+=(0<=_?_:4294967296+_)*k,k*=4294967296}return C},n.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(M(this))return"0";if(L(this))return"-"+D(this).toString(C);for(var k=u(Math.pow(C,6)),w=this,_="";;){var E=ee(w,k).g;w=x(w,E.j(k));var T=((0<w.g.length?w.g[0]:w.h)>>>0).toString(C);if(w=E,M(w))return T+_;for(;6>T.length;)T="0"+T;_=T+_}},n.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function M(C){if(C.h!=0)return!1;for(var k=0;k<C.g.length;k++)if(C.g[k]!=0)return!1;return!0}function L(C){return C.h==-1}n.l=function(C){return C=x(this,C),L(C)?-1:M(C)?0:1};function D(C){for(var k=C.g.length,w=[],_=0;_<k;_++)w[_]=~C.g[_];return new s(w,~C.h).add(m)}n.abs=function(){return L(this)?D(this):this},n.add=function(C){for(var k=Math.max(this.g.length,C.g.length),w=[],_=0,E=0;E<=k;E++){var T=_+(this.i(E)&65535)+(C.i(E)&65535),I=(T>>>16)+(this.i(E)>>>16)+(C.i(E)>>>16);_=I>>>16,T&=65535,I&=65535,w[E]=I<<16|T}return new s(w,w[w.length-1]&-2147483648?-1:0)};function x(C,k){return C.add(D(k))}n.j=function(C){if(M(this)||M(C))return f;if(L(this))return L(C)?D(this).j(D(C)):D(D(this).j(C));if(L(C))return D(this.j(D(C)));if(0>this.l(y)&&0>C.l(y))return u(this.m()*C.m());for(var k=this.g.length+C.g.length,w=[],_=0;_<2*k;_++)w[_]=0;for(_=0;_<this.g.length;_++)for(var E=0;E<C.g.length;E++){var T=this.i(_)>>>16,I=this.i(_)&65535,Yr=C.i(E)>>>16,il=C.i(E)&65535;w[2*_+2*E]+=I*il,N(w,2*_+2*E),w[2*_+2*E+1]+=T*il,N(w,2*_+2*E+1),w[2*_+2*E+1]+=I*Yr,N(w,2*_+2*E+1),w[2*_+2*E+2]+=T*Yr,N(w,2*_+2*E+2)}for(_=0;_<k;_++)w[_]=w[2*_+1]<<16|w[2*_];for(_=k;_<2*k;_++)w[_]=0;return new s(w,0)};function N(C,k){for(;(C[k]&65535)!=C[k];)C[k+1]+=C[k]>>>16,C[k]&=65535,k++}function $(C,k){this.g=C,this.h=k}function ee(C,k){if(M(k))throw Error("division by zero");if(M(C))return new $(f,f);if(L(C))return k=ee(D(C),k),new $(D(k.g),D(k.h));if(L(k))return k=ee(C,D(k)),new $(D(k.g),k.h);if(30<C.g.length){if(L(C)||L(k))throw Error("slowDivide_ only works with positive integers.");for(var w=m,_=k;0>=_.l(C);)w=Te(w),_=Te(_);var E=se(w,1),T=se(_,1);for(_=se(_,2),w=se(w,2);!M(_);){var I=T.add(_);0>=I.l(C)&&(E=E.add(w),T=I),_=se(_,1),w=se(w,1)}return k=x(C,E.j(k)),new $(E,k)}for(E=f;0<=C.l(k);){for(w=Math.max(1,Math.floor(C.m()/k.m())),_=Math.ceil(Math.log(w)/Math.LN2),_=48>=_?1:Math.pow(2,_-48),T=u(w),I=T.j(k);L(I)||0<I.l(C);)w-=_,T=u(w),I=T.j(k);M(T)&&(T=m),E=E.add(T),C=x(C,I)}return new $(E,C)}n.A=function(C){return ee(this,C).h},n.and=function(C){for(var k=Math.max(this.g.length,C.g.length),w=[],_=0;_<k;_++)w[_]=this.i(_)&C.i(_);return new s(w,this.h&C.h)},n.or=function(C){for(var k=Math.max(this.g.length,C.g.length),w=[],_=0;_<k;_++)w[_]=this.i(_)|C.i(_);return new s(w,this.h|C.h)},n.xor=function(C){for(var k=Math.max(this.g.length,C.g.length),w=[],_=0;_<k;_++)w[_]=this.i(_)^C.i(_);return new s(w,this.h^C.h)};function Te(C){for(var k=C.g.length+1,w=[],_=0;_<k;_++)w[_]=C.i(_)<<1|C.i(_-1)>>>31;return new s(w,C.h)}function se(C,k){var w=k>>5;k%=32;for(var _=C.g.length-w,E=[],T=0;T<_;T++)E[T]=0<k?C.i(T+w)>>>k|C.i(T+w+1)<<32-k:C.i(T+w);return new s(E,C.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,P4=bS.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=h,bi=bS.Integer=s}).apply(typeof CS<"u"?CS:typeof self<"u"?self:typeof window<"u"?window:{});var Kf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ei={};var N4,gz,xc,O4,md,Zf,F4,V4,j4;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,d,p){return l==Array.prototype||l==Object.prototype||(l[d]=p.value),l};function t(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Kf=="object"&&Kf];for(var d=0;d<l.length;++d){var p=l[d];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var r=t(this);function i(l,d){if(d)e:{var p=r;l=l.split(".");for(var g=0;g<l.length-1;g++){var S=l[g];if(!(S in p))break e;p=p[S]}l=l[l.length-1],g=p[l],d=d(g),d!=g&&d!=null&&e(p,l,{configurable:!0,writable:!0,value:d})}}function o(l,d){l instanceof String&&(l+="");var p=0,g=!1,S={next:function(){if(!g&&p<l.length){var A=p++;return{value:d(A,l[A]),done:!1}}return g=!0,{done:!0,value:void 0}}};return S[Symbol.iterator]=function(){return S},S}i("Array.prototype.values",function(l){return l||function(){return o(this,function(d,p){return p})}});var s=s||{},a=this||self;function c(l){var d=typeof l;return d=d!="object"?d:l?Array.isArray(l)?"array":d:"null",d=="array"||d=="object"&&typeof l.length=="number"}function u(l){var d=typeof l;return d=="object"&&l!=null||d=="function"}function h(l,d,p){return l.call.apply(l.bind,arguments)}function f(l,d,p){if(!l)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var S=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(S,g),l.apply(d,S)}}return function(){return l.apply(d,arguments)}}function m(l,d,p){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:f,m.apply(null,arguments)}function y(l,d){var p=Array.prototype.slice.call(arguments,1);return function(){var g=p.slice();return g.push.apply(g,arguments),l.apply(this,g)}}function M(l,d){function p(){}p.prototype=d.prototype,l.aa=d.prototype,l.prototype=new p,l.prototype.constructor=l,l.Qb=function(g,S,A){for(var B=Array(arguments.length-2),Oe=2;Oe<arguments.length;Oe++)B[Oe-2]=arguments[Oe];return d.prototype[S].apply(g,B)}}function L(l){let d=l.length;if(0<d){let p=Array(d);for(let g=0;g<d;g++)p[g]=l[g];return p}return[]}function D(l,d){for(let p=1;p<arguments.length;p++){let g=arguments[p];if(c(g)){let S=l.length||0,A=g.length||0;l.length=S+A;for(let B=0;B<A;B++)l[S+B]=g[B]}else l.push(g)}}class x{constructor(d,p){this.i=d,this.j=p,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function N(l){return/^[\s\xa0]*$/.test(l)}function $(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function ee(l){return ee[" "](l),l}ee[" "]=function(){};var Te=$().indexOf("Gecko")!=-1&&!($().toLowerCase().indexOf("webkit")!=-1&&$().indexOf("Edge")==-1)&&!($().indexOf("Trident")!=-1||$().indexOf("MSIE")!=-1)&&$().indexOf("Edge")==-1;function se(l,d,p){for(let g in l)d.call(p,l[g],g,l)}function C(l,d){for(let p in l)d.call(void 0,l[p],p,l)}function k(l){let d={};for(let p in l)d[p]=l[p];return d}let w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function _(l,d){let p,g;for(let S=1;S<arguments.length;S++){g=arguments[S];for(p in g)l[p]=g[p];for(let A=0;A<w.length;A++)p=w[A],Object.prototype.hasOwnProperty.call(g,p)&&(l[p]=g[p])}}function E(l){var d=1;l=l.split(":");let p=[];for(;0<d&&l.length;)p.push(l.shift()),d--;return l.length&&p.push(l.join(":")),p}function T(l){a.setTimeout(()=>{throw l},0)}function I(){var l=d2;let d=null;return l.g&&(d=l.g,l.g=l.g.next,l.g||(l.h=null),d.next=null),d}class Yr{constructor(){this.h=this.g=null}add(d,p){let g=il.get();g.set(d,p),this.h?this.h.next=g:this.g=g,this.h=g}}var il=new x(()=>new Gx,l=>l.reset());class Gx{constructor(){this.next=this.g=this.h=null}set(d,p){this.h=d,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let ol,sl=!1,d2=new Yr,cM=()=>{let l=a.Promise.resolve(void 0);ol=()=>{l.then(Wx)}};var Wx=()=>{for(var l;l=I();){try{l.h.call(l.g)}catch(p){T(p)}var d=il;d.j(l),100>d.h&&(d.h++,l.next=d.g,d.g=l)}sl=!1};function Li(){this.s=this.s,this.C=this.C}Li.prototype.s=!1,Li.prototype.ma=function(){this.s||(this.s=!0,this.N())},Li.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ht(l,d){this.type=l,this.g=this.target=d,this.defaultPrevented=!1}Ht.prototype.h=function(){this.defaultPrevented=!0};var Kx=(function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,d=Object.defineProperty({},"passive",{get:function(){l=!0}});try{let p=()=>{};a.addEventListener("test",p,d),a.removeEventListener("test",p,d)}catch{}return l})();function al(l,d){if(Ht.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var p=this.type=l.type,g=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=d,d=l.relatedTarget){if(Te){e:{try{ee(d.nodeName);var S=!0;break e}catch{}S=!1}S||(d=null)}}else p=="mouseover"?d=l.fromElement:p=="mouseout"&&(d=l.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:Zx[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&al.aa.h.call(this)}}M(al,Ht);var Zx={2:"touch",3:"pen",4:"mouse"};al.prototype.h=function(){al.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var cl="closure_listenable_"+(1e6*Math.random()|0),Qx=0;function Xx(l,d,p,g,S){this.listener=l,this.proxy=null,this.src=d,this.type=p,this.capture=!!g,this.ha=S,this.key=++Qx,this.da=this.fa=!1}function $d(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function Gd(l){this.src=l,this.g={},this.h=0}Gd.prototype.add=function(l,d,p,g,S){var A=l.toString();l=this.g[A],l||(l=this.g[A]=[],this.h++);var B=p2(l,d,g,S);return-1<B?(d=l[B],p||(d.fa=!1)):(d=new Xx(d,this.src,A,!!g,S),d.fa=p,l.push(d)),d};function h2(l,d){var p=d.type;if(p in l.g){var g=l.g[p],S=Array.prototype.indexOf.call(g,d,void 0),A;(A=0<=S)&&Array.prototype.splice.call(g,S,1),A&&($d(d),l.g[p].length==0&&(delete l.g[p],l.h--))}}function p2(l,d,p,g){for(var S=0;S<l.length;++S){var A=l[S];if(!A.da&&A.listener==d&&A.capture==!!p&&A.ha==g)return S}return-1}var f2="closure_lm_"+(1e6*Math.random()|0),m2={};function lM(l,d,p,g,S){if(g&&g.once)return dM(l,d,p,g,S);if(Array.isArray(d)){for(var A=0;A<d.length;A++)lM(l,d[A],p,g,S);return null}return p=k2(p),l&&l[cl]?l.K(d,p,u(g)?!!g.capture:!!g,S):uM(l,d,p,!1,g,S)}function uM(l,d,p,g,S,A){if(!d)throw Error("Invalid event type");var B=u(S)?!!S.capture:!!S,Oe=y2(l);if(Oe||(l[f2]=Oe=new Gd(l)),p=Oe.add(d,p,g,B,A),p.proxy)return p;if(g=Yx(),p.proxy=g,g.src=l,g.listener=p,l.addEventListener)Kx||(S=B),S===void 0&&(S=!1),l.addEventListener(d.toString(),g,S);else if(l.attachEvent)l.attachEvent(pM(d.toString()),g);else if(l.addListener&&l.removeListener)l.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return p}function Yx(){function l(p){return d.call(l.src,l.listener,p)}let d=Jx;return l}function dM(l,d,p,g,S){if(Array.isArray(d)){for(var A=0;A<d.length;A++)dM(l,d[A],p,g,S);return null}return p=k2(p),l&&l[cl]?l.L(d,p,u(g)?!!g.capture:!!g,S):uM(l,d,p,!0,g,S)}function hM(l,d,p,g,S){if(Array.isArray(d))for(var A=0;A<d.length;A++)hM(l,d[A],p,g,S);else g=u(g)?!!g.capture:!!g,p=k2(p),l&&l[cl]?(l=l.i,d=String(d).toString(),d in l.g&&(A=l.g[d],p=p2(A,p,g,S),-1<p&&($d(A[p]),Array.prototype.splice.call(A,p,1),A.length==0&&(delete l.g[d],l.h--)))):l&&(l=y2(l))&&(d=l.g[d.toString()],l=-1,d&&(l=p2(d,p,g,S)),(p=-1<l?d[l]:null)&&g2(p))}function g2(l){if(typeof l!="number"&&l&&!l.da){var d=l.src;if(d&&d[cl])h2(d.i,l);else{var p=l.type,g=l.proxy;d.removeEventListener?d.removeEventListener(p,g,l.capture):d.detachEvent?d.detachEvent(pM(p),g):d.addListener&&d.removeListener&&d.removeListener(g),(p=y2(d))?(h2(p,l),p.h==0&&(p.src=null,d[f2]=null)):$d(l)}}}function pM(l){return l in m2?m2[l]:m2[l]="on"+l}function Jx(l,d){if(l.da)l=!0;else{d=new al(d,this);var p=l.listener,g=l.ha||l.src;l.fa&&g2(l),l=p.call(g,d)}return l}function y2(l){return l=l[f2],l instanceof Gd?l:null}var v2="__closure_events_fn_"+(1e9*Math.random()>>>0);function k2(l){return typeof l=="function"?l:(l[v2]||(l[v2]=function(d){return l.handleEvent(d)}),l[v2])}function zt(){Li.call(this),this.i=new Gd(this),this.M=this,this.F=null}M(zt,Li),zt.prototype[cl]=!0,zt.prototype.removeEventListener=function(l,d,p,g){hM(this,l,d,p,g)};function rn(l,d){var p,g=l.F;if(g)for(p=[];g;g=g.F)p.push(g);if(l=l.M,g=d.type||d,typeof d=="string")d=new Ht(d,l);else if(d instanceof Ht)d.target=d.target||l;else{var S=d;d=new Ht(g,l),_(d,S)}if(S=!0,p)for(var A=p.length-1;0<=A;A--){var B=d.g=p[A];S=Wd(B,g,!0,d)&&S}if(B=d.g=l,S=Wd(B,g,!0,d)&&S,S=Wd(B,g,!1,d)&&S,p)for(A=0;A<p.length;A++)B=d.g=p[A],S=Wd(B,g,!1,d)&&S}zt.prototype.N=function(){if(zt.aa.N.call(this),this.i){var l=this.i,d;for(d in l.g){for(var p=l.g[d],g=0;g<p.length;g++)$d(p[g]);delete l.g[d],l.h--}}this.F=null},zt.prototype.K=function(l,d,p,g){return this.i.add(String(l),d,!1,p,g)},zt.prototype.L=function(l,d,p,g){return this.i.add(String(l),d,!0,p,g)};function Wd(l,d,p,g){if(d=l.i.g[String(d)],!d)return!0;d=d.concat();for(var S=!0,A=0;A<d.length;++A){var B=d[A];if(B&&!B.da&&B.capture==p){var Oe=B.listener,Nt=B.ha||B.src;B.fa&&h2(l.i,B),S=Oe.call(Nt,g)!==!1&&S}}return S&&!g.defaultPrevented}function fM(l,d,p){if(typeof l=="function")p&&(l=m(l,p));else if(l&&typeof l.handleEvent=="function")l=m(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(l,d||0)}function mM(l){l.g=fM(()=>{l.g=null,l.i&&(l.i=!1,mM(l))},l.l);let d=l.h;l.h=null,l.m.apply(null,d)}class eA extends Li{constructor(d,p){super(),this.m=d,this.l=p,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:mM(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ll(l){Li.call(this),this.h=l,this.g={}}M(ll,Li);var gM=[];function yM(l){se(l.g,function(d,p){this.g.hasOwnProperty(p)&&g2(d)},l),l.g={}}ll.prototype.N=function(){ll.aa.N.call(this),yM(this)},ll.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var w2=a.JSON.stringify,tA=a.JSON.parse,nA=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function I2(){}I2.prototype.h=null;function vM(l){return l.h||(l.h=l.i())}function kM(){}var ul={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function M2(){Ht.call(this,"d")}M(M2,Ht);function _2(){Ht.call(this,"c")}M(_2,Ht);var No={},wM=null;function Kd(){return wM=wM||new zt}No.La="serverreachability";function IM(l){Ht.call(this,No.La,l)}M(IM,Ht);function dl(l){let d=Kd();rn(d,new IM(d))}No.STAT_EVENT="statevent";function MM(l,d){Ht.call(this,No.STAT_EVENT,l),this.stat=d}M(MM,Ht);function on(l){let d=Kd();rn(d,new MM(d,l))}No.Ma="timingevent";function _M(l,d){Ht.call(this,No.Ma,l),this.size=d}M(_M,Ht);function hl(l,d){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},d)}function pl(){this.g=!0}pl.prototype.xa=function(){this.g=!1};function rA(l,d,p,g,S,A){l.info(function(){if(l.g)if(A)for(var B="",Oe=A.split("&"),Nt=0;Nt<Oe.length;Nt++){var Ee=Oe[Nt].split("=");if(1<Ee.length){var Ut=Ee[0];Ee=Ee[1];var $t=Ut.split("_");B=2<=$t.length&&$t[1]=="type"?B+(Ut+"="+Ee+"&"):B+(Ut+"=redacted&")}}else B=null;else B=A;return"XMLHTTP REQ ("+g+") [attempt "+S+"]: "+d+`
`+p+`
`+B})}function iA(l,d,p,g,S,A,B){l.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+S+"]: "+d+`
`+p+`
`+A+" "+B})}function na(l,d,p,g){l.info(function(){return"XMLHTTP TEXT ("+d+"): "+sA(l,p)+(g?" "+g:"")})}function oA(l,d){l.info(function(){return"TIMEOUT: "+d})}pl.prototype.info=function(){};function sA(l,d){if(!l.g)return d;if(!d)return null;try{var p=JSON.parse(d);if(p){for(l=0;l<p.length;l++)if(Array.isArray(p[l])){var g=p[l];if(!(2>g.length)){var S=g[1];if(Array.isArray(S)&&!(1>S.length)){var A=S[0];if(A!="noop"&&A!="stop"&&A!="close")for(var B=1;B<S.length;B++)S[B]=""}}}}return w2(p)}catch{return d}}var Zd={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},CM={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},C2;function Qd(){}M(Qd,I2),Qd.prototype.g=function(){return new XMLHttpRequest},Qd.prototype.i=function(){return{}},C2=new Qd;function Ri(l,d,p,g){this.j=l,this.i=d,this.l=p,this.R=g||1,this.U=new ll(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new bM}function bM(){this.i=null,this.g="",this.h=!1}var EM={},b2={};function E2(l,d,p){l.L=1,l.v=eh(Jr(d)),l.m=p,l.P=!0,SM(l,null)}function SM(l,d){l.F=Date.now(),Xd(l),l.A=Jr(l.v);var p=l.A,g=l.R;Array.isArray(g)||(g=[String(g)]),qM(p.i,"t",g),l.C=0,p=l.j.J,l.h=new bM,l.g=o5(l.j,p?d:null,!l.m),0<l.O&&(l.M=new eA(m(l.Y,l,l.g),l.O)),d=l.U,p=l.g,g=l.ca;var S="readystatechange";Array.isArray(S)||(S&&(gM[0]=S.toString()),S=gM);for(var A=0;A<S.length;A++){var B=lM(p,S[A],g||d.handleEvent,!1,d.h||d);if(!B)break;d.g[B.key]=B}d=l.H?k(l.H):{},l.m?(l.u||(l.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,d)):(l.u="GET",l.g.ea(l.A,l.u,null,d)),dl(),rA(l.i,l.u,l.A,l.l,l.R,l.m)}Ri.prototype.ca=function(l){l=l.target;let d=this.M;d&&ei(l)==3?d.j():this.Y(l)},Ri.prototype.Y=function(l){try{if(l==this.g)e:{let $t=ei(this.g);var d=this.g.Ba();let oa=this.g.Z();if(!(3>$t)&&($t!=3||this.g&&(this.h.h||this.g.oa()||KM(this.g)))){this.J||$t!=4||d==7||(d==8||0>=oa?dl(3):dl(2)),S2(this);var p=this.g.Z();this.X=p;t:if(TM(this)){var g=KM(this.g);l="";var S=g.length,A=ei(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Oo(this),fl(this);var B="";break t}this.h.i=new a.TextDecoder}for(d=0;d<S;d++)this.h.h=!0,l+=this.h.i.decode(g[d],{stream:!(A&&d==S-1)});g.length=0,this.h.g+=l,this.C=0,B=this.h.g}else B=this.g.oa();if(this.o=p==200,iA(this.i,this.u,this.A,this.l,this.R,$t,p),this.o){if(this.T&&!this.K){t:{if(this.g){var Oe,Nt=this.g;if((Oe=Nt.g?Nt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(Oe)){var Ee=Oe;break t}}Ee=null}if(p=Ee)na(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,T2(this,p);else{this.o=!1,this.s=3,on(12),Oo(this),fl(this);break e}}if(this.P){p=!0;let $n;for(;!this.J&&this.C<B.length;)if($n=aA(this,B),$n==b2){$t==4&&(this.s=4,on(14),p=!1),na(this.i,this.l,null,"[Incomplete Response]");break}else if($n==EM){this.s=4,on(15),na(this.i,this.l,B,"[Invalid Chunk]"),p=!1;break}else na(this.i,this.l,$n,null),T2(this,$n);if(TM(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),$t!=4||B.length!=0||this.h.h||(this.s=1,on(16),p=!1),this.o=this.o&&p,!p)na(this.i,this.l,B,"[Invalid Chunked Response]"),Oo(this),fl(this);else if(0<B.length&&!this.W){this.W=!0;var Ut=this.j;Ut.g==this&&Ut.ba&&!Ut.M&&(Ut.j.info("Great, no buffering proxy detected. Bytes received: "+B.length),P2(Ut),Ut.M=!0,on(11))}}else na(this.i,this.l,B,null),T2(this,B);$t==4&&Oo(this),this.o&&!this.J&&($t==4?t5(this.j,this):(this.o=!1,Xd(this)))}else CA(this.g),p==400&&0<B.indexOf("Unknown SID")?(this.s=3,on(12)):(this.s=0,on(13)),Oo(this),fl(this)}}}catch{}finally{}};function TM(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function aA(l,d){var p=l.C,g=d.indexOf(`
`,p);return g==-1?b2:(p=Number(d.substring(p,g)),isNaN(p)?EM:(g+=1,g+p>d.length?b2:(d=d.slice(g,g+p),l.C=g+p,d)))}Ri.prototype.cancel=function(){this.J=!0,Oo(this)};function Xd(l){l.S=Date.now()+l.I,DM(l,l.I)}function DM(l,d){if(l.B!=null)throw Error("WatchDog timer not null");l.B=hl(m(l.ba,l),d)}function S2(l){l.B&&(a.clearTimeout(l.B),l.B=null)}Ri.prototype.ba=function(){this.B=null;let l=Date.now();0<=l-this.S?(oA(this.i,this.A),this.L!=2&&(dl(),on(17)),Oo(this),this.s=2,fl(this)):DM(this,this.S-l)};function fl(l){l.j.G==0||l.J||t5(l.j,l)}function Oo(l){S2(l);var d=l.M;d&&typeof d.ma=="function"&&d.ma(),l.M=null,yM(l.U),l.g&&(d=l.g,l.g=null,d.abort(),d.ma())}function T2(l,d){try{var p=l.j;if(p.G!=0&&(p.g==l||D2(p.h,l))){if(!l.K&&D2(p.h,l)&&p.G==3){try{var g=p.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var S=g;if(S[0]==0){e:if(!p.u){if(p.g)if(p.g.F+3e3<l.F)oh(p),rh(p);else break e;R2(p),on(18)}}else p.za=S[1],0<p.za-p.T&&37500>S[2]&&p.F&&p.v==0&&!p.C&&(p.C=hl(m(p.Za,p),6e3));if(1>=LM(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else Vo(p,11)}else if((l.K||p.g==l)&&oh(p),!N(d))for(S=p.Da.g.parse(d),d=0;d<S.length;d++){let Ee=S[d];if(p.T=Ee[0],Ee=Ee[1],p.G==2)if(Ee[0]=="c"){p.K=Ee[1],p.ia=Ee[2];let Ut=Ee[3];Ut!=null&&(p.la=Ut,p.j.info("VER="+p.la));let $t=Ee[4];$t!=null&&(p.Aa=$t,p.j.info("SVER="+p.Aa));let oa=Ee[5];oa!=null&&typeof oa=="number"&&0<oa&&(g=1.5*oa,p.L=g,p.j.info("backChannelRequestTimeoutMs_="+g)),g=p;let $n=l.g;if($n){let ah=$n.g?$n.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ah){var A=g.h;A.g||ah.indexOf("spdy")==-1&&ah.indexOf("quic")==-1&&ah.indexOf("h2")==-1||(A.j=A.l,A.g=new Set,A.h&&(x2(A,A.h),A.h=null))}if(g.D){let N2=$n.g?$n.g.getResponseHeader("X-HTTP-Session-Id"):null;N2&&(g.ya=N2,ze(g.I,g.D,N2))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-l.F,p.j.info("Handshake RTT: "+p.R+"ms")),g=p;var B=l;if(g.qa=i5(g,g.J?g.ia:null,g.W),B.K){RM(g.h,B);var Oe=B,Nt=g.L;Nt&&(Oe.I=Nt),Oe.B&&(S2(Oe),Xd(Oe)),g.g=B}else JM(g);0<p.i.length&&ih(p)}else Ee[0]!="stop"&&Ee[0]!="close"||Vo(p,7);else p.G==3&&(Ee[0]=="stop"||Ee[0]=="close"?Ee[0]=="stop"?Vo(p,7):L2(p):Ee[0]!="noop"&&p.l&&p.l.ta(Ee),p.v=0)}}dl(4)}catch{}}var cA=class{constructor(l,d){this.g=l,this.map=d}};function xM(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function AM(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function LM(l){return l.h?1:l.g?l.g.size:0}function D2(l,d){return l.h?l.h==d:l.g?l.g.has(d):!1}function x2(l,d){l.g?l.g.add(d):l.h=d}function RM(l,d){l.h&&l.h==d?l.h=null:l.g&&l.g.has(d)&&l.g.delete(d)}xM.prototype.cancel=function(){if(this.i=PM(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let l of this.g.values())l.cancel();this.g.clear()}};function PM(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let d=l.i;for(let p of l.g.values())d=d.concat(p.D);return d}return L(l.i)}function lA(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(c(l)){for(var d=[],p=l.length,g=0;g<p;g++)d.push(l[g]);return d}d=[],p=0;for(g in l)d[p++]=l[g];return d}function uA(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(c(l)||typeof l=="string"){var d=[];l=l.length;for(var p=0;p<l;p++)d.push(p);return d}d=[],p=0;for(let g in l)d[p++]=g;return d}}}function NM(l,d){if(l.forEach&&typeof l.forEach=="function")l.forEach(d,void 0);else if(c(l)||typeof l=="string")Array.prototype.forEach.call(l,d,void 0);else for(var p=uA(l),g=lA(l),S=g.length,A=0;A<S;A++)d.call(void 0,g[A],p&&p[A],l)}var OM=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function dA(l,d){if(l){l=l.split("&");for(var p=0;p<l.length;p++){var g=l[p].indexOf("="),S=null;if(0<=g){var A=l[p].substring(0,g);S=l[p].substring(g+1)}else A=l[p];d(A,S?decodeURIComponent(S.replace(/\+/g," ")):"")}}}function Fo(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof Fo){this.h=l.h,Yd(this,l.j),this.o=l.o,this.g=l.g,Jd(this,l.s),this.l=l.l;var d=l.i,p=new yl;p.i=d.i,d.g&&(p.g=new Map(d.g),p.h=d.h),FM(this,p),this.m=l.m}else l&&(d=String(l).match(OM))?(this.h=!1,Yd(this,d[1]||"",!0),this.o=ml(d[2]||""),this.g=ml(d[3]||"",!0),Jd(this,d[4]),this.l=ml(d[5]||"",!0),FM(this,d[6]||"",!0),this.m=ml(d[7]||"")):(this.h=!1,this.i=new yl(null,this.h))}Fo.prototype.toString=function(){var l=[],d=this.j;d&&l.push(gl(d,VM,!0),":");var p=this.g;return(p||d=="file")&&(l.push("//"),(d=this.o)&&l.push(gl(d,VM,!0),"@"),l.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&l.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&l.push("/"),l.push(gl(p,p.charAt(0)=="/"?fA:pA,!0))),(p=this.i.toString())&&l.push("?",p),(p=this.m)&&l.push("#",gl(p,gA)),l.join("")};function Jr(l){return new Fo(l)}function Yd(l,d,p){l.j=p?ml(d,!0):d,l.j&&(l.j=l.j.replace(/:$/,""))}function Jd(l,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);l.s=d}else l.s=null}function FM(l,d,p){d instanceof yl?(l.i=d,yA(l.i,l.h)):(p||(d=gl(d,mA)),l.i=new yl(d,l.h))}function ze(l,d,p){l.i.set(d,p)}function eh(l){return ze(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function ml(l,d){return l?d?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function gl(l,d,p){return typeof l=="string"?(l=encodeURI(l).replace(d,hA),p&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function hA(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var VM=/[#\/\?@]/g,pA=/[#\?:]/g,fA=/[#\?]/g,mA=/[#\?@]/g,gA=/#/g;function yl(l,d){this.h=this.g=null,this.i=l||null,this.j=!!d}function Pi(l){l.g||(l.g=new Map,l.h=0,l.i&&dA(l.i,function(d,p){l.add(decodeURIComponent(d.replace(/\+/g," ")),p)}))}n=yl.prototype,n.add=function(l,d){Pi(this),this.i=null,l=ra(this,l);var p=this.g.get(l);return p||this.g.set(l,p=[]),p.push(d),this.h+=1,this};function jM(l,d){Pi(l),d=ra(l,d),l.g.has(d)&&(l.i=null,l.h-=l.g.get(d).length,l.g.delete(d))}function BM(l,d){return Pi(l),d=ra(l,d),l.g.has(d)}n.forEach=function(l,d){Pi(this),this.g.forEach(function(p,g){p.forEach(function(S){l.call(d,S,g,this)},this)},this)},n.na=function(){Pi(this);let l=Array.from(this.g.values()),d=Array.from(this.g.keys()),p=[];for(let g=0;g<d.length;g++){let S=l[g];for(let A=0;A<S.length;A++)p.push(d[g])}return p},n.V=function(l){Pi(this);let d=[];if(typeof l=="string")BM(this,l)&&(d=d.concat(this.g.get(ra(this,l))));else{l=Array.from(this.g.values());for(let p=0;p<l.length;p++)d=d.concat(l[p])}return d},n.set=function(l,d){return Pi(this),this.i=null,l=ra(this,l),BM(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[d]),this.h+=1,this},n.get=function(l,d){return l?(l=this.V(l),0<l.length?String(l[0]):d):d};function qM(l,d,p){jM(l,d),0<p.length&&(l.i=null,l.g.set(ra(l,d),L(p)),l.h+=p.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let l=[],d=Array.from(this.g.keys());for(var p=0;p<d.length;p++){var g=d[p];let A=encodeURIComponent(String(g)),B=this.V(g);for(g=0;g<B.length;g++){var S=A;B[g]!==""&&(S+="="+encodeURIComponent(String(B[g]))),l.push(S)}}return this.i=l.join("&")};function ra(l,d){return d=String(d),l.j&&(d=d.toLowerCase()),d}function yA(l,d){d&&!l.j&&(Pi(l),l.i=null,l.g.forEach(function(p,g){var S=g.toLowerCase();g!=S&&(jM(this,g),qM(this,S,p))},l)),l.j=d}function vA(l,d){let p=new pl;if(a.Image){let g=new Image;g.onload=y(Ni,p,"TestLoadImage: loaded",!0,d,g),g.onerror=y(Ni,p,"TestLoadImage: error",!1,d,g),g.onabort=y(Ni,p,"TestLoadImage: abort",!1,d,g),g.ontimeout=y(Ni,p,"TestLoadImage: timeout",!1,d,g),a.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=l}else d(!1)}function kA(l,d){let p=new pl,g=new AbortController,S=setTimeout(()=>{g.abort(),Ni(p,"TestPingServer: timeout",!1,d)},1e4);fetch(l,{signal:g.signal}).then(A=>{clearTimeout(S),A.ok?Ni(p,"TestPingServer: ok",!0,d):Ni(p,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(S),Ni(p,"TestPingServer: error",!1,d)})}function Ni(l,d,p,g,S){try{S&&(S.onload=null,S.onerror=null,S.onabort=null,S.ontimeout=null),g(p)}catch{}}function wA(){this.g=new nA}function IA(l,d,p){let g=p||"";try{NM(l,function(S,A){let B=S;u(S)&&(B=w2(S)),d.push(g+A+"="+encodeURIComponent(B))})}catch(S){throw d.push(g+"type="+encodeURIComponent("_badmap")),S}}function vl(l){this.l=l.Ub||null,this.j=l.eb||!1}M(vl,I2),vl.prototype.g=function(){return new th(this.l,this.j)},vl.prototype.i=(function(l){return function(){return l}})({});function th(l,d){zt.call(this),this.D=l,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}M(th,zt),n=th.prototype,n.open=function(l,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=d,this.readyState=1,wl(this)},n.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(d.body=l),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,kl(this)),this.readyState=0},n.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,wl(this)),this.g&&(this.readyState=3,wl(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;HM(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function HM(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}n.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var d=l.value?l.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!l.done}))&&(this.response=this.responseText+=d)}l.done?kl(this):wl(this),this.readyState==3&&HM(this)}},n.Ra=function(l){this.g&&(this.response=this.responseText=l,kl(this))},n.Qa=function(l){this.g&&(this.response=l,kl(this))},n.ga=function(){this.g&&kl(this)};function kl(l){l.readyState=4,l.l=null,l.j=null,l.v=null,wl(l)}n.setRequestHeader=function(l,d){this.u.append(l,d)},n.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let l=[],d=this.h.entries();for(var p=d.next();!p.done;)p=p.value,l.push(p[0]+": "+p[1]),p=d.next();return l.join(`\r
`)};function wl(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(th.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function zM(l){let d="";return se(l,function(p,g){d+=g,d+=":",d+=p,d+=`\r
`}),d}function A2(l,d,p){e:{for(g in p){var g=!1;break e}g=!0}g||(p=zM(p),typeof l=="string"?p!=null&&encodeURIComponent(String(p)):ze(l,d,p))}function nt(l){zt.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}M(nt,zt);var MA=/^https?$/i,_A=["POST","PUT"];n=nt.prototype,n.Ha=function(l){this.J=l},n.ea=function(l,d,p,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);d=d?d.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():C2.g(),this.v=this.o?vM(this.o):vM(C2),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(l),!0),this.B=!1}catch(A){UM(this,A);return}if(l=p||"",p=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var S in g)p.set(S,g[S]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let A of g.keys())p.set(A,g.get(A));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(p.keys()).find(A=>A.toLowerCase()=="content-type"),S=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(_A,d,void 0))||g||S||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[A,B]of p)this.g.setRequestHeader(A,B);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{WM(this),this.u=!0,this.g.send(l),this.u=!1}catch(A){UM(this,A)}};function UM(l,d){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=d,l.m=5,$M(l),nh(l)}function $M(l){l.A||(l.A=!0,rn(l,"complete"),rn(l,"error"))}n.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,rn(this,"complete"),rn(this,"abort"),nh(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),nh(this,!0)),nt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?GM(this):this.bb())},n.bb=function(){GM(this)};function GM(l){if(l.h&&typeof s<"u"&&(!l.v[1]||ei(l)!=4||l.Z()!=2)){if(l.u&&ei(l)==4)fM(l.Ea,0,l);else if(rn(l,"readystatechange"),ei(l)==4){l.h=!1;try{let B=l.Z();e:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var p;if(!(p=d)){var g;if(g=B===0){var S=String(l.D).match(OM)[1]||null;!S&&a.self&&a.self.location&&(S=a.self.location.protocol.slice(0,-1)),g=!MA.test(S?S.toLowerCase():"")}p=g}if(p)rn(l,"complete"),rn(l,"success");else{l.m=6;try{var A=2<ei(l)?l.g.statusText:""}catch{A=""}l.l=A+" ["+l.Z()+"]",$M(l)}}finally{nh(l)}}}}function nh(l,d){if(l.g){WM(l);let p=l.g,g=l.v[0]?()=>{}:null;l.g=null,l.v=null,d||rn(l,"ready");try{p.onreadystatechange=g}catch{}}}function WM(l){l.I&&(a.clearTimeout(l.I),l.I=null)}n.isActive=function(){return!!this.g};function ei(l){return l.g?l.g.readyState:0}n.Z=function(){try{return 2<ei(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(l){if(this.g){var d=this.g.responseText;return l&&d.indexOf(l)==0&&(d=d.substring(l.length)),tA(d)}};function KM(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function CA(l){let d={};l=(l.g&&2<=ei(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<l.length;g++){if(N(l[g]))continue;var p=E(l[g]);let S=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();let A=d[S]||[];d[S]=A,A.push(p)}C(d,function(g){return g.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Il(l,d,p){return p&&p.internalChannelParams&&p.internalChannelParams[l]||d}function ZM(l){this.Aa=0,this.i=[],this.j=new pl,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Il("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Il("baseRetryDelayMs",5e3,l),this.cb=Il("retryDelaySeedMs",1e4,l),this.Wa=Il("forwardChannelMaxRetries",2,l),this.wa=Il("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new xM(l&&l.concurrentRequestLimit),this.Da=new wA,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=ZM.prototype,n.la=8,n.G=1,n.connect=function(l,d,p,g){on(0),this.W=l,this.H=d||{},p&&g!==void 0&&(this.H.OSID=p,this.H.OAID=g),this.F=this.X,this.I=i5(this,null,this.W),ih(this)};function L2(l){if(QM(l),l.G==3){var d=l.U++,p=Jr(l.I);if(ze(p,"SID",l.K),ze(p,"RID",d),ze(p,"TYPE","terminate"),Ml(l,p),d=new Ri(l,l.j,d),d.L=2,d.v=eh(Jr(p)),p=!1,a.navigator&&a.navigator.sendBeacon)try{p=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!p&&a.Image&&(new Image().src=d.v,p=!0),p||(d.g=o5(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Xd(d)}r5(l)}function rh(l){l.g&&(P2(l),l.g.cancel(),l.g=null)}function QM(l){rh(l),l.u&&(a.clearTimeout(l.u),l.u=null),oh(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&a.clearTimeout(l.s),l.s=null)}function ih(l){if(!AM(l.h)&&!l.s){l.s=!0;var d=l.Ga;ol||cM(),sl||(ol(),sl=!0),d2.add(d,l),l.B=0}}function bA(l,d){return LM(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=d.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=hl(m(l.Ga,l,d),n5(l,l.B)),l.B++,!0)}n.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;let S=new Ri(this,this.j,l),A=this.o;if(this.S&&(A?(A=k(A),_(A,this.S)):A=this.S),this.m!==null||this.O||(S.H=A,A=null),this.P)e:{for(var d=0,p=0;p<this.i.length;p++){t:{var g=this.i[p];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=p;break e}if(d===4096||p===this.i.length-1){d=p+1;break e}}d=1e3}else d=1e3;d=YM(this,S,d),p=Jr(this.I),ze(p,"RID",l),ze(p,"CVER",22),this.D&&ze(p,"X-HTTP-Session-Id",this.D),Ml(this,p),A&&(this.O?d="headers="+encodeURIComponent(String(zM(A)))+"&"+d:this.m&&A2(p,this.m,A)),x2(this.h,S),this.Ua&&ze(p,"TYPE","init"),this.P?(ze(p,"$req",d),ze(p,"SID","null"),S.T=!0,E2(S,p,null)):E2(S,p,d),this.G=2}}else this.G==3&&(l?XM(this,l):this.i.length==0||AM(this.h)||XM(this))};function XM(l,d){var p;d?p=d.l:p=l.U++;let g=Jr(l.I);ze(g,"SID",l.K),ze(g,"RID",p),ze(g,"AID",l.T),Ml(l,g),l.m&&l.o&&A2(g,l.m,l.o),p=new Ri(l,l.j,p,l.B+1),l.m===null&&(p.H=l.o),d&&(l.i=d.D.concat(l.i)),d=YM(l,p,1e3),p.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),x2(l.h,p),E2(p,g,d)}function Ml(l,d){l.H&&se(l.H,function(p,g){ze(d,g,p)}),l.l&&NM({},function(p,g){ze(d,g,p)})}function YM(l,d,p){p=Math.min(l.i.length,p);var g=l.l?m(l.l.Na,l.l,l):null;e:{var S=l.i;let A=-1;for(;;){let B=["count="+p];A==-1?0<p?(A=S[0].g,B.push("ofs="+A)):A=0:B.push("ofs="+A);let Oe=!0;for(let Nt=0;Nt<p;Nt++){let Ee=S[Nt].g,Ut=S[Nt].map;if(Ee-=A,0>Ee)A=Math.max(0,S[Nt].g-100),Oe=!1;else try{IA(Ut,B,"req"+Ee+"_")}catch{g&&g(Ut)}}if(Oe){g=B.join("&");break e}}}return l=l.i.splice(0,p),d.D=l,g}function JM(l){if(!l.g&&!l.u){l.Y=1;var d=l.Fa;ol||cM(),sl||(ol(),sl=!0),d2.add(d,l),l.v=0}}function R2(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=hl(m(l.Fa,l),n5(l,l.v)),l.v++,!0)}n.Fa=function(){if(this.u=null,e5(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=hl(m(this.ab,this),l)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,on(10),rh(this),e5(this))};function P2(l){l.A!=null&&(a.clearTimeout(l.A),l.A=null)}function e5(l){l.g=new Ri(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var d=Jr(l.qa);ze(d,"RID","rpc"),ze(d,"SID",l.K),ze(d,"AID",l.T),ze(d,"CI",l.F?"0":"1"),!l.F&&l.ja&&ze(d,"TO",l.ja),ze(d,"TYPE","xmlhttp"),Ml(l,d),l.m&&l.o&&A2(d,l.m,l.o),l.L&&(l.g.I=l.L);var p=l.g;l=l.ia,p.L=1,p.v=eh(Jr(d)),p.m=null,p.P=!0,SM(p,l)}n.Za=function(){this.C!=null&&(this.C=null,rh(this),R2(this),on(19))};function oh(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function t5(l,d){var p=null;if(l.g==d){oh(l),P2(l),l.g=null;var g=2}else if(D2(l.h,d))p=d.D,RM(l.h,d),g=1;else return;if(l.G!=0){if(d.o)if(g==1){p=d.m?d.m.length:0,d=Date.now()-d.F;var S=l.B;g=Kd(),rn(g,new _M(g,p)),ih(l)}else JM(l);else if(S=d.s,S==3||S==0&&0<d.X||!(g==1&&bA(l,d)||g==2&&R2(l)))switch(p&&0<p.length&&(d=l.h,d.i=d.i.concat(p)),S){case 1:Vo(l,5);break;case 4:Vo(l,10);break;case 3:Vo(l,6);break;default:Vo(l,2)}}}function n5(l,d){let p=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(p*=2),p*d}function Vo(l,d){if(l.j.info("Error code "+d),d==2){var p=m(l.fb,l),g=l.Xa;let S=!g;g=new Fo(g||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Yd(g,"https"),eh(g),S?vA(g.toString(),p):kA(g.toString(),p)}else on(2);l.G=0,l.l&&l.l.sa(d),r5(l),QM(l)}n.fb=function(l){l?(this.j.info("Successfully pinged google.com"),on(2)):(this.j.info("Failed to ping google.com"),on(1))};function r5(l){if(l.G=0,l.ka=[],l.l){let d=PM(l.h);(d.length!=0||l.i.length!=0)&&(D(l.ka,d),D(l.ka,l.i),l.h.i.length=0,L(l.i),l.i.length=0),l.l.ra()}}function i5(l,d,p){var g=p instanceof Fo?Jr(p):new Fo(p);if(g.g!="")d&&(g.g=d+"."+g.g),Jd(g,g.s);else{var S=a.location;g=S.protocol,d=d?d+"."+S.hostname:S.hostname,S=+S.port;var A=new Fo(null);g&&Yd(A,g),d&&(A.g=d),S&&Jd(A,S),p&&(A.l=p),g=A}return p=l.D,d=l.ya,p&&d&&ze(g,p,d),ze(g,"VER",l.la),Ml(l,g),g}function o5(l,d,p){if(d&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=l.Ca&&!l.pa?new nt(new vl({eb:p})):new nt(l.pa),d.Ha(l.J),d}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function s5(){}n=s5.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function sh(){}sh.prototype.g=function(l,d){return new wn(l,d)};function wn(l,d){zt.call(this),this.g=new ZM(d),this.l=l,this.h=d&&d.messageUrlParams||null,l=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(l?l["X-WebChannel-Content-Type"]=d.messageContentType:l={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(l?l["X-WebChannel-Client-Profile"]=d.va:l={"X-WebChannel-Client-Profile":d.va}),this.g.S=l,(l=d&&d.Sb)&&!N(l)&&(this.g.m=l),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!N(d)&&(this.g.D=d,l=this.h,l!==null&&d in l&&(l=this.h,d in l&&delete l[d])),this.j=new ia(this)}M(wn,zt),wn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},wn.prototype.close=function(){L2(this.g)},wn.prototype.o=function(l){var d=this.g;if(typeof l=="string"){var p={};p.__data__=l,l=p}else this.u&&(p={},p.__data__=w2(l),l=p);d.i.push(new cA(d.Ya++,l)),d.G==3&&ih(d)},wn.prototype.N=function(){this.g.l=null,delete this.j,L2(this.g),delete this.g,wn.aa.N.call(this)};function a5(l){M2.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var d=l.__sm__;if(d){e:{for(let p in d){l=p;break e}l=void 0}(this.i=l)&&(l=this.i,d=d!==null&&l in d?d[l]:void 0),this.data=d}else this.data=l}M(a5,M2);function c5(){_2.call(this),this.status=1}M(c5,_2);function ia(l){this.g=l}M(ia,s5),ia.prototype.ua=function(){rn(this.g,"a")},ia.prototype.ta=function(l){rn(this.g,new a5(l))},ia.prototype.sa=function(l){rn(this.g,new c5)},ia.prototype.ra=function(){rn(this.g,"b")},sh.prototype.createWebChannel=sh.prototype.g,wn.prototype.send=wn.prototype.o,wn.prototype.open=wn.prototype.m,wn.prototype.close=wn.prototype.close,j4=Ei.createWebChannelTransport=function(){return new sh},V4=Ei.getStatEventTarget=function(){return Kd()},F4=Ei.Event=No,Zf=Ei.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Zd.NO_ERROR=0,Zd.TIMEOUT=8,Zd.HTTP_ERROR=6,md=Ei.ErrorCode=Zd,CM.COMPLETE="complete",O4=Ei.EventType=CM,kM.EventType=ul,ul.OPEN="a",ul.CLOSE="b",ul.ERROR="c",ul.MESSAGE="d",zt.prototype.listen=zt.prototype.K,xc=Ei.WebChannel=kM,gz=Ei.FetchXmlHttpFactory=vl,nt.prototype.listenOnce=nt.prototype.L,nt.prototype.getLastError=nt.prototype.Ka,nt.prototype.getLastErrorCode=nt.prototype.Ba,nt.prototype.getStatus=nt.prototype.Z,nt.prototype.getResponseJson=nt.prototype.Oa,nt.prototype.getResponseText=nt.prototype.oa,nt.prototype.send=nt.prototype.ea,nt.prototype.setWithCredentials=nt.prototype.Ha,N4=Ei.XhrIo=nt}).apply(typeof Kf<"u"?Kf:typeof self<"u"?self:typeof window<"u"?window:{});var ES="@firebase/firestore",SS="4.8.0";var Rt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Rt.UNAUTHENTICATED=new Rt(null),Rt.GOOGLE_CREDENTIALS=new Rt("google-credentials-uid"),Rt.FIRST_PARTY=new Rt("first-party-uid"),Rt.MOCK_USER=new Rt("mock-user");var Xc="11.10.0";var Ws=new jr("@firebase/firestore");function Ac(){return Ws.logLevel}function W(n,...e){if(Ws.logLevel<=Me.DEBUG){let t=e.map(SI);Ws.debug(`Firestore (${Xc}): ${n}`,...t)}}function Si(n,...e){if(Ws.logLevel<=Me.ERROR){let t=e.map(SI);Ws.error(`Firestore (${Xc}): ${n}`,...t)}}function xo(n,...e){if(Ws.logLevel<=Me.WARN){let t=e.map(SI);Ws.warn(`Firestore (${Xc}): ${n}`,...t)}}function SI(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function ie(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,kT(n,r,t)}function kT(n,e,t){let r=`FIRESTORE (${Xc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Si(r),new Error(r)}function Le(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||kT(e,i,r)}function pe(n,e){return n}var P={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},G=class extends Tn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var ur=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var n0=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},U4=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Rt.UNAUTHENTICATED))}shutdown(){}},$4=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},G4=class{constructor(e){this.t=e,this.currentUser=Rt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Le(this.o===void 0,42304);let r=this.i,i=c=>this.i!==r?(r=this.i,t(c)):Promise.resolve(),o=new ur;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ur,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let c=o;e.enqueueRetryable(()=>v(this,null,function*(){yield c.promise,yield i(this.currentUser)}))},a=c=>{W("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(W("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ur)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(W("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Le(typeof r.accessToken=="string",31837,{l:r}),new n0(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Le(e===null||typeof e=="string",2055,{h:e}),new Rt(e)}},W4=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Rt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},K4=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new W4(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Rt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},r0=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Z4=class{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,vn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Le(this.o===void 0,3512);let r=o=>{o.error!=null&&W("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,W("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{W("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):W("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new r0(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Le(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new r0(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function yz(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}function wT(){return new TextEncoder}var Id=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=yz(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}};function ke(n,e){return n<e?-1:n>e?1:0}function Q4(n,e){let t=0;for(;t<n.length&&t<e.length;){let r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return ke(r,i);{let o=wT(),s=vz(o.encode(TS(n,t)),o.encode(TS(e,t)));return s!==0?s:ke(r,i)}}t+=r>65535?2:1}return ke(n.length,e.length)}function TS(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function vz(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return ke(n[t],e[t]);return ke(n.length,e.length)}function Vc(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var DS="__name__",i0=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&ie(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&ie(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=n.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return ke(e.length,t.length)}static compareSegments(e,t){let r=n.isNumericId(e),i=n.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?n.extractNumericId(e).compare(n.extractNumericId(t)):Q4(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return bi.fromString(e.substring(4,e.length-2))}},Qe=class n extends i0{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new G(P.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},kz=/^[_a-zA-Z][_a-zA-Z0-9]*$/,xn=class n extends i0{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return kz.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===DS}static keyField(){return new n([DS])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new G(P.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new G(P.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new G(P.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new G(P.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var J=class n{constructor(e){this.path=e}static fromPath(e){return new n(Qe.fromString(e))}static fromName(e){return new n(Qe.fromString(e).popFirst(5))}static empty(){return new n(Qe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Qe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Qe.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new Qe(e.slice()))}};function IT(n,e,t){if(!t)throw new G(P.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function wz(n,e,t,r){if(e===!0&&r===!0)throw new G(P.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function xS(n){if(!J.isDocumentKey(n))throw new G(P.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function AS(n){if(J.isDocumentKey(n))throw new G(P.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function MT(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function N0(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":ie(12329,{type:typeof n})}function kn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new G(P.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=N0(n);throw new G(P.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function kt(n,e){let t={typeString:n};return e&&(t.value=e),t}function Od(n,e){if(!MT(n))throw new G(P.INVALID_ARGUMENT,"JSON must be an object");let t;for(let r in e)if(e[r]){let i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}let s=n[r];if(i&&typeof s!==i){t=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){t=`Expected '${r}' field to equal '${o.value}'`;break}}if(t)throw new G(P.INVALID_ARGUMENT,t);return!0}var LS=-62135596800,RS=1e6,wt=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*RS);return new n(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new G(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new G(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<LS)throw new G(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new G(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/RS}_compareTo(e){return this.seconds===e.seconds?ke(this.nanoseconds,e.nanoseconds):ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:n._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Od(e,n._jsonSchema))return new n(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-LS;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};wt._jsonSchemaVersion="firestore/timestamp/1.0",wt._jsonSchema={type:kt("string",wt._jsonSchemaVersion),seconds:kt("number"),nanoseconds:kt("number")};var fe=class n{static fromTimestamp(e){return new n(e)}static min(){return new n(new wt(0,0))}static max(){return new n(new wt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Md=-1,X4=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};X4.UNKNOWN_ID=-1;function Iz(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=fe.fromTimestamp(r===1e9?new wt(t+1,0):new wt(t,r));return new Ks(i,J.empty(),e)}function Mz(n){return new Ks(n.readTime,n.key,Md)}var Ks=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(fe.min(),J.empty(),Md)}static max(){return new n(fe.max(),J.empty(),Md)}};function _z(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=J.comparator(n.documentKey,e.documentKey),t!==0?t:ke(n.largestBatchId,e.largestBatchId))}var Cz="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Y4=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Yc(n){return v(this,null,function*(){if(n.code!==P.FAILED_PRECONDITION||n.message!==Cz)throw n;W("LocalStore","Unexpectedly lost primary lease")})}var O=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ie(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},c=>r(c))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let c=0;c<o;c++){let u=c;t(e[u]).next(h=>{s[u]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};function bz(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Jc(n){return n.name==="IndexedDbTransactionError"}var TI=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this._e(i),this.ae=i=>r.writeSequenceNumber(i))}_e(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.ae&&this.ae(t),t}}n.ue=-1;return n})(),DI=-1;function O0(n){return n==null}function _d(n){return n===0&&1/n==-1/0}function Ez(n){return typeof n=="number"&&Number.isInteger(n)&&!_d(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var _T="";function Sz(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=PS(e)),e=Tz(n.get(t),e);return PS(e)}function Tz(n,e){let t=e,r=n.length;for(let i=0;i<r;i++){let o=n.charAt(i);switch(o){case"\0":t+="";break;case _T:t+="";break;default:t+=o}}return t}function PS(n){return n+_T+""}var Dz="remoteDocuments",CT="owner";var bT="mutationQueues";var ET="mutations";var ST="documentMutations",xz="remoteDocumentsV14";var TT="remoteDocumentGlobal";var DT="targets";var xT="targetDocuments";var AT="targetGlobal",LT="collectionParents";var RT="clientMetadata";var PT="bundles";var NT="namedQueries";var Az="indexConfiguration";var Lz="indexState";var Rz="indexEntries";var OT="documentOverlays";var Pz="globals";var Nz=[bT,ET,ST,Dz,DT,CT,AT,xT,RT,TT,LT,PT,NT],mpe=[...Nz,OT],Oz=[bT,ET,ST,xz,DT,CT,AT,xT,RT,TT,LT,PT,NT,OT],Fz=Oz,Vz=[...Fz,Az,Lz,Rz];var gpe=[...Vz,Pz];function NS(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Po(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function FT(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var dt=class n{constructor(e,t){this.comparator=e,this.root=t||zr.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,zr.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,zr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Nc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Nc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Nc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Nc(this.root,e,this.comparator,!0)}},Nc=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},zr=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ie(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ie(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw ie(27949);return e+(this.isRed()?0:1)}};zr.EMPTY=null,zr.RED=!0,zr.BLACK=!1;zr.EMPTY=new class{constructor(){this.size=0}get key(){throw ie(57766)}get value(){throw ie(16141)}get color(){throw ie(16727)}get left(){throw ie(29726)}get right(){throw ie(36894)}copy(e,t,r,i,o){return this}insert(e,t,r){return new zr(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Pt=class n{constructor(e){this.comparator=e,this.data=new dt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new o0(this.data.getIterator())}getIteratorFrom(e){return new o0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},o0=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Un=class n{constructor(e){this.fields=e,e.sort(xn.comparator)}static empty(){return new n([])}unionWith(e){let t=new Pt(xn.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Vc(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var s0=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var nn=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new s0("Invalid base64 string: "+o):o}})(e);return new n(t)}static fromUint8Array(e){let t=(function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o})(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};nn.EMPTY_BYTE_STRING=new nn("");var jz=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ti(n){if(Le(!!n,39018),typeof n=="string"){let e=0,t=jz.exec(n);if(Le(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ze(n.seconds),nanos:Ze(n.nanos)}}function Ze(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Di(n){return typeof n=="string"?nn.fromBase64String(n):nn.fromUint8Array(n)}var VT="server_timestamp",jT="__type__",BT="__previous_value__",qT="__local_write_time__";function xI(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[jT])===null||t===void 0?void 0:t.stringValue)===VT}function F0(n){let e=n.mapValue.fields[BT];return xI(e)?F0(e):e}function Cd(n){let e=Ti(n.mapValue.fields[qT].timestampValue);return new wt(e.seconds,e.nanos)}var J4=class{constructor(e,t,r,i,o,s,a,c,u,h){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u,this.isUsingEmulator=h}},a0="(default)",c0=class n{constructor(e,t){this.projectId=e,this.database=t||a0}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===a0}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var AI="__type__",HT="__max__",Qf={mapValue:{fields:{__type__:{stringValue:HT}}}},LI="__vector__",jc="value";function Ao(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?xI(n)?4:UT(n)?9007199254740991:zT(n)?10:11:ie(28295,{value:n})}function Wr(n,e){if(n===e)return!0;let t=Ao(n);if(t!==Ao(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Cd(n).isEqual(Cd(e));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=Ti(i.timestampValue),a=Ti(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(i,o){return Di(i.bytesValue).isEqual(Di(o.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(i,o){return Ze(i.geoPointValue.latitude)===Ze(o.geoPointValue.latitude)&&Ze(i.geoPointValue.longitude)===Ze(o.geoPointValue.longitude)})(n,e);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return Ze(i.integerValue)===Ze(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Ze(i.doubleValue),a=Ze(o.doubleValue);return s===a?_d(s)===_d(a):isNaN(s)&&isNaN(a)}return!1})(n,e);case 9:return Vc(n.arrayValue.values||[],e.arrayValue.values||[],Wr);case 10:case 11:return(function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(NS(s)!==NS(a))return!1;for(let c in s)if(s.hasOwnProperty(c)&&(a[c]===void 0||!Wr(s[c],a[c])))return!1;return!0})(n,e);default:return ie(52216,{left:n})}}function bd(n,e){return(n.values||[]).find(t=>Wr(t,e))!==void 0}function Bc(n,e){if(n===e)return 0;let t=Ao(n),r=Ao(e);if(t!==r)return ke(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return ke(n.booleanValue,e.booleanValue);case 2:return(function(o,s){let a=Ze(o.integerValue||o.doubleValue),c=Ze(s.integerValue||s.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1})(n,e);case 3:return OS(n.timestampValue,e.timestampValue);case 4:return OS(Cd(n),Cd(e));case 5:return Q4(n.stringValue,e.stringValue);case 6:return(function(o,s){let a=Di(o),c=Di(s);return a.compareTo(c)})(n.bytesValue,e.bytesValue);case 7:return(function(o,s){let a=o.split("/"),c=s.split("/");for(let u=0;u<a.length&&u<c.length;u++){let h=ke(a[u],c[u]);if(h!==0)return h}return ke(a.length,c.length)})(n.referenceValue,e.referenceValue);case 8:return(function(o,s){let a=ke(Ze(o.latitude),Ze(s.latitude));return a!==0?a:ke(Ze(o.longitude),Ze(s.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return FS(n.arrayValue,e.arrayValue);case 10:return(function(o,s){var a,c,u,h;let f=o.fields||{},m=s.fields||{},y=(a=f[jc])===null||a===void 0?void 0:a.arrayValue,M=(c=m[jc])===null||c===void 0?void 0:c.arrayValue,L=ke(((u=y?.values)===null||u===void 0?void 0:u.length)||0,((h=M?.values)===null||h===void 0?void 0:h.length)||0);return L!==0?L:FS(y,M)})(n.mapValue,e.mapValue);case 11:return(function(o,s){if(o===Qf.mapValue&&s===Qf.mapValue)return 0;if(o===Qf.mapValue)return 1;if(s===Qf.mapValue)return-1;let a=o.fields||{},c=Object.keys(a),u=s.fields||{},h=Object.keys(u);c.sort(),h.sort();for(let f=0;f<c.length&&f<h.length;++f){let m=Q4(c[f],h[f]);if(m!==0)return m;let y=Bc(a[c[f]],u[h[f]]);if(y!==0)return y}return ke(c.length,h.length)})(n.mapValue,e.mapValue);default:throw ie(23264,{le:t})}}function OS(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return ke(n,e);let t=Ti(n),r=Ti(e),i=ke(t.seconds,r.seconds);return i!==0?i:ke(t.nanos,r.nanos)}function FS(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=Bc(t[i],r[i]);if(o)return o}return ke(t.length,r.length)}function qc(n){return ew(n)}function ew(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){let r=Ti(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Di(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return J.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=ew(o);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${ew(t.fields[s])}`;return i+"}"})(n.mapValue):ie(61005,{value:n})}function Jf(n){switch(Ao(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=F0(n);return e?16+Jf(e):16;case 5:return 2*n.stringValue.length;case 6:return Di(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce((i,o)=>i+Jf(o),0)})(n.arrayValue);case 10:case 11:return(function(r){let i=0;return Po(r.fields,(o,s)=>{i+=o.length+Jf(s)}),i})(n.mapValue);default:throw ie(13486,{value:n})}}function VS(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function tw(n){return!!n&&"integerValue"in n}function RI(n){return!!n&&"arrayValue"in n}function jS(n){return!!n&&"nullValue"in n}function BS(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function e0(n){return!!n&&"mapValue"in n}function zT(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[AI])===null||t===void 0?void 0:t.stringValue)===LI}function yd(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return Po(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=yd(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=yd(n.arrayValue.values[t]);return e}return Object.assign({},n)}function UT(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===HT}var vpe={mapValue:{fields:{[AI]:{stringValue:LI},[jc]:{arrayValue:{}}}}};var Dn=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!e0(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=yd(t)}setAll(e){let t=xn.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){let c=this.getFieldsMap(t);this.applyChanges(c,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=yd(s):i.push(a.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());e0(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Wr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];e0(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Po(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n(yd(this.value))}};function $T(n){let e=[];return Po(n.fields,(t,r)=>{let i=new xn([t]);if(e0(r)){let o=$T(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new Un(e)}var dr=class n{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new n(e,0,fe.min(),fe.min(),fe.min(),Dn.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,fe.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,fe.min(),fe.min(),Dn.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,fe.min(),fe.min(),Dn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(fe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Dn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=fe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Hc=class{constructor(e,t){this.position=e,this.inclusive=t}};function qS(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=J.comparator(J.fromName(s.referenceValue),t.key):r=Bc(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function HS(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Wr(n.position[t],e.position[t]))return!1;return!0}var zc=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function Bz(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var l0=class{},vt=class n extends l0{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new rw(e,t,r):t==="array-contains"?new sw(e,r):t==="in"?new aw(e,r):t==="not-in"?new cw(e,r):t==="array-contains-any"?new lw(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new iw(e,r):new ow(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Bc(t,this.value)):t!==null&&Ao(this.value)===Ao(t)&&this.matchesComparison(Bc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ie(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},hr=class n extends l0{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new n(e,t)}matches(e){return GT(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}};function GT(n){return n.op==="and"}function WT(n){return qz(n)&&GT(n)}function qz(n){for(let e of n.filters)if(e instanceof hr)return!1;return!0}function nw(n){if(n instanceof vt)return n.field.canonicalString()+n.op.toString()+qc(n.value);if(WT(n))return n.filters.map(e=>nw(e)).join(",");{let e=n.filters.map(t=>nw(t)).join(",");return`${n.op}(${e})`}}function KT(n,e){return n instanceof vt?(function(r,i){return i instanceof vt&&r.op===i.op&&r.field.isEqual(i.field)&&Wr(r.value,i.value)})(n,e):n instanceof hr?(function(r,i){return i instanceof hr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&KT(s,i.filters[a]),!0):!1})(n,e):void ie(19439)}function ZT(n){return n instanceof vt?(function(t){return`${t.field.canonicalString()} ${t.op} ${qc(t.value)}`})(n):n instanceof hr?(function(t){return t.op.toString()+" {"+t.getFilters().map(ZT).join(" ,")+"}"})(n):"Filter"}var rw=class extends vt{constructor(e,t,r){super(e,t,r),this.key=J.fromName(r.referenceValue)}matches(e){let t=J.comparator(e.key,this.key);return this.matchesComparison(t)}},iw=class extends vt{constructor(e,t){super(e,"in",t),this.keys=QT("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},ow=class extends vt{constructor(e,t){super(e,"not-in",t),this.keys=QT("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function QT(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>J.fromName(r.referenceValue))}var sw=class extends vt{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return RI(t)&&bd(t.arrayValue,this.value)}},aw=class extends vt{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&bd(this.value.arrayValue,t)}},cw=class extends vt{constructor(e,t){super(e,"not-in",t)}matches(e){if(bd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!bd(this.value.arrayValue,t)}},lw=class extends vt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!RI(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>bd(this.value.arrayValue,r))}};var uw=class{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Pe=null}};function zS(n,e=null,t=[],r=[],i=null,o=null,s=null){return new uw(n,e,t,r,i,o,s)}function PI(n){let e=pe(n);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>nw(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>(function(o){return o.field.canonicalString()+o.dir})(r)).join(","),O0(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>qc(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>qc(r)).join(",")),e.Pe=t}return e.Pe}function NI(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Bz(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!KT(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!HS(n.startAt,e.startAt)&&HS(n.endAt,e.endAt)}function dw(n){return J.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var Zs=class{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=c,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}};function Hz(n,e,t,r,i,o,s,a){return new Zs(n,e,t,r,i,o,s,a)}function V0(n){return new Zs(n)}function US(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function XT(n){return n.collectionGroup!==null}function vd(n){let e=pe(n);if(e.Te===null){e.Te=[];let t=new Set;for(let o of e.explicitOrderBy)e.Te.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Pt(xn.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Te.push(new zc(o,r))}),t.has(xn.keyField().canonicalString())||e.Te.push(new zc(xn.keyField(),r))}return e.Te}function Ur(n){let e=pe(n);return e.Ie||(e.Ie=zz(e,vd(n))),e.Ie}function zz(n,e){if(n.limitType==="F")return zS(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new zc(i.field,o)});let t=n.endAt?new Hc(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Hc(n.startAt.position,n.startAt.inclusive):null;return zS(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function hw(n,e){let t=n.filters.concat([e]);return new Zs(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function pw(n,e,t){return new Zs(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function j0(n,e){return NI(Ur(n),Ur(e))&&n.limitType===e.limitType}function YT(n){return`${PI(Ur(n))}|lt:${n.limitType}`}function Lc(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>ZT(i)).join(", ")}]`),O0(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>(function(s){return`${s.field.canonicalString()} (${s.dir})`})(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>qc(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>qc(i)).join(",")),`Target(${r})`})(Ur(n))}; limitType=${n.limitType})`}function B0(n,e){return e.isFoundDocument()&&(function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):J.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(n,e)&&(function(r,i){for(let o of vd(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(n,e)&&(function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0})(n,e)&&(function(r,i){return!(r.startAt&&!(function(s,a,c){let u=qS(s,a,c);return s.inclusive?u<=0:u<0})(r.startAt,vd(r),i)||r.endAt&&!(function(s,a,c){let u=qS(s,a,c);return s.inclusive?u>=0:u>0})(r.endAt,vd(r),i))})(n,e)}function Uz(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function JT(n){return(e,t)=>{let r=!1;for(let i of vd(n)){let o=$z(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function $z(n,e,t){let r=n.field.isKeyField()?J.comparator(e.key,t.key):(function(o,s,a){let c=s.data.field(o),u=a.data.field(o);return c!==null&&u!==null?Bc(c,u):ie(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ie(19790,{direction:n.dir})}}var xi=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Po(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return FT(this.inner)}size(){return this.innerSize}};var Gz=new dt(J.comparator);function Ai(){return Gz}var eD=new dt(J.comparator);function gd(...n){let e=eD;for(let t of n)e=e.insert(t.key,t);return e}function tD(n){let e=eD;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Hs(){return kd()}function nD(){return kd()}function kd(){return new xi(n=>n.toString(),(n,e)=>n.isEqual(e))}var Wz=new dt(J.comparator),Kz=new Pt(J.comparator);function _e(...n){let e=Kz;for(let t of n)e=e.add(t);return e}var Zz=new Pt(ke);function Qz(){return Zz}function OI(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_d(e)?"-0":e}}function rD(n){return{integerValue:""+n}}function Xz(n,e){return Ez(e)?rD(e):OI(n,e)}var Uc=class{constructor(){this._=void 0}};function Yz(n,e,t){return n instanceof $c?(function(i,o){let s={fields:{[jT]:{stringValue:VT},[qT]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&xI(o)&&(o=F0(o)),o&&(s.fields[BT]=o),{mapValue:s}})(t,e):n instanceof Qs?oD(n,e):n instanceof Xs?sD(n,e):(function(i,o){let s=iD(i,o),a=$S(s)+$S(i.Ee);return tw(s)&&tw(i.Ee)?rD(a):OI(i.serializer,a)})(n,e)}function Jz(n,e,t){return n instanceof Qs?oD(n,e):n instanceof Xs?sD(n,e):t}function iD(n,e){return n instanceof Gc?(function(r){return tw(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}var $c=class extends Uc{},Qs=class extends Uc{constructor(e){super(),this.elements=e}};function oD(n,e){let t=aD(e);for(let r of n.elements)t.some(i=>Wr(i,r))||t.push(r);return{arrayValue:{values:t}}}var Xs=class extends Uc{constructor(e){super(),this.elements=e}};function sD(n,e){let t=aD(e);for(let r of n.elements)t=t.filter(i=>!Wr(i,r));return{arrayValue:{values:t}}}var Gc=class extends Uc{constructor(e,t){super(),this.serializer=e,this.Ee=t}};function $S(n){return Ze(n.integerValue||n.doubleValue)}function aD(n){return RI(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function eU(n,e){return n.field.isEqual(e.field)&&(function(r,i){return r instanceof Qs&&i instanceof Qs||r instanceof Xs&&i instanceof Xs?Vc(r.elements,i.elements,Wr):r instanceof Gc&&i instanceof Gc?Wr(r.Ee,i.Ee):r instanceof $c&&i instanceof $c})(n.transform,e.transform)}var fw=class{constructor(e,t){this.version=e,this.transformResults=t}},$r=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function t0(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var Wc=class{};function cD(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Ed(n.key,$r.none()):new Ys(n.key,n.data,$r.none());{let t=n.data,r=Dn.empty(),i=new Pt(xn.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Kr(n.key,r,new Un(i.toArray()),$r.none())}}function tU(n,e,t){n instanceof Ys?(function(i,o,s){let a=i.value.clone(),c=WS(i.fieldTransforms,o,s.transformResults);a.setAll(c),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()})(n,e,t):n instanceof Kr?(function(i,o,s){if(!t0(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=WS(i.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(lD(i)),c.setAll(a),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()})(n,e,t):(function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()})(0,e,t)}function wd(n,e,t,r){return n instanceof Ys?(function(o,s,a,c){if(!t0(o.precondition,s))return a;let u=o.value.clone(),h=KS(o.fieldTransforms,c,s);return u.setAll(h),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null})(n,e,t,r):n instanceof Kr?(function(o,s,a,c){if(!t0(o.precondition,s))return a;let u=KS(o.fieldTransforms,c,s),h=s.data;return h.setAll(lD(o)),h.setAll(u),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))})(n,e,t,r):(function(o,s,a){return t0(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a})(n,e,t)}function nU(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),o=iD(r.transform,i||null);o!=null&&(t===null&&(t=Dn.empty()),t.set(r.field,o))}return t||null}function GS(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Vc(r,i,(o,s)=>eU(o,s))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var Ys=class extends Wc{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Kr=class extends Wc{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function lD(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function WS(n,e,t){let r=new Map;Le(n.length===t.length,32656,{Ae:t.length,Re:n.length});for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,Jz(s,a,t[i]))}return r}function KS(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,Yz(o,s,e))}return r}var Ed=class extends Wc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},mw=class extends Wc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var gw=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&tU(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=wd(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=wd(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=nD();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;let c=cD(s,a);c!==null&&r.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(fe.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),_e())}isEqual(e){return this.batchId===e.batchId&&Vc(this.mutations,e.mutations,(t,r)=>GS(t,r))&&Vc(this.baseMutations,e.baseMutations,(t,r)=>GS(t,r))}},yw=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Le(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let i=(function(){return Wz})(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new n(e,t,r,i)}};var vw=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var kw=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var gt,be;function rU(n){switch(n){case P.OK:return ie(64938);case P.CANCELLED:case P.UNKNOWN:case P.DEADLINE_EXCEEDED:case P.RESOURCE_EXHAUSTED:case P.INTERNAL:case P.UNAVAILABLE:case P.UNAUTHENTICATED:return!1;case P.INVALID_ARGUMENT:case P.NOT_FOUND:case P.ALREADY_EXISTS:case P.PERMISSION_DENIED:case P.FAILED_PRECONDITION:case P.ABORTED:case P.OUT_OF_RANGE:case P.UNIMPLEMENTED:case P.DATA_LOSS:return!0;default:return ie(15467,{code:n})}}function uD(n){if(n===void 0)return Si("GRPC error has no .code"),P.UNKNOWN;switch(n){case gt.OK:return P.OK;case gt.CANCELLED:return P.CANCELLED;case gt.UNKNOWN:return P.UNKNOWN;case gt.DEADLINE_EXCEEDED:return P.DEADLINE_EXCEEDED;case gt.RESOURCE_EXHAUSTED:return P.RESOURCE_EXHAUSTED;case gt.INTERNAL:return P.INTERNAL;case gt.UNAVAILABLE:return P.UNAVAILABLE;case gt.UNAUTHENTICATED:return P.UNAUTHENTICATED;case gt.INVALID_ARGUMENT:return P.INVALID_ARGUMENT;case gt.NOT_FOUND:return P.NOT_FOUND;case gt.ALREADY_EXISTS:return P.ALREADY_EXISTS;case gt.PERMISSION_DENIED:return P.PERMISSION_DENIED;case gt.FAILED_PRECONDITION:return P.FAILED_PRECONDITION;case gt.ABORTED:return P.ABORTED;case gt.OUT_OF_RANGE:return P.OUT_OF_RANGE;case gt.UNIMPLEMENTED:return P.UNIMPLEMENTED;case gt.DATA_LOSS:return P.DATA_LOSS;default:return ie(39323,{code:n})}}(be=gt||(gt={}))[be.OK=0]="OK",be[be.CANCELLED=1]="CANCELLED",be[be.UNKNOWN=2]="UNKNOWN",be[be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",be[be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",be[be.NOT_FOUND=5]="NOT_FOUND",be[be.ALREADY_EXISTS=6]="ALREADY_EXISTS",be[be.PERMISSION_DENIED=7]="PERMISSION_DENIED",be[be.UNAUTHENTICATED=16]="UNAUTHENTICATED",be[be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",be[be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",be[be.ABORTED=10]="ABORTED",be[be.OUT_OF_RANGE=11]="OUT_OF_RANGE",be[be.UNIMPLEMENTED=12]="UNIMPLEMENTED",be[be.INTERNAL=13]="INTERNAL",be[be.UNAVAILABLE=14]="UNAVAILABLE",be[be.DATA_LOSS=15]="DATA_LOSS";var ZS=null;var iU=new bi([4294967295,4294967295],0);function QS(n){let e=wT().encode(n),t=new P4;return t.update(e),new Uint8Array(t.digest())}function XS(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new bi([t,r],0),new bi([i,o],0)]}var ww=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new zs(`Invalid padding: ${t}`);if(r<0)throw new zs(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new zs(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new zs(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=bi.fromNumber(this.fe)}pe(e,t,r){let i=e.add(t.multiply(bi.fromNumber(r)));return i.compare(iU)===1&&(i=new bi([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;let t=QS(e),[r,i]=XS(t);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);if(!this.ye(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.fe===0)return;let t=QS(e),[r,i]=XS(t);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);this.we(s)}}we(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},zs=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var u0=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,Sd.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(fe.min(),i,new dt(ke),Ai(),_e())}},Sd=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,_e(),_e(),_e())}};var Oc=class{constructor(e,t,r,i){this.Se=e,this.removedTargetIds=t,this.key=r,this.be=i}},d0=class{constructor(e,t){this.targetId=e,this.De=t}},h0=class{constructor(e,t,r=nn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},p0=class{constructor(){this.ve=0,this.Ce=YS(),this.Fe=nn.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=_e(),t=_e(),r=_e();return this.Ce.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:ie(38017,{changeType:o})}}),new Sd(this.Fe,this.Me,e,t,r)}ke(){this.xe=!1,this.Ce=YS()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Le(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}},Iw=class{constructor(e){this.We=e,this.Ge=new Map,this.ze=Ai(),this.je=Xf(),this.Je=Xf(),this.He=new dt(ke)}Ye(e){for(let t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(let t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{let r=this.tt(t);switch(e.state){case 0:this.nt(t)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),r.Be(e.resumeToken));break;default:ie(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((r,i)=>{this.nt(i)&&t(i)})}it(e){let t=e.targetId,r=e.De.count,i=this.st(t);if(i){let o=i.target;if(dw(o))if(r===0){let s=new J(o.path);this.Xe(t,s,dr.newNoDocument(s,fe.min()))}else Le(r===1,20013,{expectedCount:r});else{let s=this.ot(t);if(s!==r){let a=this._t(e),c=a?this.ut(a,e,s):1;if(c!==0){this.rt(t);let u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,u)}ZS?.ct((function(h,f,m,y,M){var L,D,x,N,$,ee;let Te={localCacheCount:h,existenceFilterCount:f.count,databaseId:m.database,projectId:m.projectId},se=f.unchangedNames;return se&&(Te.bloomFilter={applied:M===0,hashCount:(L=se?.hashCount)!==null&&L!==void 0?L:0,bitmapLength:(N=(x=(D=se?.bits)===null||D===void 0?void 0:D.bitmap)===null||x===void 0?void 0:x.length)!==null&&N!==void 0?N:0,padding:(ee=($=se?.bits)===null||$===void 0?void 0:$.padding)!==null&&ee!==void 0?ee:0,mightContain:C=>{var k;return(k=y?.mightContain(C))!==null&&k!==void 0&&k}}),Te})(s,e.De,this.We.lt(),a,c))}}}}_t(e){let t=e.De.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,a;try{s=Di(r).toUint8Array()}catch(c){if(c instanceof s0)return xo("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new ww(s,i,o)}catch(c){return xo(c instanceof zs?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.fe===0?null:a}ut(e,t,r){return t.De.count===r-this.ht(e,t.targetId)?0:2}ht(e,t){let r=this.We.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.We.lt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Xe(t,o,null),i++)}),i}Pt(e){let t=new Map;this.Ge.forEach((o,s)=>{let a=this.st(s);if(a){if(o.current&&dw(a.target)){let c=new J(a.target.path);this.Tt(c).has(s)||this.It(s,c)||this.Xe(s,c,dr.newNoDocument(c,e))}o.Ne&&(t.set(s,o.Le()),o.ke())}});let r=_e();this.Je.forEach((o,s)=>{let a=!0;s.forEachWhile(c=>{let u=this.st(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ze.forEach((o,s)=>s.setReadTime(e));let i=new u0(e,t,this.He,this.ze,r);return this.ze=Ai(),this.je=Xf(),this.Je=Xf(),this.He=new dt(ke),i}Ze(e,t){if(!this.nt(e))return;let r=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,r),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,r){if(!this.nt(e))return;let i=this.tt(e);this.It(e,t)?i.qe(t,1):i.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),r&&(this.ze=this.ze.insert(t,r))}removeTarget(e){this.Ge.delete(e)}ot(e){let t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new p0,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new Pt(ke),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new Pt(ke),this.je=this.je.insert(e,t)),t}nt(e){let t=this.st(e)!==null;return t||W("WatchChangeAggregator","Detected inactive target",e),t}st(e){let t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new p0),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}};function Xf(){return new dt(J.comparator)}function YS(){return new dt(J.comparator)}var oU={asc:"ASCENDING",desc:"DESCENDING"},sU={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},aU={and:"AND",or:"OR"},Mw=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function _w(n,e){return n.useProto3Json||O0(e)?e:{value:e}}function f0(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function dD(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function cU(n,e){return f0(n,e.toTimestamp())}function Gr(n){return Le(!!n,49232),fe.fromTimestamp((function(t){let r=Ti(t);return new wt(r.seconds,r.nanos)})(n))}function FI(n,e){return Cw(n,e).canonicalString()}function Cw(n,e){let t=(function(i){return new Qe(["projects",i.projectId,"databases",i.database])})(n).child("documents");return e===void 0?t:t.child(e)}function hD(n){let e=Qe.fromString(n);return Le(yD(e),10190,{key:e.toString()}),e}function bw(n,e){return FI(n.databaseId,e.path)}function B4(n,e){let t=hD(e);if(t.get(1)!==n.databaseId.projectId)throw new G(P.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new G(P.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new J(fD(t))}function pD(n,e){return FI(n.databaseId,e)}function lU(n){let e=hD(n);return e.length===4?Qe.emptyPath():fD(e)}function Ew(n){return new Qe(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function fD(n){return Le(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function JS(n,e,t){return{name:bw(n,e),fields:t.value.mapValue.fields}}function uU(n,e){let t;if("targetChange"in e){e.targetChange;let r=(function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ie(39313,{state:u})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=(function(u,h){return u.useProto3Json?(Le(h===void 0||typeof h=="string",58123),nn.fromBase64String(h||"")):(Le(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),nn.fromUint8Array(h||new Uint8Array))})(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&(function(u){let h=u.code===void 0?P.UNKNOWN:uD(u.code);return new G(h,u.message||"")})(s);t=new h0(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=B4(n,r.document.name),o=Gr(r.document.updateTime),s=r.document.createTime?Gr(r.document.createTime):fe.min(),a=new Dn({mapValue:{fields:r.document.fields}}),c=dr.newFoundDocument(i,o,s,a),u=r.targetIds||[],h=r.removedTargetIds||[];t=new Oc(u,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=B4(n,r.document),o=r.readTime?Gr(r.readTime):fe.min(),s=dr.newNoDocument(i,o),a=r.removedTargetIds||[];t=new Oc([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=B4(n,r.document),o=r.removedTargetIds||[];t=new Oc([],o,i,null)}else{if(!("filter"in e))return ie(11601,{At:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new kw(i,o),a=r.targetId;t=new d0(a,s)}}return t}function dU(n,e){let t;if(e instanceof Ys)t={update:JS(n,e.key,e.value)};else if(e instanceof Ed)t={delete:bw(n,e.key)};else if(e instanceof Kr)t={update:JS(n,e.key,e.data),updateMask:wU(e.fieldMask)};else{if(!(e instanceof mw))return ie(16599,{Rt:e.type});t={verify:bw(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>(function(o,s){let a=s.transform;if(a instanceof $c)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Qs)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Xs)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Gc)return{fieldPath:s.field.canonicalString(),increment:a.Ee};throw ie(20930,{transform:s.transform})})(0,r))),e.precondition.isNone||(t.currentDocument=(function(i,o){return o.updateTime!==void 0?{updateTime:cU(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ie(27497)})(n,e.precondition)),t}function hU(n,e){return n&&n.length>0?(Le(e!==void 0,14353),n.map(t=>(function(i,o){let s=i.updateTime?Gr(i.updateTime):Gr(o);return s.isEqual(fe.min())&&(s=Gr(o)),new fw(s,i.transformResults||[])})(t,e))):[]}function pU(n,e){return{documents:[pD(n,e.path)]}}function fU(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=pD(n,i);let o=(function(u){if(u.length!==0)return gD(hr.create(u,"and"))})(e.filters);o&&(t.structuredQuery.where=o);let s=(function(u){if(u.length!==0)return u.map(h=>(function(m){return{field:Rc(m.field),direction:yU(m.dir)}})(h))})(e.orderBy);s&&(t.structuredQuery.orderBy=s);let a=_w(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=(function(u){return{before:u.inclusive,values:u.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(u){return{before:!u.inclusive,values:u.position}})(e.endAt)),{Vt:t,parent:i}}function mU(n){let e=lU(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){Le(r===1,65062);let h=t.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];t.where&&(o=(function(f){let m=mD(f);return m instanceof hr&&WT(m)?m.getFilters():[m]})(t.where));let s=[];t.orderBy&&(s=(function(f){return f.map(m=>(function(M){return new zc(Pc(M.field),(function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(M.direction))})(m))})(t.orderBy));let a=null;t.limit&&(a=(function(f){let m;return m=typeof f=="object"?f.value:f,O0(m)?null:m})(t.limit));let c=null;t.startAt&&(c=(function(f){let m=!!f.before,y=f.values||[];return new Hc(y,m)})(t.startAt));let u=null;return t.endAt&&(u=(function(f){let m=!f.before,y=f.values||[];return new Hc(y,m)})(t.endAt)),Hz(e,i,s,o,a,"F",c,u)}function gU(n,e){let t=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ie(28987,{purpose:i})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function mD(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=Pc(t.unaryFilter.field);return vt.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Pc(t.unaryFilter.field);return vt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Pc(t.unaryFilter.field);return vt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=Pc(t.unaryFilter.field);return vt.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ie(61313);default:return ie(60726)}})(n):n.fieldFilter!==void 0?(function(t){return vt.create(Pc(t.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ie(58110);default:return ie(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return hr.create(t.compositeFilter.filters.map(r=>mD(r)),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ie(1026)}})(t.compositeFilter.op))})(n):ie(30097,{filter:n})}function yU(n){return oU[n]}function vU(n){return sU[n]}function kU(n){return aU[n]}function Rc(n){return{fieldPath:n.canonicalString()}}function Pc(n){return xn.fromServerFormat(n.fieldPath)}function gD(n){return n instanceof vt?(function(t){if(t.op==="=="){if(BS(t.value))return{unaryFilter:{field:Rc(t.field),op:"IS_NAN"}};if(jS(t.value))return{unaryFilter:{field:Rc(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(BS(t.value))return{unaryFilter:{field:Rc(t.field),op:"IS_NOT_NAN"}};if(jS(t.value))return{unaryFilter:{field:Rc(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Rc(t.field),op:vU(t.op),value:t.value}}})(n):n instanceof hr?(function(t){let r=t.getFilters().map(i=>gD(i));return r.length===1?r[0]:{compositeFilter:{op:kU(t.op),filters:r}}})(n):ie(54877,{filter:n})}function wU(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function yD(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var Td=class n{constructor(e,t,r,i,o=fe.min(),s=fe.min(),a=nn.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var Sw=class{constructor(e){this.gt=e}};function IU(n){let e=mU({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?pw(e,e.limit,"L"):e}var m0=class{constructor(){}bt(e,t){this.Dt(e,t),t.vt()}Dt(e,t){if("nullValue"in e)this.Ct(t,5);else if("booleanValue"in e)this.Ct(t,10),t.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(t,15),t.Ft(Ze(e.integerValue));else if("doubleValue"in e){let r=Ze(e.doubleValue);isNaN(r)?this.Ct(t,13):(this.Ct(t,15),_d(r)?t.Ft(0):t.Ft(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ct(t,20),typeof r=="string"&&(r=Ti(r)),t.Mt(`${r.seconds||""}`),t.Ft(r.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,t),this.Ot(t);else if("bytesValue"in e)this.Ct(t,30),t.Nt(Di(e.bytesValue)),this.Ot(t);else if("referenceValue"in e)this.Bt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.Ct(t,45),t.Ft(r.latitude||0),t.Ft(r.longitude||0)}else"mapValue"in e?UT(e)?this.Ct(t,Number.MAX_SAFE_INTEGER):zT(e)?this.Lt(e.mapValue,t):(this.kt(e.mapValue,t),this.Ot(t)):"arrayValue"in e?(this.qt(e.arrayValue,t),this.Ot(t)):ie(19022,{Qt:e})}xt(e,t){this.Ct(t,25),this.$t(e,t)}$t(e,t){t.Mt(e)}kt(e,t){let r=e.fields||{};this.Ct(t,55);for(let i of Object.keys(r))this.xt(i,t),this.Dt(r[i],t)}Lt(e,t){var r,i;let o=e.fields||{};this.Ct(t,53);let s=jc,a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Ct(t,15),t.Ft(Ze(a)),this.xt(s,t),this.Dt(o[s],t)}qt(e,t){let r=e.values||[];this.Ct(t,50);for(let i of r)this.Dt(i,t)}Bt(e,t){this.Ct(t,37),J.fromName(e).path.forEach(r=>{this.Ct(t,60),this.$t(r,t)})}Ct(e,t){e.Ft(t)}Ot(e){e.Ft(2)}};m0.Ut=new m0;var Tw=class{constructor(){this.Dn=new Dw}addToCollectionParentIndex(e,t){return this.Dn.add(t),O.resolve()}getCollectionParents(e,t){return O.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return O.resolve()}deleteFieldIndex(e,t){return O.resolve()}deleteAllFieldIndexes(e){return O.resolve()}createTargetIndexes(e,t){return O.resolve()}getDocumentsMatchingTarget(e,t){return O.resolve(null)}getIndexType(e,t){return O.resolve(0)}getFieldIndexes(e,t){return O.resolve([])}getNextCollectionGroupToUpdate(e){return O.resolve(null)}getMinOffset(e,t){return O.resolve(Ks.min())}getMinOffsetFromCollectionGroup(e,t){return O.resolve(Ks.min())}updateCollectionGroup(e,t,r){return O.resolve()}updateIndexEntries(e,t){return O.resolve()}},Dw=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Pt(Qe.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Pt(Qe.comparator)).toArray()}};var kpe=new Uint8Array(0);var eT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},vD=41943040,zn=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}};zn.DEFAULT_COLLECTION_PERCENTILE=10,zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,zn.DEFAULT=new zn(vD,zn.DEFAULT_COLLECTION_PERCENTILE,zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),zn.DISABLED=new zn(-1,0,0);var Dd=class n{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new n(0)}static ur(){return new n(-1)}};var tT="LruGarbageCollector",MU=1048576;function nT([n,e],[t,r]){let i=ke(n,t);return i===0?ke(e,r):i}var xw=class{constructor(e){this.Tr=e,this.buffer=new Pt(nT),this.Ir=0}dr(){return++this.Ir}Er(e){let t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{let r=this.buffer.last();nT(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}},Aw=class{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){W(tT,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>v(this,null,function*(){this.Ar=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(t){Jc(t)?W(tT,"Ignoring IndexedDB error during garbage collection: ",t):yield Yc(t)}yield this.Rr(3e5)}))}},Lw=class{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return O.resolve(TI.ue);let r=new xw(t);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(W("LruGarbageCollector","Garbage collection skipped; disabled"),O.resolve(eT)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(W("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),eT):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let r,i,o,s,a,c,u,h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(W("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,s=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,t))).next(f=>(o=f,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(u=Date.now(),Ac()<=Me.DEBUG&&W("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(c-a)+`ms
	Removed ${f} documents in `+(u-c)+`ms
Total Duration: ${u-h}ms`),O.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:f})))}};function _U(n,e){return new Lw(n,e)}var Rw=class{constructor(){this.changes=new xi(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,dr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?O.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var Pw=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var Nw=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&wd(r.mutation,i,Un.empty(),wt.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,_e()).next(()=>r))}getLocalViewOfDocuments(e,t,r=_e()){let i=Hs();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=gd();return o.forEach((a,c)=>{s=s.insert(a,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=Hs();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,_e()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=Ai(),s=kd(),a=(function(){return kd()})();return t.forEach((c,u)=>{let h=r.get(u.key);i.has(u.key)&&(h===void 0||h.mutation instanceof Kr)?o=o.insert(u.key,u):h!==void 0?(s.set(u.key,h.mutation.getFieldMask()),wd(h.mutation,u,h.mutation.getFieldMask(),wt.now())):s.set(u.key,Un.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((u,h)=>s.set(u,h)),t.forEach((u,h)=>{var f;return a.set(u,new Pw(h,(f=s.get(u))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,t){let r=kd(),i=new dt((s,a)=>s-a),o=_e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let a of s)a.keys().forEach(c=>{let u=t.get(c);if(u===null)return;let h=r.get(c)||Un.empty();h=a.applyToLocalView(u,h),r.set(c,h);let f=(i.get(a.batchId)||_e()).add(c);i=i.insert(a.batchId,f)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),u=c.key,h=c.value,f=nD();h.forEach(m=>{if(!o.has(m)){let y=cD(t.get(m),r.get(m));y!==null&&f.set(m,y),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,f))}return O.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return(function(s){return J.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):XT(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):O.resolve(Hs()),a=Md,c=o;return s.next(u=>O.forEach(u,(h,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),o.get(h)?O.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{c=c.insert(h,m)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,c,u,_e())).next(h=>({batchId:a,changes:tD(h)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new J(t)).next(r=>{let i=gd();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=gd();return this.indexManager.getCollectionParents(e,o).next(a=>O.forEach(a,c=>{let u=(function(f,m){return new Zs(m,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)})(t,c.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(h=>{h.forEach((f,m)=>{s=s.insert(f,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((c,u)=>{let h=u.getKey();s.get(h)===null&&(s=s.insert(h,dr.newInvalidDocument(h)))});let a=gd();return s.forEach((c,u)=>{let h=o.get(c);h!==void 0&&wd(h.mutation,u,Un.empty(),wt.now()),B0(t,u)&&(a=a.insert(c,u))}),a})}};var Ow=class{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return O.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,(function(i){return{id:i.id,version:i.version,createTime:Gr(i.createTime)}})(t)),O.resolve()}getNamedQuery(e,t){return O.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,(function(i){return{name:i.name,query:IU(i.bundledQuery),readTime:Gr(i.readTime)}})(t)),O.resolve()}};var Fw=class{constructor(){this.overlays=new dt(J.comparator),this.kr=new Map}getOverlay(e,t){return O.resolve(this.overlays.get(t))}getOverlays(e,t){let r=Hs();return O.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.wt(e,t,o)}),O.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.kr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.kr.delete(r)),O.resolve()}getOverlaysForCollection(e,t,r){let i=Hs(),o=t.length+1,s=new J(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let c=a.getNext().value,u=c.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===o&&c.largestBatchId>r&&i.set(c.getKey(),c)}return O.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new dt((u,h)=>u-h),s=this.overlays.getIterator();for(;s.hasNext();){let u=s.getNext().value;if(u.getKey().getCollectionGroup()===t&&u.largestBatchId>r){let h=o.get(u.largestBatchId);h===null&&(h=Hs(),o=o.insert(u.largestBatchId,h)),h.set(u.getKey(),u)}}let a=Hs(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,h)=>a.set(u,h)),!(a.size()>=i)););return O.resolve(a)}wt(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new vw(t,r));let o=this.kr.get(t);o===void 0&&(o=_e(),this.kr.set(t,o)),this.kr.set(t,o.add(r.key))}};var Vw=class{constructor(){this.sessionToken=nn.EMPTY_BYTE_STRING}getSessionToken(e){return O.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,O.resolve()}};var xd=class{constructor(){this.qr=new Pt(yt.Qr),this.$r=new Pt(yt.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){let r=new yt(e,t);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Wr(new yt(e,t))}Gr(e,t){e.forEach(r=>this.removeReference(r,t))}zr(e){let t=new J(new Qe([])),r=new yt(t,e),i=new yt(t,e+1),o=[];return this.$r.forEachInRange([r,i],s=>{this.Wr(s),o.push(s.key)}),o}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){let t=new J(new Qe([])),r=new yt(t,e),i=new yt(t,e+1),o=_e();return this.$r.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new yt(e,0),r=this.qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},yt=class{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return J.comparator(e.key,t.key)||ke(e.Hr,t.Hr)}static Ur(e,t){return ke(e.Hr,t.Hr)||J.comparator(e.key,t.key)}};var jw=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new Pt(yt.Qr)}checkEmpty(e){return O.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new gw(o,t,r,i);this.mutationQueue.push(s);for(let a of i)this.Yr=this.Yr.add(new yt(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return O.resolve(s)}lookupMutationBatch(e,t){return O.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.Xr(r),o=i<0?0:i;return O.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return O.resolve(this.mutationQueue.length===0?DI:this.er-1)}getAllMutationBatches(e){return O.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new yt(t,0),i=new yt(t,Number.POSITIVE_INFINITY),o=[];return this.Yr.forEachInRange([r,i],s=>{let a=this.Zr(s.Hr);o.push(a)}),O.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Pt(ke);return t.forEach(i=>{let o=new yt(i,0),s=new yt(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([o,s],a=>{r=r.add(a.Hr)})}),O.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;J.isDocumentKey(o)||(o=o.child(""));let s=new yt(new J(o),0),a=new Pt(ke);return this.Yr.forEachWhile(c=>{let u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(c.Hr)),!0)},s),O.resolve(this.ei(a))}ei(e){let t=[];return e.forEach(r=>{let i=this.Zr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Le(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return O.forEach(t.mutations,i=>{let o=new yt(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,t){let r=new yt(t,0),i=this.Yr.firstAfterOrEqual(r);return O.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,O.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){let t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var Bw=class{constructor(e){this.ni=e,this.docs=(function(){return new dt(J.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.ni(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return O.resolve(r?r.document.mutableCopy():dr.newInvalidDocument(t))}getEntries(e,t){let r=Ai();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():dr.newInvalidDocument(i))}),O.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=Ai(),s=t.path,a=new J(s.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:u,value:{document:h}}=c.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||_z(Mz(h),r)<=0||(i.has(h.key)||B0(t,h))&&(o=o.insert(h.key,h.mutableCopy()))}return O.resolve(o)}getAllFromCollectionGroup(e,t,r,i){ie(9500)}ri(e,t){return O.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new qw(this)}getSize(e){return O.resolve(this.size)}},qw=class extends Rw{constructor(e){super(),this.Or=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),O.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}};var Hw=class{constructor(e){this.persistence=e,this.ii=new xi(t=>PI(t),NI),this.lastRemoteSnapshotVersion=fe.min(),this.highestTargetId=0,this.si=0,this.oi=new xd,this.targetCount=0,this._i=Dd.ar()}forEachTarget(e,t){return this.ii.forEach((r,i)=>t(i)),O.resolve()}getLastRemoteSnapshotVersion(e){return O.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return O.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),O.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.si&&(this.si=t),O.resolve()}hr(e){this.ii.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this._i=new Dd(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,O.resolve()}updateTargetData(e,t){return this.hr(t),O.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,O.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.ii.forEach((s,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.ii.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),O.waitFor(o).next(()=>i)}getTargetCount(e){return O.resolve(this.targetCount)}getTargetData(e,t){let r=this.ii.get(t)||null;return O.resolve(r)}addMatchingKeys(e,t,r){return this.oi.Kr(t,r),O.resolve()}removeMatchingKeys(e,t,r){this.oi.Gr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),O.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),O.resolve()}getMatchingKeysForTargetId(e,t){let r=this.oi.Jr(t);return O.resolve(r)}containsKey(e,t){return O.resolve(this.oi.containsKey(t))}};var g0=class{constructor(e,t){this.ai={},this.overlays={},this.ui=new TI(0),this.ci=!1,this.ci=!0,this.li=new Vw,this.referenceDelegate=e(this),this.hi=new Hw(this),this.indexManager=new Tw,this.remoteDocumentCache=(function(i){return new Bw(i)})(r=>this.referenceDelegate.Pi(r)),this.serializer=new Sw(t),this.Ti=new Ow(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Fw,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ai[e.toKey()];return r||(r=new jw(t,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,r){W("MemoryPersistence","Starting transaction:",e);let i=new zw(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ei(e,t){return O.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,t)))}},zw=class extends Y4{constructor(e){super(),this.currentSequenceNumber=e}},Uw=class n{constructor(e){this.persistence=e,this.Ai=new xd,this.Ri=null}static Vi(e){return new n(e)}get mi(){if(this.Ri)return this.Ri;throw ie(60996)}addReference(e,t,r){return this.Ai.addReference(r,t),this.mi.delete(r.toString()),O.resolve()}removeReference(e,t,r){return this.Ai.removeReference(r,t),this.mi.add(r.toString()),O.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),O.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(i=>this.mi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.mi.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return O.forEach(this.mi,r=>{let i=J.fromPath(r);return this.fi(e,i).next(o=>{o||t.removeEntry(i,fe.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(r=>{r?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return O.or([()=>O.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}},y0=class n{constructor(e,t){this.persistence=e,this.gi=new xi(r=>Sz(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=_U(this,t)}static Vi(e,t){return new n(e,t)}Ii(){}di(e){return O.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){let t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}yr(e){let t=0;return this.gr(e,r=>{t++}).next(()=>t)}gr(e,t){return O.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(o=>o?O.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ri(e,s=>this.Sr(e,s,t).next(a=>{a||(r++,o.removeEntry(s,fe.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),O.resolve()}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),O.resolve()}removeReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),O.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),O.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Jf(e.data.value)),t}Sr(e,t,r){return O.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let i=this.gi.get(t);return O.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var $w=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Is=r,this.ds=i}static Es(e,t){let r=_e(),i=_e();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var Gw=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Ww=class{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return W6()?8:bz(Lt())>0?6:4})()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.ps(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ys(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new Gw;return this.ws(e,t,s).next(a=>{if(o.result=a,this.Rs)return this.Ss(e,t,s,a.size)})}).next(()=>o.result)}Ss(e,t,r,i){return r.documentReadCount<this.Vs?(Ac()<=Me.DEBUG&&W("QueryEngine","SDK will not create cache indexes for query:",Lc(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),O.resolve()):(Ac()<=Me.DEBUG&&W("QueryEngine","Query:",Lc(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(Ac()<=Me.DEBUG&&W("QueryEngine","The SDK decides to create cache indexes for query:",Lc(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ur(t))):O.resolve())}ps(e,t){if(US(t))return O.resolve(null);let r=Ur(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=pw(t,null,"F"),r=Ur(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=_e(...o);return this.gs.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{let u=this.bs(t,a);return this.Ds(t,u,s,c.readTime)?this.ps(e,pw(t,null,"F")):this.vs(e,u,t,c)}))})))}ys(e,t,r,i){return US(t)||i.isEqual(fe.min())?O.resolve(null):this.gs.getDocuments(e,r).next(o=>{let s=this.bs(t,o);return this.Ds(t,s,r,i)?O.resolve(null):(Ac()<=Me.DEBUG&&W("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Lc(t)),this.vs(e,s,t,Iz(i,Md)).next(a=>a))})}bs(e,t){let r=new Pt(JT(e));return t.forEach((i,o)=>{B0(e,o)&&(r=r.add(o))}),r}Ds(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ws(e,t,r){return Ac()<=Me.DEBUG&&W("QueryEngine","Using full collection scan to execute query:",Lc(t)),this.gs.getDocumentsMatchingQuery(e,t,Ks.min(),r)}vs(e,t,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var VI="LocalStore",CU=3e8,Kw=class{constructor(e,t,r,i){this.persistence=e,this.Cs=t,this.serializer=i,this.Fs=new dt(ke),this.Ms=new xi(o=>PI(o),NI),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Nw(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}};function bU(n,e,t,r){return new Kw(n,e,t,r)}function kD(n,e){return v(this,null,function*(){let t=pe(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.Ns(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],c=_e();for(let u of i){s.push(u.batchId);for(let h of u.mutations)c=c.add(h.key)}for(let u of o){a.push(u.batchId);for(let h of u.mutations)c=c.add(h.key)}return t.localDocuments.getDocuments(r,c).next(u=>({Bs:u,removedBatchIds:s,addedBatchIds:a}))})})})}function EU(n,e){let t=pe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=t.Os.newChangeBuffer({trackRemovals:!0});return(function(a,c,u,h){let f=u.batch,m=f.keys(),y=O.resolve();return m.forEach(M=>{y=y.next(()=>h.getEntry(c,M)).next(L=>{let D=u.docVersions.get(M);Le(D!==null,48541),L.version.compareTo(D)<0&&(f.applyToRemoteDocument(L,u),L.isValidDocument()&&(L.setReadTime(u.commitVersion),h.addEntry(L)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(c,f))})(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(a){let c=_e();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(c=c.add(a.batch.mutations[u].key));return c})(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function wD(n){let e=pe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.hi.getLastRemoteSnapshotVersion(t))}function SU(n,e){let t=pe(n),r=e.snapshotVersion,i=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.Os.newChangeBuffer({trackRemovals:!0});i=t.Fs;let a=[];e.targetChanges.forEach((h,f)=>{let m=i.get(f);if(!m)return;a.push(t.hi.removeMatchingKeys(o,h.removedDocuments,f).next(()=>t.hi.addMatchingKeys(o,h.addedDocuments,f)));let y=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(f)!==null?y=y.withResumeToken(nn.EMPTY_BYTE_STRING,fe.min()).withLastLimboFreeSnapshotVersion(fe.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(f,y),(function(L,D,x){return L.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-L.snapshotVersion.toMicroseconds()>=CU?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0})(m,y,h)&&a.push(t.hi.updateTargetData(o,y))});let c=Ai(),u=_e();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(TU(o,s,e.documentUpdates).next(h=>{c=h.Ls,u=h.ks})),!r.isEqual(fe.min())){let h=t.hi.getLastRemoteSnapshotVersion(o).next(f=>t.hi.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return O.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,c,u)).next(()=>c)}).then(o=>(t.Fs=i,o))}function TU(n,e,t){let r=_e(),i=_e();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=Ai();return t.forEach((a,c)=>{let u=o.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(fe.min())?(e.removeEntry(a,c.readTime),s=s.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),s=s.insert(a,c)):W(VI,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{Ls:s,ks:i}})}function DU(n,e){let t=pe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=DI),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function xU(n,e){let t=pe(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.hi.getTargetData(r,e).next(o=>o?(i=o,O.resolve(i)):t.hi.allocateTargetId(r).next(s=>(i=new Td(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.hi.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(r.targetId,r),t.Ms.set(e,r.targetId)),r})}function Zw(n,e,t){return v(this,null,function*(){let r=pe(n),i=r.Fs.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Jc(s))throw s;W(VI,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)})}function rT(n,e,t){let r=pe(n),i=fe.min(),o=_e();return r.persistence.runTransaction("Execute query","readwrite",s=>(function(c,u,h){let f=pe(c),m=f.Ms.get(h);return m!==void 0?O.resolve(f.Fs.get(m)):f.hi.getTargetData(u,h)})(r,s,Ur(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(s,a.targetId).next(c=>{o=c})}).next(()=>r.Cs.getDocumentsMatchingQuery(s,e,t?i:fe.min(),t?o:_e())).next(a=>(AU(r,Uz(e),a),{documents:a,qs:o})))}function AU(n,e,t){let r=n.xs.get(e)||fe.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.xs.set(e,r)}var v0=class{constructor(){this.activeTargetIds=Qz()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var Qw=class{constructor(){this.Fo=new v0,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,r){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new v0,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var Xw=class{xo(e){}shutdown(){}};var iT="ConnectivityMonitor",k0=class{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){W(iT,"Network connectivity changed: AVAILABLE");for(let e of this.ko)e(0)}Lo(){W(iT,"Network connectivity changed: UNAVAILABLE");for(let e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Yf=null;function Yw(){return Yf===null?Yf=(function(){return 268435456+Math.round(2147483648*Math.random())})():Yf++,"0x"+Yf.toString(16)}var q4="RestConnection",LU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},Jw=class{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===a0?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,t,r,i,o){let s=Yw(),a=this.Go(e,t.toUriEncodedString());W(q4,`Sending RPC '${e}' ${s}:`,a,r);let c={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(c,i,o);let{host:u}=new URL(a),h=mo(u);return this.jo(e,a,c,r,h).then(f=>(W(q4,`Received RPC '${e}' ${s}: `,f),f),f=>{throw xo(q4,`RPC '${e}' ${s} failed with error: `,f,"url: ",a,"request:",r),f})}Jo(e,t,r,i,o,s){return this.Wo(e,t,r,i,o)}zo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Xc})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}Go(e,t){let r=LU[e];return`${this.$o}/v1/${t}:${r}`}terminate(){}};var eI=class{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}};var tn="WebChannelConnection",tI=class extends Jw{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,r,i,o){let s=Yw();return new Promise((a,c)=>{let u=new N4;u.setWithCredentials(!0),u.listenOnce(O4.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case md.NO_ERROR:let f=u.getResponseJson();W(tn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),a(f);break;case md.TIMEOUT:W(tn,`RPC '${e}' ${s} timed out`),c(new G(P.DEADLINE_EXCEEDED,"Request time out"));break;case md.HTTP_ERROR:let m=u.getStatus();if(W(tn,`RPC '${e}' ${s} failed with status:`,m,"response text:",u.getResponseText()),m>0){let y=u.getResponseJson();Array.isArray(y)&&(y=y[0]);let M=y?.error;if(M&&M.status&&M.message){let L=(function(x){let N=x.toLowerCase().replace(/_/g,"-");return Object.values(P).indexOf(N)>=0?N:P.UNKNOWN})(M.status);c(new G(L,M.message))}else c(new G(P.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new G(P.UNAVAILABLE,"Connection failed."));break;default:ie(9055,{c_:e,streamId:s,l_:u.getLastErrorCode(),h_:u.getLastError()})}}finally{W(tn,`RPC '${e}' ${s} completed.`)}});let h=JSON.stringify(i);W(tn,`RPC '${e}' ${s} sending request:`,i),u.send(t,"POST",h,r,15)})}P_(e,t,r){let i=Yw(),o=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=j4(),a=V4(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.zo(c.initMessageHeaders,t,r),c.encodeInitMessageHeaders=!0;let h=o.join("");W(tn,`Creating RPC '${e}' stream ${i}: ${h}`,c);let f=s.createWebChannel(h,c);this.T_(f);let m=!1,y=!1,M=new eI({Ho:D=>{y?W(tn,`Not sending because RPC '${e}' stream ${i} is closed:`,D):(m||(W(tn,`Opening RPC '${e}' stream ${i} transport.`),f.open(),m=!0),W(tn,`RPC '${e}' stream ${i} sending:`,D),f.send(D))},Yo:()=>f.close()}),L=(D,x,N)=>{D.listen(x,$=>{try{N($)}catch(ee){setTimeout(()=>{throw ee},0)}})};return L(f,xc.EventType.OPEN,()=>{y||(W(tn,`RPC '${e}' stream ${i} transport opened.`),M.s_())}),L(f,xc.EventType.CLOSE,()=>{y||(y=!0,W(tn,`RPC '${e}' stream ${i} transport closed`),M.__(),this.I_(f))}),L(f,xc.EventType.ERROR,D=>{y||(y=!0,xo(tn,`RPC '${e}' stream ${i} transport errored. Name:`,D.name,"Message:",D.message),M.__(new G(P.UNAVAILABLE,"The operation could not be completed")))}),L(f,xc.EventType.MESSAGE,D=>{var x;if(!y){let N=D.data[0];Le(!!N,16349);let $=N,ee=$?.error||((x=$[0])===null||x===void 0?void 0:x.error);if(ee){W(tn,`RPC '${e}' stream ${i} received error:`,ee);let Te=ee.status,se=(function(w){let _=gt[w];if(_!==void 0)return uD(_)})(Te),C=ee.message;se===void 0&&(se=P.INTERNAL,C="Unknown error status: "+Te+" with message "+ee.message),y=!0,M.__(new G(se,C)),f.close()}else W(tn,`RPC '${e}' stream ${i} received:`,N),M.a_(N)}}),L(a,F4.STAT_EVENT,D=>{D.stat===Zf.PROXY?W(tn,`RPC '${e}' stream ${i} detected buffering proxy`):D.stat===Zf.NOPROXY&&W(tn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{M.o_()},0),M}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}};function H4(){return typeof document<"u"?document:null}function q0(n){return new Mw(n,!0)}var w0=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.Fi=e,this.timerId=t,this.d_=r,this.E_=i,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();let t=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,t-r);i>0&&W("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}};var oT="PersistentStream",I0=class{constructor(e,t,r,i,o,s,a,c){this.Fi=e,this.w_=r,this.S_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new w0(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}stop(){return v(this,null,function*(){this.M_()&&(yield this.close(0))})}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}L_(){return v(this,null,function*(){if(this.x_())return this.close(0)})}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}close(e,t){return v(this,null,function*(){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===P.RESOURCE_EXHAUSTED?(Si(t.toString()),Si("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===P.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.n_(t)})}U_(){}auth(){this.state=1;let e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===t&&this.W_(r,i)},r=>{e(()=>{let i=new G(P.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,t){let r=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(()=>v(this,null,function*(){this.state=0,this.start()}))}G_(e){return W(oT,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(W(oT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},nI=class extends I0{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();let t=uU(this.serializer,e),r=(function(o){if(!("targetChange"in o))return fe.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?fe.min():s.readTime?Gr(s.readTime):fe.min()})(e);return this.listener.J_(t,r)}H_(e){let t={};t.database=Ew(this.serializer),t.addTarget=(function(o,s){let a,c=s.target;if(a=dw(c)?{documents:pU(o,c)}:{query:fU(o,c).Vt},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=dD(o,s.resumeToken);let u=_w(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(fe.min())>0){a.readTime=f0(o,s.snapshotVersion.toTimestamp());let u=_w(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a})(this.serializer,e);let r=gU(this.serializer,e);r&&(t.labels=r),this.k_(t)}Y_(e){let t={};t.database=Ew(this.serializer),t.removeTarget=e,this.k_(t)}},rI=class extends I0{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return Le(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Le(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){Le(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();let t=hU(e.writeResults,e.commitTime),r=Gr(e.commitTime);return this.listener.ta(r,t)}na(){let e={};e.database=Ew(this.serializer),this.k_(e)}X_(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>dU(this.serializer,r))};this.k_(t)}};var iI=class{},oI=class extends iI{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new G(P.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Wo(e,Cw(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new G(P.UNKNOWN,o.toString())})}Jo(e,t,r,i,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Jo(e,Cw(t,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new G(P.UNKNOWN,s.toString())})}terminate(){this.ra=!0,this.connection.terminate()}},sI=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Si(t),this._a=!1):W("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}};var Js="RemoteStore",aI=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=o,this.Ea.xo(s=>{r.enqueueAndForget(()=>v(this,null,function*(){ta(this)&&(W(Js,"Restarting streams for network reachability change."),yield(function(c){return v(this,null,function*(){let u=pe(c);u.Ia.add(4),yield Fd(u),u.Aa.set("Unknown"),u.Ia.delete(4),yield H0(u)})})(this))}))}),this.Aa=new sI(r,i)}};function H0(n){return v(this,null,function*(){if(ta(n))for(let e of n.da)yield e(!0)})}function Fd(n){return v(this,null,function*(){for(let e of n.da)yield e(!1)})}function ID(n,e){let t=pe(n);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),HI(t)?qI(t):el(t).x_()&&BI(t,e))}function jI(n,e){let t=pe(n),r=el(t);t.Ta.delete(e),r.x_()&&MD(t,e),t.Ta.size===0&&(r.x_()?r.B_():ta(t)&&t.Aa.set("Unknown"))}function BI(n,e){if(n.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(fe.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}el(n).H_(e)}function MD(n,e){n.Ra.$e(e),el(n).Y_(e)}function qI(n){n.Ra=new Iw({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Ta.get(e)||null,lt:()=>n.datastore.serializer.databaseId}),el(n).start(),n.Aa.aa()}function HI(n){return ta(n)&&!el(n).M_()&&n.Ta.size>0}function ta(n){return pe(n).Ia.size===0}function _D(n){n.Ra=void 0}function RU(n){return v(this,null,function*(){n.Aa.set("Online")})}function PU(n){return v(this,null,function*(){n.Ta.forEach((e,t)=>{BI(n,e)})})}function NU(n,e){return v(this,null,function*(){_D(n),HI(n)?(n.Aa.la(e),qI(n)):n.Aa.set("Unknown")})}function OU(n,e,t){return v(this,null,function*(){if(n.Aa.set("Online"),e instanceof h0&&e.state===2&&e.cause)try{yield(function(i,o){return v(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.Ta.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.Ta.delete(a),i.Ra.removeTarget(a))})})(n,e)}catch(r){W(Js,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield M0(n,r)}else if(e instanceof Oc?n.Ra.Ye(e):e instanceof d0?n.Ra.it(e):n.Ra.et(e),!t.isEqual(fe.min()))try{let r=yield wD(n.localStore);t.compareTo(r)>=0&&(yield(function(o,s){let a=o.Ra.Pt(s);return a.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){let h=o.Ta.get(u);h&&o.Ta.set(u,h.withResumeToken(c.resumeToken,s))}}),a.targetMismatches.forEach((c,u)=>{let h=o.Ta.get(c);if(!h)return;o.Ta.set(c,h.withResumeToken(nn.EMPTY_BYTE_STRING,h.snapshotVersion)),MD(o,c);let f=new Td(h.target,c,u,h.sequenceNumber);BI(o,f)}),o.remoteSyncer.applyRemoteEvent(a)})(n,t))}catch(r){W(Js,"Failed to raise snapshot:",r),yield M0(n,r)}})}function M0(n,e,t){return v(this,null,function*(){if(!Jc(e))throw e;n.Ia.add(1),yield Fd(n),n.Aa.set("Offline"),t||(t=()=>wD(n.localStore)),n.asyncQueue.enqueueRetryable(()=>v(null,null,function*(){W(Js,"Retrying IndexedDB access"),yield t(),n.Ia.delete(1),yield H0(n)}))})}function CD(n,e){return e().catch(t=>M0(n,t,e))}function z0(n){return v(this,null,function*(){let e=pe(n),t=Lo(e),r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:DI;for(;FU(e);)try{let i=yield DU(e.localStore,r);if(i===null){e.Pa.length===0&&t.B_();break}r=i.batchId,VU(e,i)}catch(i){yield M0(e,i)}bD(e)&&ED(e)})}function FU(n){return ta(n)&&n.Pa.length<10}function VU(n,e){n.Pa.push(e);let t=Lo(n);t.x_()&&t.Z_&&t.X_(e.mutations)}function bD(n){return ta(n)&&!Lo(n).M_()&&n.Pa.length>0}function ED(n){Lo(n).start()}function jU(n){return v(this,null,function*(){Lo(n).na()})}function BU(n){return v(this,null,function*(){let e=Lo(n);for(let t of n.Pa)e.X_(t.mutations)})}function qU(n,e,t){return v(this,null,function*(){let r=n.Pa.shift(),i=yw.from(r,e,t);yield CD(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield z0(n)})}function HU(n,e){return v(this,null,function*(){e&&Lo(n).Z_&&(yield(function(r,i){return v(this,null,function*(){if((function(s){return rU(s)&&s!==P.ABORTED})(i.code)){let o=r.Pa.shift();Lo(r).N_(),yield CD(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield z0(r)}})})(n,e)),bD(n)&&ED(n)})}function sT(n,e){return v(this,null,function*(){let t=pe(n);t.asyncQueue.verifyOperationInProgress(),W(Js,"RemoteStore received new credentials");let r=ta(t);t.Ia.add(3),yield Fd(t),r&&t.Aa.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),yield H0(t)})}function zU(n,e){return v(this,null,function*(){let t=pe(n);e?(t.Ia.delete(2),yield H0(t)):e||(t.Ia.add(2),yield Fd(t),t.Aa.set("Unknown"))})}function el(n){return n.Va||(n.Va=(function(t,r,i){let o=pe(t);return o.ia(),new nI(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(n.datastore,n.asyncQueue,{Zo:RU.bind(null,n),e_:PU.bind(null,n),n_:NU.bind(null,n),J_:OU.bind(null,n)}),n.da.push(e=>v(null,null,function*(){e?(n.Va.N_(),HI(n)?qI(n):n.Aa.set("Unknown")):(yield n.Va.stop(),_D(n))}))),n.Va}function Lo(n){return n.ma||(n.ma=(function(t,r,i){let o=pe(t);return o.ia(),new rI(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),e_:jU.bind(null,n),n_:HU.bind(null,n),ea:BU.bind(null,n),ta:qU.bind(null,n)}),n.da.push(e=>v(null,null,function*(){e?(n.ma.N_(),yield z0(n)):(yield n.ma.stop(),n.Pa.length>0&&(W(Js,`Stopping write stream with ${n.Pa.length} pending writes`),n.Pa=[]))}))),n.ma}var cI=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new ur,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,a=new n(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new G(P.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function zI(n,e){if(Si("AsyncQueue",`${e}: ${n}`),Jc(n))return new G(P.UNAVAILABLE,`${e}: ${n}`);throw n}var _0=class n{static emptySet(e){return new n(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||J.comparator(t.key,r.key):(t,r)=>J.comparator(t.key,r.key),this.keyedMap=gd(),this.sortedSet=new dt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var C0=class{constructor(){this.fa=new dt(J.comparator)}track(e){let t=e.doc.key,r=this.fa.get(t);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(t,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(t):e.type===1&&r.type===2?this.fa=this.fa.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):ie(63341,{At:e,ga:r}):this.fa=this.fa.insert(t,e)}pa(){let e=[];return this.fa.inorderTraversal((t,r)=>{e.push(r)}),e}},Kc=class n{constructor(e,t,r,i,o,s,a,c,u){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new n(e,t,_0.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&j0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var lI=class{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}},uI=class{constructor(){this.queries=aT(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,r){let i=pe(t),o=i.queries;i.queries=aT(),o.forEach((s,a)=>{for(let c of a.wa)c.onError(r)})})(this,new G(P.ABORTED,"Firestore shutting down"))}};function aT(){return new xi(n=>YT(n),j0)}function UI(n,e){return v(this,null,function*(){let t=pe(n),r=3,i=e.query,o=t.queries.get(i);o?!o.Sa()&&e.ba()&&(r=2):(o=new lI,r=e.ba()?0:1);try{switch(r){case 0:o.ya=yield t.onListen(i,!0);break;case 1:o.ya=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(s){let a=zI(s,`Initialization of query '${Lc(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.wa.push(e),e.va(t.onlineState),o.ya&&e.Ca(o.ya)&&GI(t)})}function $I(n,e){return v(this,null,function*(){let t=pe(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.wa.indexOf(e);s>=0&&(o.wa.splice(s,1),o.wa.length===0?i=e.ba()?0:1:!o.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function UU(n,e){let t=pe(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let a of s.wa)a.Ca(i)&&(r=!0);s.ya=i}}r&&GI(t)}function $U(n,e,t){let r=pe(n),i=r.queries.get(e);if(i)for(let o of i.wa)o.onError(t);r.queries.delete(e)}function GI(n){n.Da.forEach(e=>{e.next()})}var dI,cT;(cT=dI||(dI={})).Fa="default",cT.Cache="cache";var Ad=class{constructor(e,t,r){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Kc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;let r=t!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;let t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=Kc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==dI.Cache}};var b0=class{constructor(e){this.key=e}},E0=class{constructor(e){this.key=e}},hI=class{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=_e(),this.mutatedKeys=_e(),this.Xa=JT(e),this.eu=new _0(this.Xa)}get tu(){return this.Ha}nu(e,t){let r=t?t.ru:new C0,i=t?t.eu:this.eu,o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1,c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,f)=>{let m=i.get(h),y=B0(this.query,f)?f:null,M=!!m&&this.mutatedKeys.has(m.key),L=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),D=!1;m&&y?m.data.isEqual(y.data)?M!==L&&(r.track({type:3,doc:y}),D=!0):this.iu(m,y)||(r.track({type:2,doc:y}),D=!0,(c&&this.Xa(y,c)>0||u&&this.Xa(y,u)<0)&&(a=!0)):!m&&y?(r.track({type:0,doc:y}),D=!0):m&&!y&&(r.track({type:1,doc:m}),D=!0,(c||u)&&(a=!0)),D&&(y?(s=s.add(y),o=L?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{eu:s,ru:r,Ds:a,mutatedKeys:o}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;let s=e.ru.pa();s.sort((h,f)=>(function(y,M){let L=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ie(20277,{At:D})}};return L(y)-L(M)})(h.type,f.type)||this.Xa(h.doc,f.doc)),this.su(r),i=i!=null&&i;let a=t&&!i?this.ou():[],c=this.Za.size===0&&this.current&&!i?1:0,u=c!==this.Ya;return this.Ya=c,s.length!==0||u?{snapshot:new Kc(this.query,e.eu,o,s,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:a}:{_u:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new C0,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}ou(){if(!this.current)return[];let e=this.Za;this.Za=_e(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});let t=[];return e.forEach(r=>{this.Za.has(r)||t.push(new E0(r))}),this.Za.forEach(r=>{e.has(r)||t.push(new b0(r))}),t}uu(e){this.Ha=e.qs,this.Za=_e();let t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return Kc.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}},WI="SyncEngine",pI=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},fI=class{constructor(e){this.key=e,this.lu=!1}},mI=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.hu={},this.Pu=new xi(a=>YT(a),j0),this.Tu=new Map,this.Iu=new Set,this.du=new dt(J.comparator),this.Eu=new Map,this.Au=new xd,this.Ru={},this.Vu=new Map,this.mu=Dd.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}};function GU(n,e,t=!0){return v(this,null,function*(){let r=LD(n),i,o=r.Pu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.cu()):i=yield SD(r,e,t,!0),i})}function WU(n,e){return v(this,null,function*(){let t=LD(n);yield SD(t,e,!0,!1)})}function SD(n,e,t,r){return v(this,null,function*(){let i=yield xU(n.localStore,Ur(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),a;return r&&(a=yield KU(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&ID(n.remoteStore,i),a})}function KU(n,e,t,r,i){return v(this,null,function*(){n.gu=(f,m,y)=>(function(L,D,x,N){return v(this,null,function*(){let $=D.view.nu(x);$.Ds&&($=yield rT(L.localStore,D.query,!1).then(({documents:C})=>D.view.nu(C,$)));let ee=N&&N.targetChanges.get(D.targetId),Te=N&&N.targetMismatches.get(D.targetId)!=null,se=D.view.applyChanges($,L.isPrimaryClient,ee,Te);return uT(L,D.targetId,se._u),se.snapshot})})(n,f,m,y);let o=yield rT(n.localStore,e,!0),s=new hI(e,o.qs),a=s.nu(o.documents),c=Sd.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),u=s.applyChanges(a,n.isPrimaryClient,c);uT(n,t,u._u);let h=new pI(e,t,s);return n.Pu.set(e,h),n.Tu.has(t)?n.Tu.get(t).push(e):n.Tu.set(t,[e]),u.snapshot})}function ZU(n,e,t){return v(this,null,function*(){let r=pe(n),i=r.Pu.get(e),o=r.Tu.get(i.targetId);if(o.length>1)return r.Tu.set(i.targetId,o.filter(s=>!j0(s,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Zw(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&jI(r.remoteStore,i.targetId),gI(r,i.targetId)}).catch(Yc))):(gI(r,i.targetId),yield Zw(r.localStore,i.targetId,!0))})}function QU(n,e){return v(this,null,function*(){let t=pe(n),r=t.Pu.get(e),i=t.Tu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),jI(t.remoteStore,r.targetId))})}function XU(n,e,t){return v(this,null,function*(){let r=i$(n);try{let i=yield(function(s,a){let c=pe(s),u=wt.now(),h=a.reduce((y,M)=>y.add(M.key),_e()),f,m;return c.persistence.runTransaction("Locally write mutations","readwrite",y=>{let M=Ai(),L=_e();return c.Os.getEntries(y,h).next(D=>{M=D,M.forEach((x,N)=>{N.isValidDocument()||(L=L.add(x))})}).next(()=>c.localDocuments.getOverlayedDocuments(y,M)).next(D=>{f=D;let x=[];for(let N of a){let $=nU(N,f.get(N.key).overlayedDocument);$!=null&&x.push(new Kr(N.key,$,$T($.value.mapValue),$r.exists(!0)))}return c.mutationQueue.addMutationBatch(y,u,x,a)}).next(D=>{m=D;let x=D.applyToLocalDocumentSet(f,L);return c.documentOverlayCache.saveOverlays(y,D.batchId,x)})}).then(()=>({batchId:m.batchId,changes:tD(f)}))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(s,a,c){let u=s.Ru[s.currentUser.toKey()];u||(u=new dt(ke)),u=u.insert(a,c),s.Ru[s.currentUser.toKey()]=u})(r,i.batchId,t),yield Vd(r,i.changes),yield z0(r.remoteStore)}catch(i){let o=zI(i,"Failed to persist write");t.reject(o)}})}function TD(n,e){return v(this,null,function*(){let t=pe(n);try{let r=yield SU(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t.Eu.get(o);s&&(Le(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.lu=!0:i.modifiedDocuments.size>0?Le(s.lu,14607):i.removedDocuments.size>0&&(Le(s.lu,42227),s.lu=!1))}),yield Vd(t,r,e)}catch(r){yield Yc(r)}})}function lT(n,e,t){let r=pe(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.Pu.forEach((o,s)=>{let a=s.view.va(e);a.snapshot&&i.push(a.snapshot)}),(function(s,a){let c=pe(s);c.onlineState=a;let u=!1;c.queries.forEach((h,f)=>{for(let m of f.wa)m.va(a)&&(u=!0)}),u&&GI(c)})(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function YU(n,e,t){return v(this,null,function*(){let r=pe(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Eu.get(e),o=i&&i.key;if(o){let s=new dt(J.comparator);s=s.insert(o,dr.newNoDocument(o,fe.min()));let a=_e().add(o),c=new u0(fe.min(),new Map,new dt(ke),s,a);yield TD(r,c),r.du=r.du.remove(o),r.Eu.delete(e),KI(r)}else yield Zw(r.localStore,e,!1).then(()=>gI(r,e,t)).catch(Yc)})}function JU(n,e){return v(this,null,function*(){let t=pe(n),r=e.batch.batchId;try{let i=yield EU(t.localStore,e);xD(t,r,null),DD(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Vd(t,i)}catch(i){yield Yc(i)}})}function e$(n,e,t){return v(this,null,function*(){let r=pe(n);try{let i=yield(function(s,a){let c=pe(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let h;return c.mutationQueue.lookupMutationBatch(u,a).next(f=>(Le(f!==null,37113),h=f.keys(),c.mutationQueue.removeMutationBatch(u,f))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,h,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,h)).next(()=>c.localDocuments.getDocuments(u,h))})})(r.localStore,e);xD(r,e,t),DD(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Vd(r,i)}catch(i){yield Yc(i)}})}function DD(n,e){(n.Vu.get(e)||[]).forEach(t=>{t.resolve()}),n.Vu.delete(e)}function xD(n,e,t){let r=pe(n),i=r.Ru[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Ru[r.currentUser.toKey()]=i}}function gI(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Tu.get(e))n.Pu.delete(r),t&&n.hu.pu(r,t);n.Tu.delete(e),n.isPrimaryClient&&n.Au.zr(e).forEach(r=>{n.Au.containsKey(r)||AD(n,r)})}function AD(n,e){n.Iu.delete(e.path.canonicalString());let t=n.du.get(e);t!==null&&(jI(n.remoteStore,t),n.du=n.du.remove(e),n.Eu.delete(t),KI(n))}function uT(n,e,t){for(let r of t)r instanceof b0?(n.Au.addReference(r.key,e),t$(n,r)):r instanceof E0?(W(WI,"Document no longer in limbo: "+r.key),n.Au.removeReference(r.key,e),n.Au.containsKey(r.key)||AD(n,r.key)):ie(19791,{yu:r})}function t$(n,e){let t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Iu.has(r)||(W(WI,"New document in limbo: "+t),n.Iu.add(r),KI(n))}function KI(n){for(;n.Iu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){let e=n.Iu.values().next().value;n.Iu.delete(e);let t=new J(Qe.fromString(e)),r=n.mu.next();n.Eu.set(r,new fI(t)),n.du=n.du.insert(t,r),ID(n.remoteStore,new Td(Ur(V0(t.path)),r,"TargetPurposeLimboResolution",TI.ue))}}function Vd(n,e,t){return v(this,null,function*(){let r=pe(n),i=[],o=[],s=[];r.Pu.isEmpty()||(r.Pu.forEach((a,c)=>{s.push(r.gu(c,e,t).then(u=>{var h;if((u||t)&&r.isPrimaryClient){let f=u?!u.fromCache:(h=t?.targetChanges.get(c.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(u){i.push(u);let f=$w.Es(c.targetId,u);o.push(f)}}))}),yield Promise.all(s),r.hu.J_(i),yield(function(c,u){return v(this,null,function*(){let h=pe(c);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>O.forEach(u,m=>O.forEach(m.Is,y=>h.persistence.referenceDelegate.addReference(f,m.targetId,y)).next(()=>O.forEach(m.ds,y=>h.persistence.referenceDelegate.removeReference(f,m.targetId,y)))))}catch(f){if(!Jc(f))throw f;W(VI,"Failed to update sequence numbers: "+f)}for(let f of u){let m=f.targetId;if(!f.fromCache){let y=h.Fs.get(m),M=y.snapshotVersion,L=y.withLastLimboFreeSnapshotVersion(M);h.Fs=h.Fs.insert(m,L)}}})})(r.localStore,o))})}function n$(n,e){return v(this,null,function*(){let t=pe(n);if(!t.currentUser.isEqual(e)){W(WI,"User change. New user:",e.toKey());let r=yield kD(t.localStore,e);t.currentUser=e,(function(o,s){o.Vu.forEach(a=>{a.forEach(c=>{c.reject(new G(P.CANCELLED,s))})}),o.Vu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Vd(t,r.Bs)}})}function r$(n,e){let t=pe(n),r=t.Eu.get(e);if(r&&r.lu)return _e().add(r.key);{let i=_e(),o=t.Tu.get(e);if(!o)return i;for(let s of o){let a=t.Pu.get(s);i=i.unionWith(a.view.tu)}return i}}function LD(n){let e=pe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=TD.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=r$.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=YU.bind(null,e),e.hu.J_=UU.bind(null,e.eventManager),e.hu.pu=$U.bind(null,e.eventManager),e}function i$(n){let e=pe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=JU.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=e$.bind(null,e),e}var RD=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return v(this,null,function*(){this.serializer=q0(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Du(t),yield this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Cu(t,this.localStore),this.indexBackfillerScheduler=this.Fu(t,this.localStore)})}Cu(t,r){return null}Fu(t,r){return null}vu(t){return bU(this.persistence,new Ww,t.initialUser,this.serializer)}Du(t){return new g0(Uw.Vi,this.serializer)}bu(t){return new Qw}terminate(){return v(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})(),yI=class extends RD{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){Le(this.persistence.referenceDelegate instanceof y0,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new Aw(r,e.asyncQueue,t)}Du(e){let t=this.cacheSizeBytes!==void 0?zn.withCacheSize(this.cacheSizeBytes):zn.DEFAULT;return new g0(r=>y0.Vi(r,t),this.serializer)}};var o$=(()=>{class n{initialize(t,r){return v(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>lT(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=n$.bind(null,this.syncEngine),yield zU(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return(function(){return new uI})()}createDatastore(t){let r=q0(t.databaseInfo.databaseId),i=(function(s){return new tI(s)})(t.databaseInfo);return(function(s,a,c,u){return new oI(s,a,c,u)})(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return(function(i,o,s,a,c){return new aI(i,o,s,a,c)})(this.localStore,this.datastore,t.asyncQueue,r=>lT(this.syncEngine,r,0),(function(){return k0.C()?new k0:new Xw})())}createSyncEngine(t,r){return(function(o,s,a,c,u,h,f){let m=new mI(o,s,a,c,u,h);return f&&(m.fu=!0),m})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return v(this,null,function*(){var t,r;yield(function(o){return v(this,null,function*(){let s=pe(o);W(Js,"RemoteStore shutting down."),s.Ia.add(5),yield Fd(s),s.Ea.shutdown(),s.Aa.set("Unknown")})})(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();var Ld=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Si("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var Ro="FirestoreClient",vI=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Rt.UNAUTHENTICATED,this.clientId=Id.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>v(this,null,function*(){W(Ro,"Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(W(Ro,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new ur;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>v(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=zI(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function z4(n,e){return v(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),W(Ro,"Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>v(null,null,function*(){r.isEqual(i)||(yield kD(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>{xo("Terminating Firestore due to IndexedDb database deletion"),n.terminate().then(()=>{W("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{xo("Terminating Firestore due to IndexedDb database deletion failed",i)})}),n._offlineComponents=e})}function dT(n,e){return v(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield s$(n);W(Ro,"Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>sT(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>sT(e.remoteStore,i)),n._onlineComponents=e})}function s$(n){return v(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){W(Ro,"Using user provided OfflineComponentProvider");try{yield z4(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!(function(i){return i.name==="FirebaseError"?i.code===P.FAILED_PRECONDITION||i.code===P.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(t))throw t;xo("Error using user provided cache. Falling back to memory cache: "+t),yield z4(n,new RD)}}else W(Ro,"Using default OfflineComponentProvider"),yield z4(n,new yI(void 0));return n._offlineComponents})}function PD(n){return v(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(W(Ro,"Using user provided OnlineComponentProvider"),yield dT(n,n._uninitializedComponentsProvider._online)):(W(Ro,"Using default OnlineComponentProvider"),yield dT(n,new o$))),n._onlineComponents})}function a$(n){return PD(n).then(e=>e.syncEngine)}function S0(n){return v(this,null,function*(){let e=yield PD(n),t=e.eventManager;return t.onListen=GU.bind(null,e.syncEngine),t.onUnlisten=ZU.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=WU.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=QU.bind(null,e.syncEngine),t})}function c$(n,e,t={}){let r=new ur;return n.asyncQueue.enqueueAndForget(()=>v(null,null,function*(){return(function(o,s,a,c,u){let h=new Ld({next:m=>{h.Ou(),s.enqueueAndForget(()=>$I(o,f));let y=m.docs.has(a);!y&&m.fromCache?u.reject(new G(P.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&m.fromCache&&c&&c.source==="server"?u.reject(new G(P.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(m)},error:m=>u.reject(m)}),f=new Ad(V0(a.path),h,{includeMetadataChanges:!0,ka:!0});return UI(o,f)})(yield S0(n),n.asyncQueue,e,t,r)})),r.promise}function l$(n,e,t={}){let r=new ur;return n.asyncQueue.enqueueAndForget(()=>v(null,null,function*(){return(function(o,s,a,c,u){let h=new Ld({next:m=>{h.Ou(),s.enqueueAndForget(()=>$I(o,f)),m.fromCache&&c.source==="server"?u.reject(new G(P.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(m)},error:m=>u.reject(m)}),f=new Ad(a,h,{includeMetadataChanges:!0,ka:!0});return UI(o,f)})(yield S0(n),n.asyncQueue,e,t,r)})),r.promise}function ND(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var hT=new Map;var OD="firestore.googleapis.com",pT=!0,T0=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new G(P.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=OD,this.ssl=pT}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:pT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=vD;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<MU)throw new G(P.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}wz("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ND((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new G(P.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new G(P.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new G(P.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Zc=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new T0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new G(P.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new G(P.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new T0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new U4;switch(r.type){case"firstParty":return new K4(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new G(P.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return v(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){let r=hT.get(t);r&&(W("ComponentProvider","Removing Datastore"),hT.delete(t),r.terminate())})(this),Promise.resolve()}};function FD(n,e,t,r={}){var i;n=kn(n,Zc);let o=mo(e),s=n._getSettings(),a=Object.assign(Object.assign({},s),{emulatorOptions:n._getEmulatorOptions()}),c=`${e}:${t}`;o&&(Mf(`https://${c}`),_f("Firestore",!0)),s.host!==OD&&s.host!==c&&xo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let u=Object.assign(Object.assign({},s),{host:c,ssl:o,emulatorOptions:r});if(!Vr(u,a)&&(n._setSettings(u),r.mockUserToken)){let h,f;if(typeof r.mockUserToken=="string")h=r.mockUserToken,f=Rt.MOCK_USER;else{h=q6(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new G(P.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Rt(m)}n._authCredentials=new $4(new n0(h,f))}}var ea=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},bt=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Eo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}toJSON(){return{type:n._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(Od(t,n._jsonSchema))return new n(e,r||null,new J(Qe.fromString(t.referencePath)))}};bt._jsonSchemaVersion="firestore/documentReference/1.0",bt._jsonSchema={type:kt("string",bt._jsonSchemaVersion),referencePath:kt("string")};var Eo=class n extends ea{constructor(e,t,r){super(e,t,V0(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new bt(this.firestore,null,new J(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function VD(n,e,...t){if(n=ft(n),IT("collection","path",e),n instanceof Zc){let r=Qe.fromString(e,...t);return AS(r),new Eo(n,null,r)}{if(!(n instanceof bt||n instanceof Eo))throw new G(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Qe.fromString(e,...t));return AS(r),new Eo(n.firestore,null,r)}}function ZI(n,e,...t){if(n=ft(n),arguments.length===1&&(e=Id.newId()),IT("doc","path",e),n instanceof Zc){let r=Qe.fromString(e,...t);return xS(r),new bt(n,null,new J(r))}{if(!(n instanceof bt||n instanceof Eo))throw new G(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Qe.fromString(e,...t));return xS(r),new bt(n.firestore,n instanceof Eo?n.converter:null,new J(r))}}var fT="AsyncQueue",D0=class{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new w0(this,"async_queue_retry"),this.oc=()=>{let r=H4();r&&W(fT,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;let t=H4();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;let t=H4();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});let t=new ur;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}cc(){return v(this,null,function*(){if(this.Zu.length!==0){try{yield this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Jc(e))throw e;W(fT,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}})}uc(e){let t=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,Si("INTERNAL UNHANDLED ERROR: ",mT(r)),r}).then(r=>(this.nc=!1,r))));return this._c=t,t}enqueueAfterDelay(e,t,r){this.ac(),this.sc.indexOf(e)>-1&&(t=0);let i=cI.createAndSchedule(this,e,t,r,o=>this.lc(o));return this.ec.push(i),i}ac(){this.tc&&ie(47125,{hc:mT(this.tc)})}verifyOperationInProgress(){}Pc(){return v(this,null,function*(){let e;do e=this._c,yield e;while(e!==this._c)})}Tc(e){for(let t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){let t=this.ec.indexOf(e);this.ec.splice(t,1)}};function mT(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}function gT(n){return(function(t,r){if(typeof t!="object"||t===null)return!1;let i=t;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1})(n,["next","error","complete"])}var pr=class extends Zc{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new D0,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return v(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new D0(e),this._firestoreClient=void 0,yield e}})}};function jD(n,e){let t=typeof n=="object"?n:Ps(),r=typeof n=="string"?n:e||a0,i=bc(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=B6("firestore");o&&FD(i,...o)}return i}function U0(n){if(n._terminated)throw new G(P.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||u$(n),n._firestoreClient}function u$(n){var e,t,r;let i=n._freezeSettings(),o=(function(a,c,u,h){return new J4(a,c,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,ND(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new vI(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&(function(a){let c=a?._online.build();return{_offline:a?._offline.build(c),_online:c}})(n._componentsProvider))}var So=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(nn.fromBase64String(e))}catch(t){throw new G(P.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(nn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Od(e,n._jsonSchema))return n.fromBase64String(e.bytes)}};So._jsonSchemaVersion="firestore/bytes/1.0",So._jsonSchema={type:kt("string",So._jsonSchemaVersion),bytes:kt("string")};var Qc=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new G(P.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new xn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Rd=class{constructor(e){this._methodName=e}};var To=class n{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new G(P.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new G(P.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ke(this._lat,e._lat)||ke(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:n._jsonSchemaVersion}}static fromJSON(e){if(Od(e,n._jsonSchema))return new n(e.latitude,e.longitude)}};To._jsonSchemaVersion="firestore/geoPoint/1.0",To._jsonSchema={type:kt("string",To._jsonSchemaVersion),latitude:kt("number"),longitude:kt("number")};var Do=class n{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:n._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Od(e,n._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new n(e.vectorValues);throw new G(P.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};Do._jsonSchemaVersion="firestore/vectorValue/1.0",Do._jsonSchema={type:kt("string",Do._jsonSchemaVersion),vectorValues:kt("object")};var d$=/^__.*__$/,kI=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Kr(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ys(e,this.data,t,this.fieldTransforms)}},x0=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Kr(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function BD(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ie(40011,{Ec:n})}}var wI=class n{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Ac(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return L0(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(BD(this.Ec)&&d$.test(e))throw this.wc('Document fields cannot begin and end with "__"')}},II=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||q0(e)}Dc(e,t,r,i=!1){return new wI({Ec:e,methodName:t,bc:r,path:xn.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function $0(n){let e=n._freezeSettings(),t=q0(n._databaseId);return new II(n._databaseId,!!e.ignoreUndefinedProperties,t)}function qD(n,e,t,r,i,o={}){let s=n.Dc(o.merge||o.mergeFields?2:0,e,t,i);QI("Data must be an object, but it was:",s,r);let a=HD(r,s),c,u;if(o.merge)c=new Un(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let f of o.mergeFields){let m=MI(e,f,t);if(!s.contains(m))throw new G(P.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);UD(h,m)||h.push(m)}c=new Un(h),u=s.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,u=s.fieldTransforms;return new kI(new Dn(a),c,u)}var A0=class n extends Rd{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof n}};function h$(n,e,t,r){let i=n.Dc(1,e,t);QI("Data must be an object, but it was:",i,r);let o=[],s=Dn.empty();Po(r,(c,u)=>{let h=XI(e,c,t);u=ft(u);let f=i.gc(h);if(u instanceof A0)o.push(h);else{let m=jd(u,f);m!=null&&(o.push(h),s.set(h,m))}});let a=new Un(o);return new x0(s,a,i.fieldTransforms)}function p$(n,e,t,r,i,o){let s=n.Dc(1,e,t),a=[MI(e,r,t)],c=[i];if(o.length%2!=0)throw new G(P.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<o.length;m+=2)a.push(MI(e,o[m])),c.push(o[m+1]);let u=[],h=Dn.empty();for(let m=a.length-1;m>=0;--m)if(!UD(u,a[m])){let y=a[m],M=c[m];M=ft(M);let L=s.gc(y);if(M instanceof A0)u.push(y);else{let D=jd(M,L);D!=null&&(u.push(y),h.set(y,D))}}let f=new Un(u);return new x0(h,f,s.fieldTransforms)}function f$(n,e,t,r=!1){return jd(t,n.Dc(r?4:3,e))}function jd(n,e){if(zD(n=ft(n)))return QI("Unsupported field value:",e,n),HD(n,e);if(n instanceof Rd)return(function(r,i){if(!BD(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return(function(r,i){let o=[],s=0;for(let a of r){let c=jd(a,i.yc(s));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),s++}return{arrayValue:{values:o}}})(n,e)}return(function(r,i){if((r=ft(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Xz(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=wt.fromDate(r);return{timestampValue:f0(i.serializer,o)}}if(r instanceof wt){let o=new wt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:f0(i.serializer,o)}}if(r instanceof To)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof So)return{bytesValue:dD(i.serializer,r._byteString)};if(r instanceof bt){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.wc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:FI(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Do)return(function(s,a){return{mapValue:{fields:{[AI]:{stringValue:LI},[jc]:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw a.wc("VectorValues must only contain numeric values.");return OI(a.serializer,u)})}}}}}})(r,i);throw i.wc(`Unsupported field value: ${N0(r)}`)})(n,e)}function HD(n,e){let t={};return FT(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Po(n,(r,i)=>{let o=jd(i,e.Vc(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function zD(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof wt||n instanceof To||n instanceof So||n instanceof bt||n instanceof Rd||n instanceof Do)}function QI(n,e,t){if(!zD(t)||!MT(t)){let r=N0(t);throw r==="an object"?e.wc(n+" a custom object"):e.wc(n+" "+r)}}function MI(n,e,t){if((e=ft(e))instanceof Qc)return e._internalPath;if(typeof e=="string")return XI(n,e);throw L0("Field path arguments must be of type string or ",n,!1,void 0,t)}var m$=new RegExp("[~\\*/\\[\\]]");function XI(n,e,t){if(e.search(m$)>=0)throw L0(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Qc(...e.split("."))._internalPath}catch{throw L0(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function L0(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${r}`),s&&(c+=` in document ${i}`),c+=")"),new G(P.INVALID_ARGUMENT,a+n+c)}function UD(n,e){return n.some(t=>t.isEqual(e))}var R0=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new bt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new _I(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(YI("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},_I=class extends R0{data(){return super.data()}};function YI(n,e){return typeof e=="string"?XI(n,e):e instanceof Qc?e._internalPath:e._delegate._internalPath}function $D(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new G(P.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Pd=class{},CI=class extends Pd{};function GD(n,e,...t){let r=[];e instanceof Pd&&r.push(e),r=r.concat(t),(function(o){let s=o.filter(c=>c instanceof bI).length,a=o.filter(c=>c instanceof P0).length;if(s>1||s>0&&a>0)throw new G(P.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(let i of r)n=i._apply(n);return n}var P0=class n extends CI{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new n(e,t,r)}_apply(e){let t=this._parse(e);return KD(e._query,t),new ea(e.firestore,e.converter,hw(e._query,t))}_parse(e){let t=$0(e.firestore);return(function(o,s,a,c,u,h,f){let m;if(u.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new G(P.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){vT(f,h);let M=[];for(let L of f)M.push(yT(c,o,L));m={arrayValue:{values:M}}}else m=yT(c,o,f)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||vT(f,h),m=f$(a,s,f,h==="in"||h==="not-in");return vt.create(u,h,m)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}};function WD(n,e,t){let r=e,i=YI("where",n);return P0._create(i,r,t)}var bI=class n extends Pd{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new n(e,t)}_parse(e){let t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:hr.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:((function(i,o){let s=i,a=o.getFlattenedFilters();for(let c of a)KD(s,c),s=hw(s,c)})(e._query,t),new ea(e.firestore,e.converter,hw(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function yT(n,e,t){if(typeof(t=ft(t))=="string"){if(t==="")throw new G(P.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!XT(e)&&t.indexOf("/")!==-1)throw new G(P.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);let r=e.path.child(Qe.fromString(t));if(!J.isDocumentKey(r))throw new G(P.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return VS(n,new J(r))}if(t instanceof bt)return VS(n,t._key);throw new G(P.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${N0(t)}.`)}function vT(n,e){if(!Array.isArray(n)||n.length===0)throw new G(P.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function KD(n,e){let t=(function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null})(n.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new G(P.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new G(P.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}var EI=class{convertValue(e,t="none"){switch(Ao(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ze(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Di(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ie(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return Po(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;let o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[jc].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Ze(s.doubleValue));return new Do(o)}convertGeoPoint(e){return new To(Ze(e.latitude),Ze(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=F0(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Cd(e));default:return null}}convertTimestamp(e){let t=Ti(e);return new wt(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=Qe.fromString(e);Le(yD(r),9688,{name:e});let i=new c0(r.get(1),r.get(3)),o=new J(r.popFirst(5));return i.isEqual(t)||Si(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};function ZD(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var Us=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},$s=class n extends R0{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new Fc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(YI("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new G(P.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,t={};return t.type=n._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}};$s._jsonSchemaVersion="firestore/documentSnapshot/1.0",$s._jsonSchema={type:kt("string",$s._jsonSchemaVersion),bundleSource:kt("string","DocumentSnapshot"),bundleName:kt("string"),bundle:kt("string")};var Fc=class extends $s{data(e={}){return super.data(e)}},Gs=class n{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Us(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Fc(this._firestore,this._userDataWriter,r.key,r,new Us(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new G(P.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let c=new Fc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Us(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let c=new Fc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Us(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),u=-1,h=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:g$(a.type),doc:c,oldIndex:u,newIndex:h}})}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new G(P.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=n._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Id.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let t=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(t.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function g$(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ie(61501,{type:n})}}function QD(n){n=kn(n,bt);let e=kn(n.firestore,pr);return c$(U0(e),n._key).then(t=>nx(e,n,t))}Gs._jsonSchemaVersion="firestore/querySnapshot/1.0",Gs._jsonSchema={type:kt("string",Gs._jsonSchemaVersion),bundleSource:kt("string","QuerySnapshot"),bundleName:kt("string"),bundle:kt("string")};var Nd=class extends EI{constructor(e){super(),this.firestore=e}convertBytes(e){return new So(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new bt(this.firestore,null,t)}};function XD(n){n=kn(n,ea);let e=kn(n.firestore,pr),t=U0(e),r=new Nd(e);return $D(n._query),l$(t,n._query).then(i=>new Gs(e,r,n,i))}function YD(n,e,t){n=kn(n,bt);let r=kn(n.firestore,pr),i=ZD(n.converter,e,t);return G0(r,[qD($0(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,$r.none())])}function JD(n,e,t,...r){n=kn(n,bt);let i=kn(n.firestore,pr),o=$0(i),s;return s=typeof(e=ft(e))=="string"||e instanceof Qc?p$(o,"updateDoc",n._key,e,t,r):h$(o,"updateDoc",n._key,e),G0(i,[s.toMutation(n._key,$r.exists(!0))])}function ex(n){return G0(kn(n.firestore,pr),[new Ed(n._key,$r.none())])}function tx(n,e){let t=kn(n.firestore,pr),r=ZI(n),i=ZD(n.converter,e);return G0(t,[qD($0(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,$r.exists(!1))]).then(()=>r)}function JI(n,...e){var t,r,i;n=ft(n);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||gT(e[s])||(o=e[s++]);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(gT(e[s])){let f=e[s];e[s]=(t=f.next)===null||t===void 0?void 0:t.bind(f),e[s+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[s+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let c,u,h;if(n instanceof bt)u=kn(n.firestore,pr),h=V0(n._key.path),c={next:f=>{e[s]&&e[s](nx(u,n,f))},error:e[s+1],complete:e[s+2]};else{let f=kn(n,ea);u=kn(f.firestore,pr),h=f._query;let m=new Nd(u);c={next:y=>{e[s]&&e[s](new Gs(u,m,f,y))},error:e[s+1],complete:e[s+2]},$D(n._query)}return(function(m,y,M,L){let D=new Ld(L),x=new Ad(y,D,M);return m.asyncQueue.enqueueAndForget(()=>v(null,null,function*(){return UI(yield S0(m),x)})),()=>{D.Ou(),m.asyncQueue.enqueueAndForget(()=>v(null,null,function*(){return $I(yield S0(m),x)}))}})(U0(u),h,a,c)}function G0(n,e){return(function(r,i){let o=new ur;return r.asyncQueue.enqueueAndForget(()=>v(null,null,function*(){return XU(yield a$(r),i,o)})),o.promise})(U0(n),e)}function nx(n,e,t){let r=t.docs.get(e._key),i=new Nd(n);return new $s(n,i,e._key,r,new Us(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){Xc=i})(yo),cr(new hn("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new pr(new G4(r.getProvider("auth-internal")),new Z4(s,r.getProvider("app-check-internal")),(function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new G(P.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new c0(u.options.projectId,h)})(s,i),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),ut(ES,SS,e),ut(ES,SS,"esm2017")})();var W0=function(){return W0=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},W0.apply(this,arguments)};var k$={includeMetadataChanges:!1};function rx(n,e){return e===void 0&&(e=k$),new ae(function(t){var r=JI(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function ix(n,e){var t;e===void 0&&(e={});var r=n.data(e);return!n.exists()||typeof r!="object"||r===null||!e.idField?r:W0(W0({},r),(t={},t[e.idField]=n.id,t))}function ox(n){return rx(n,{includeMetadataChanges:!0}).pipe(de(function(e){return e.docs}))}function sx(n,e){return e===void 0&&(e={}),ox(n).pipe(de(function(t){return t.map(function(r){return ix(r,e)})}))}var fr=class{constructor(e){return e}},ax="firestore",eM=class{constructor(){return Sc(ax)}};var tM=new j("angularfire2.firestore-instances");function w$(n,e){let t=nd(ax,n,e);return t&&new fr(t)}function I$(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new fr(r)}}var M$={provide:eM,deps:[[new cn,tM]]},_$={provide:fr,useFactory:w$,deps:[[new cn,tM],Ii]};function cx(n,...e){return ut("angularfire",vo.full,"fst"),Zt([_$,M$,{provide:tM,useFactory:I$(n),multi:!0,deps:[Ce,Ue,ko,Os,[new cn,fd],[new cn,Tc],...e]}])}var lx=mt(sx,!0);var K0=mt(tx,!0,2);var Bd=mt(VD,!0,2);var Z0=mt(ex,!0,2);var Zr=mt(ZI,!0,2);var Q0=mt(QD,!0);var X0=mt(XD,!0);var ux=mt(jD,!0);var Y0=mt(GD,!0,2);var nM=mt(YD,!0,2);var J0=mt(JD,!0,2);var e2=mt(WD,!0,2);var tl=class n{_auth=b(qs);_firestore=b(fr);signIn(e){return v(this,null,function*(){try{let t=yield _S(this._auth,e.email,e.password),r=t.user.uid,i=Zr(this._firestore,"users",r),o=yield Q0(i);if(!o.exists()){let s={uid:r,nombre:t.user.displayName??"",email:t.user.email??"",rol:"usuario",password:""};return yield nM(i,s),s}return o.data()}catch(t){return console.error("Error en login:",t),null}})}singUp(e){return v(this,null,function*(){try{let r=(yield IS(this._auth,e.email,e.password)).user.uid,i=Z(R({},e),{uid:r});return yield nM(Zr(this._firestore,"users",r),i),i}catch(t){return console.error("Error en registro:",t),null}})}signOut(){return this._auth.signOut()}static \u0275fac=function(t){return new(t||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})};var dx=0;function C$(){let n=Je([]),e=Je([]);function t(x){n.update(N=>[x,...N])}function r(x){let k=x,{message:N}=k,$=O2(k,["message"]),ee=typeof x?.id=="number"||x.id&&x.id?.length>0?x.id:dx++,Te=x.dismissible??!0,se=x.type??"default";return n().find(w=>w.id===ee)?n.update(w=>w.map(_=>_.id===ee?Z(R(R({},_),x),{id:ee,title:N,dismissible:Te,type:se,updated:!0}):Z(R({},_),{updated:!1}))):t(Z(R({},$),{id:ee,title:N,dismissible:Te,type:se})),ee}function i(x){if(x===void 0){n.set([]);return}return n.update(N=>N.filter($=>$.id!==x)),x}function o(x,N){return r(Z(R({},N),{type:"default",message:x}))}function s(x,N){return r(Z(R({},N),{type:"error",message:x}))}function a(x,N){return r(Z(R({},N),{type:"success",message:x}))}function c(x,N){return r(Z(R({},N),{type:"info",message:x}))}function u(x,N){return r(Z(R({},N),{type:"warning",message:x}))}function h(x,N){return r(Z(R({},N),{type:"loading",message:x}))}function f(x,N){if(!N)return;let $;N.loading!==void 0&&($=r(Z(R({},N),{promise:x,type:"loading",message:N.loading})));let ee=x instanceof Promise?x:x(),Te=$!==void 0;return ee.then(se=>{if(se&&typeof se.ok=="boolean"&&!se.ok){Te=!1;let C=typeof N.error=="function"?N.error(`HTTP error! status: ${se.status}`):N.error;r({id:$,type:"error",message:C})}else if(N.success!==void 0){Te=!1;let C=typeof N.success=="function"?N.success(se):N.success;r({id:$,type:"success",message:C})}}).catch(se=>{if(N.error!==void 0){Te=!1;let C=typeof N.error=="function"?N.error(se):N.error;r({id:$,type:"error",message:C})}}).finally(()=>{Te&&(i($),$=void 0),N.finally?.()}),$}function m(x,N){let $=N?.id??dx++;return r(R({component:x,id:$},N)),$}function y(x){e.update(N=>N.filter($=>$.toastId!==x))}function M(x){e.update(N=>[x,...N].sort(L))}let L=(x,N)=>n().findIndex($=>$.id===x.toastId)-n().findIndex($=>$.id===N.toastId);function D(){n.set([]),e.set([])}return{create:r,addToast:t,dismiss:i,message:o,error:s,success:a,info:c,warning:u,loading:h,promise:f,custom:m,removeHeight:y,addHeight:M,reset:D,toasts:n.asReadonly(),heights:e.asReadonly()}}var Qr=C$();function b$(n,e){return Qr.create(R({message:n},e))}var E$=b$,nl=Object.assign(E$,{success:Qr.success,info:Qr.info,warning:Qr.warning,error:Qr.error,custom:Qr.custom,message:Qr.message,promise:Qr.promise,dismiss:Qr.dismiss,loading:Qr.loading});function S$(n,e){n&1&&(V(0,"div",7),z(1," Email is required and must be a valid email address. "),F())}function T$(n,e){n&1&&(V(0,"div",7),z(1," Password is required and must be at least 6 characters long. "),F())}var t2=class n{loginForm;authService=b(tl);router=b(qt);constructor(){}ngOnInit(){this.loginForm=new ho({email:new Hn(""),password:new Hn("")})}onSubmit(){return v(this,null,function*(){this.authService.signIn(this.loginForm.value).then(e=>{console.log("Login exitoso",e),localStorage.setItem("user",JSON.stringify(e)),this.router.navigate(["/nav/curso"])}).catch(e=>{console.error("Error al iniciar sesi\xF3n",e)});try{this.loginForm.valid?(yield this.authService.singUp(this.loginForm.value),nl.success("Se creo correctamente")):nl.warning("Valide los datos del formulario")}catch(e){console.log(e)}})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=et({type:n,selectors:[["app-login"]],decls:22,vars:5,consts:[[1,"d-flex","justify-content-center","align-items-center","vh-100",2,"background","linear-gradient(135deg, #01c3cb, #6a11cb, #2575fc)","background-size","400% 400%","animation","gradientBG 12s ease infinite"],[1,"card","shadow-lg","p-4",2,"max-width","400px","width","100%","border-radius","1rem"],[1,"text-center","mb-4"],[3,"ngSubmit","formGroup"],[1,"form-group","mb-3"],["for","email"],["type","email","id","email","formControlName","email","required","",1,"form-control"],[1,"text-danger"],["for","password"],["type","password","id","password","formControlName","password","required","",1,"form-control"],["type","submit",1,"btn","btn-primary","w-100",3,"disabled"],[1,"text-center","mt-3"],[3,"routerLink"]],template:function(t,r){t&1&&(gi(0),V(1,"div",0)(2,"div",1)(3,"h2",2),z(4,"Login"),F(),V(5,"form",3),Pe("ngSubmit",function(){return r.onSubmit()}),V(6,"div",4)(7,"label",5),z(8,"Email"),F(),Se(9,"input",6),qe(10,S$,2,0,"div",7),F(),V(11,"div",4)(12,"label",8),z(13,"Password"),F(),Se(14,"input",9),qe(15,T$,2,0,"div",7),F(),V(16,"button",10),z(17," Login "),F()(),V(18,"div",11),z(19," Aun no tienes una cuenta ? "),V(20,"a",12),z(21," Registrarse"),F()()()(),yi()),t&2&&(q(5),Ie("formGroup",r.loginForm),q(5),He(r.loginForm.controls.email.invalid&&r.loginForm.controls.email.touched?10:-1),q(5),He(r.loginForm.controls.password.invalid&&r.loginForm.controls.password.touched?15:-1),q(),Ie("disabled",r.loginForm.invalid),q(4),Ie("routerLink","../register"))},dependencies:[ro,fo,Mc,po,wc,Ic,Zu,xs,As,Ds,Fr],styles:["@keyframes _ngcontent-%COMP%_gradientBG{0%{background-position:0% 50%}50%{background-position:100% 50%}to{background-position:0% 50%}}"]})};function D$(n,e){n&1&&(V(0,"div",7),z(1," Nombre es requerido. "),F())}function x$(n,e){n&1&&(V(0,"div",7),z(1," Email is required and must be a valid email address. "),F())}function A$(n,e){n&1&&(V(0,"div",7),z(1," Elige un rol. "),F())}function L$(n,e){n&1&&(V(0,"div",7),z(1," Password is required and must be at least 6 characters long. "),F())}var n2=class n{loginForm;authService=b(tl);router=b(qt);constructor(){}ngOnInit(){this.loginForm=new ho({nombre:new Hn("",[sr.required]),email:new Hn("",[sr.required,sr.email]),rol:new Hn("",[sr.required]),password:new Hn("",[sr.required])})}onSubmit(){return v(this,null,function*(){try{this.loginForm.valid?(yield this.authService.singUp(this.loginForm.value),nl.success("Se creo correctamente")):nl.warning("Valide los datos del formulario")}catch(e){console.log(e)}})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=et({type:n,selectors:[["app-register"]],decls:36,vars:7,consts:[[1,"d-flex","justify-content-center","align-items-center","vh-100",2,"background","linear-gradient(135deg, #01c3cb, #6a11cb, #2575fc)","background-size","400% 400%","animation","gradientBG 12s ease infinite"],[1,"card","shadow-lg","p-4",2,"max-width","400px","width","100%","border-radius","1rem"],[1,"text-center","mb-4"],[3,"ngSubmit","formGroup"],[1,"form-group","mb-3"],["for","nombre"],["type","nombre","id","nombre","formControlName","nombre","required","",1,"form-control"],[1,"text-danger"],["for","email"],["type","email","id","email","formControlName","email","required","",1,"form-control"],["for","rol"],["type","rol","id","rol","formControlName","rol","required","",1,"form-control"],["value","estudiante"],["value","profesor"],["for","password"],["type","password","id","password","formControlName","password","required","",1,"form-control"],["type","submit",1,"btn","btn-primary","w-100",3,"disabled"],[1,"text-center","mt-3"],[3,"routerLink"]],template:function(t,r){t&1&&(gi(0),V(1,"div",0)(2,"div",1)(3,"h2",2),z(4,"Registro"),F(),V(5,"form",3),Pe("ngSubmit",function(){return r.onSubmit()}),V(6,"div",4)(7,"label",5),z(8,"Nombre"),F(),Se(9,"input",6),qe(10,D$,2,0,"div",7),F(),V(11,"div",4)(12,"label",8),z(13,"Email"),F(),Se(14,"input",9),qe(15,x$,2,0,"div",7),F(),V(16,"div",4)(17,"label",10),z(18,"Rol"),F(),V(19,"select",11)(20,"option",12),z(21,"Estudiante"),F(),V(22,"option",13),z(23,"Profesor"),F()(),qe(24,A$,2,0,"div",7),F(),V(25,"div",4)(26,"label",14),z(27,"Password"),F(),Se(28,"input",15),qe(29,L$,2,0,"div",7),F(),V(30,"button",16),z(31," Registrarse "),F()(),V(32,"div",17),z(33," Ya tienes una cuenta ? "),V(34,"a",18),z(35," Iniciar sesi\xF3n"),F()()()(),yi()),t&2&&(q(5),Ie("formGroup",r.loginForm),q(5),He(r.loginForm.controls.nombre.invalid&&r.loginForm.controls.nombre.touched?10:-1),q(5),He(r.loginForm.controls.email.invalid&&r.loginForm.controls.email.touched?15:-1),q(9),He(r.loginForm.controls.rol.invalid&&r.loginForm.controls.rol.touched?24:-1),q(5),He(r.loginForm.controls.password.invalid&&r.loginForm.controls.password.touched?29:-1),q(),Ie("disabled",r.loginForm.invalid),q(4),Ie("routerLink","/login"))},dependencies:[Ds,Fr,fo,Mc,A6,R6,po,gf,wc,Ic,Zu,xs,As],encapsulation:2})};var R$=["*"];var hx=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]];var px=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]];var fx=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]];var mx=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]];var gx=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M14 15h1",key:"171nev"}],["path",{d:"M19 15h2",key:"1vnucp"}],["path",{d:"M3 15h2",key:"8bym0q"}],["path",{d:"M9 15h1",key:"1tg3ks"}]];var yx=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]];var qd={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"},rM=new j("LucideIcons",{factory:()=>new Hd({})}),Hd=class{constructor(e){this.icons=e}getIcon(e){return this.hasIcon(e)?this.icons[e]:null}hasIcon(e){return typeof this.icons=="object"&&e in this.icons}},P$=(()=>{class n{constructor(){this.color=qd.stroke,this.size=qd.width,this.strokeWidth=qd["stroke-width"],this.absoluteStrokeWidth=!1}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function N$(n,e=3){return parseFloat(n.toFixed(e)).toString(10)}var vx=(()=>{class n{constructor(t,r,i,o,s){this.elem=t,this.renderer=r,this.changeDetector=i,this.iconProviders=o,this.iconConfig=s,this.absoluteStrokeWidth=!1,this.defaultSize=qd.height}get size(){return this._size??this.iconConfig.size}set size(t){t?this._size=this.parseNumber(t):delete this._size}get strokeWidth(){return this._strokeWidth??this.iconConfig.strokeWidth}set strokeWidth(t){t?this._strokeWidth=this.parseNumber(t):delete this._strokeWidth}ngOnChanges(t){if(t.name||t.img||t.color||t.size||t.absoluteStrokeWidth||t.strokeWidth||t.class){this.color=this.color??this.iconConfig.color,this.size=this.parseNumber(this.size??this.iconConfig.size),this.strokeWidth=this.parseNumber(this.strokeWidth??this.iconConfig.strokeWidth),this.absoluteStrokeWidth=this.absoluteStrokeWidth??this.iconConfig.absoluteStrokeWidth;let r=this.img??this.name;if(typeof r=="string"){let i=this.getIcon(this.toPascalCase(r));if(i)this.replaceElement(i);else throw new Error(`The "${r}" icon has not been provided by any available icon providers.`)}else if(Array.isArray(r))this.replaceElement(r);else throw new Error("No icon name or image has been provided.")}this.changeDetector.markForCheck()}replaceElement(t){let r=Z(R({},qd),{width:this.size,height:this.size,stroke:this.color??this.iconConfig.color,"stroke-width":this.absoluteStrokeWidth?N$(this.strokeWidth/(this.size/this.defaultSize)):this.strokeWidth.toString(10)}),i=this.createElement(["svg",r,t]);i.classList.add("lucide"),typeof this.name=="string"&&i.classList.add(`lucide-${this.name.replace("_","-")}`),this.class&&i.classList.add(...this.class.split(/ /).map(s=>s.trim()).filter(s=>s.length>0));let o=this.elem.nativeElement.childNodes;for(let s of o)this.renderer.removeChild(this.elem.nativeElement,s);this.renderer.appendChild(this.elem.nativeElement,i)}toPascalCase(t){return t.replace(/(\w)([a-z0-9]*)(_|-|\s*)/g,(r,i,o)=>i.toUpperCase()+o.toLowerCase())}parseNumber(t){if(typeof t=="string"){let r=parseInt(t,10);if(isNaN(r))throw new Error(`${t} is not numeric.`);return r}return t}getIcon(t){for(let r of Array.isArray(this.iconProviders)?this.iconProviders:[this.iconProviders])if(r.hasIcon(t))return r.getIcon(t);return null}createElement([t,r,i=[]]){let o=this.renderer.createElement(t,"http://www.w3.org/2000/svg");return Object.keys(r).forEach(s=>{let a=typeof r[s]=="string"?r[s]:r[s].toString(10);this.renderer.setAttribute(o,s,a)}),i.length&&i.forEach(s=>{let a=this.createElement(s);this.renderer.appendChild(o,a)}),o}}return n.\u0275fac=function(t){return new(t||n)(Y(Ae),Y(jt),Y(Bn),Y(rM),Y(P$))},n.\u0275cmp=et({type:n,selectors:[["lucide-angular"],["lucide-icon"],["i-lucide"],["span-lucide"]],inputs:{class:"class",name:"name",img:"img",color:"color",absoluteStrokeWidth:"absoluteStrokeWidth",size:"size",strokeWidth:"strokeWidth"},standalone:!1,features:[Vt],ngContentSelectors:R$,decls:1,vars:0,template:function(t,r){t&1&&(Ka(),Za(0))},encapsulation:2}),n})(),iM=class{constructor(e){this.icons=e}},O$=n=>new Hd(n??{}),kx=(()=>{class n{static pick(t){return{ngModule:n,providers:[{provide:rM,multi:!0,useValue:new Hd(t)},{provide:rM,multi:!0,useFactory:O$,deps:[[new cn,iM]]}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Bt({type:n}),n.\u0275inj=St({imports:[[]]}),n})();var V$=["class","component"],j$=n=>({collapsed:n}),B$=()=>({}),q$=()=>({width:"15rem"}),wx=(n,e)=>({"bg-light text-dark":n,"text-light":e});function H$(n,e){if(n&1&&(V(0,"li",18)(1,"a",19,0),Se(3,"lucide-angular",6),z(4),F()()),n&2){let t=e.$implicit;q(),Ie("routerLink",t.route)("ngClass",Qa(4,wx,t.isActive,!t.isActive)),q(2),Ie("img",t.icon),q(),ln(" ",t.label," ")}}function z$(n,e){if(n&1&&(V(0,"div",9)(1,"h5",10),z(2),F(),V(3,"span",11),z(4),F(),V(5,"div",12)(6,"div",13)(7,"a",14)(8,"strong"),z(9,"Salir"),F()(),V(10,"ul",15)(11,"li")(12,"a",16),z(13,"Configuraci\xF3n"),F()(),V(14,"li")(15,"a",16),z(16,"Cerrar sesi\xF3n"),F()()()()()(),Se(17,"hr"),V(18,"ul",17),tr(19,H$,5,7,"li",18,Ji),F(),Se(21,"hr")),n&2){let t=ue();q(2),At(t.user.nombre),q(2),At(t.user.rol),q(15),nr(t.navbarOptions)}}function U$(n,e){if(n&1&&(V(0,"li",18)(1,"a",19,0),Se(3,"lucide-angular",6),F()()),n&2){let t=e.$implicit;q(),Ie("routerLink",t.route)("ngClass",Qa(3,wx,t.isActive,!t.isActive)),q(2),Ie("img",t.icon)}}function $$(n,e){if(n&1&&(Se(0,"hr"),V(1,"ul",17),tr(2,U$,4,6,"li",18,Ji),F()),n&2){let t=ue();q(2),nr(t.navbarOptions)}}var r2=class n{showDropdown=!1;navbarOptions=[];activeSection="panel";LayoutDashboardIcon=mx;isCollapsed=!1;user={uid:"",nombre:"",email:"",rol:""};currentUrl="";NAVBAR_OPTIONS={estudiante:[{label:"Ver perfil",route:"/nav/perfil",icon:yx,isActive:!1},{label:"Cursos",route:"/nav/curso",icon:fx,isActive:!1}],profesor:[{label:"Ver perfil",route:"/nav/perfil",icon:gx},{label:"Cursos",route:"/nav/curso",icon:hx},{label:"Estudiantes",route:"/nav/estudiantes",icon:px}],admin:[]};router=b(qt);constructor(){this.setNavbarOptionsByRole(),this.router.events.pipe(rt(e=>e instanceof dn)).subscribe(()=>{console.log("NavigationEnd event detected"),this.updateActiveOption()})}ngOnInit(){}updateActiveOption(){this.currentUrl=this.router.url,this.navbarOptions=this.navbarOptions.map(e=>Z(R({},e),{isActive:this.currentUrl.startsWith(e.route)}))}currrentURL(e){return e.split("/")[2]||"inicio"}toggleSidebar(){this.isCollapsed=!this.isCollapsed}irAPerfil(){this.router.navigate(["/panel/perfil"])}cerrarSesion(){localStorage.removeItem("token"),this.router.navigate(["/login"])}setNavbarOptionsByRole(){let e=localStorage.getItem("user");if(console.log("Auth Data from localStorage:",e),e)try{this.user=e?JSON.parse(e):null;let r=JSON.parse(e).rol;this.navbarOptions=this.NAVBAR_OPTIONS[r]||[]}catch{this.navbarOptions=[]}}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=et({type:n,selectors:[["app-nav",8,"component"]],attrs:V$,decls:12,vars:9,consts:[["rla","routerLinkActive"],[1,"d-flex",2,"height","100vh"],[1,"d-flex","flex-column","flex-shrink-0","p-3","text-white","sidebar",2,"background-color","#563d7c !important",3,"ngClass","ngStyle"],[1,"flex-grow-1"],[1,"navbar","navbar-expand-lg","navbar-light","bg-light","p-2"],[1,"btn","btn-outline-secondary",3,"click"],[3,"img"],[1,"ps-2",2,"color","#563d7c"],[1,"p-5"],[1,"text-center","mb-4","mt-4"],[1,"mb-0"],[1,"badge","rounded-pill","text-bg-light"],[2,"position","fixed"],[1,"dropdown"],["href","#","id","dropdownUser","data-bs-toggle","dropdown","aria-expanded","false",1,"d-flex","align-items-center","link-light","text-decoration-none","dropdown-toggle"],["aria-labelledby","dropdownUser",1,"dropdown-menu","text-small","shadow"],["href","#",1,"dropdown-item"],[1,"nav","nav-pills","flex-column","mb-auto"],[1,"nav-item"],["routerLinkActive","active",1,"nav-link",3,"routerLink","ngClass"]],template:function(t,r){t&1&&(V(0,"div",1)(1,"div",2),qe(2,z$,22,2)(3,$$,4,0),F(),V(4,"div",3)(5,"nav",4)(6,"button",5),Pe("click",function(){return r.toggleSidebar()}),Se(7,"lucide-angular",6),F(),V(8,"span",7),z(9),F()(),V(10,"div",8),Se(11,"router-outlet"),F()()()),t&2&&(q(),Ie("ngClass",vi(5,j$,r.isCollapsed))("ngStyle",r.isCollapsed?pp(7,B$):pp(8,q$)),q(),He(r.isCollapsed?3:2),q(5),Ie("img",r.LayoutDashboardIcon),q(2),At(r.currrentURL(r.currentUrl)))},dependencies:[Ds,Ss,Fr,tk,ro,uv,dv,N6,kx,vx],encapsulation:2})};var rl=class n{firestore=b(fr);cursosRef=Bd(this.firestore,"cursos");create(e){return K0(this.cursosRef,e)}getAll(){return lx(this.cursosRef,{idField:"id"})}getById(e){return v(this,null,function*(){let t=Zr(this.firestore,`cursos/${e}`),r=yield Q0(t);return r.exists()?R({id:r.id},r.data()):null})}getEstudiantes(){return v(this,null,function*(){let e=Bd(this.firestore,"users"),t=Y0(e,e2("rol","==","estudiante"));return(yield X0(t)).docs.map(i=>R({uid:i.id},i.data()))})}update(e,t){let r=Zr(this.firestore,`cursos/${e}`);return J0(r,R({},t))}delete(e){let t=Zr(this.firestore,`cursos/${e}`);return Z0(t)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})};var W$=["content"],K$=["scroll"],Z$=["padding"],Ox=["*"],Ud=n=>({searchTerm:n});function Q$(n,e){if(n&1&&(V(0,"div",3),Wa(1,6),F()),n&2){let t=ue();q(),Ie("ngTemplateOutlet",t.headerTemplate())("ngTemplateOutletContext",vi(2,Ud,t.filterValue()))}}function X$(n,e){if(n&1&&(V(0,"div",5),Wa(1,6),F()),n&2){let t=ue();q(),Ie("ngTemplateOutlet",t.footerTemplate())("ngTemplateOutletContext",vi(2,Ud,t.filterValue()))}}var Y$=["searchInput"],J$=["clearButton"],eG=(n,e,t)=>({item:n,clear:e,label:t}),tG=(n,e)=>({items:n,clear:e}),nG=(n,e,t,r)=>({item:n,item$:e,index:t,searchTerm:r});function rG(n,e){if(n&1&&(V(0,"div",20),z(1),F()),n&2){let t=ue(2);q(),At(t.placeholder()??t.config.placeholder)}}function iG(n,e){}function oG(n,e){if(n&1&&Fn(0,rG,2,1,"ng-template",null,1,Ar)(2,iG,0,0,"ng-template",19),n&2){let t=jn(1),r=ue();q(2),Ie("ngTemplateOutlet",r.placeholderTemplate()||t)}}function sG(n,e){if(n&1){let t=Vn();V(0,"span",23),Pe("click",function(){$e(t);let i=ue().$implicit,o=ue(2);return Ge(o.unselect(i))}),z(1,"\xD7"),F(),Se(2,"span",24)}if(n&2){let t=ue().$implicit,r=ue(2);q(2),Ie("ngItemLabel",t.label)("escape",r.escapeHTML)}}function aG(n,e){}function cG(n,e){if(n&1&&(V(0,"div",22),Fn(1,sG,3,2,"ng-template",null,2,Ar)(3,aG,0,0,"ng-template",12),F()),n&2){let t=e.$implicit,r=jn(2),i=ue(2);gn("ng-value-disabled",t.disabled),q(3),Ie("ngTemplateOutlet",i.labelTemplate()||r)("ngTemplateOutletContext",Wy(4,eG,t.value,i.clearItem,t.label))}}function lG(n,e){if(n&1&&tr(0,cG,4,8,"div",21,up().trackByOption,!0),n&2){let t=ue();nr(t.selectedItems)}}function uG(n,e){}function dG(n,e){if(n&1&&Fn(0,uG,0,0,"ng-template",12),n&2){let t=ue();Ie("ngTemplateOutlet",t.multiLabelTemplate())("ngTemplateOutletContext",Qa(2,tG,t.selectedValues,t.clearItem))}}function hG(n,e){n&1&&Se(0,"div",25)}function pG(n,e){}function fG(n,e){if(n&1&&Fn(0,hG,1,0,"ng-template",null,3,Ar)(2,pG,0,0,"ng-template",19),n&2){let t=jn(1),r=ue();q(2),Ie("ngTemplateOutlet",r.loadingSpinnerTemplate()||t)}}function mG(n,e){if(n&1&&Wa(0,19),n&2){let t=ue(2);Ie("ngTemplateOutlet",t.clearButtonTemplate())}}function gG(n,e){if(n&1){let t=Vn();V(0,"span",27,4),Pe("click",function(i){$e(t);let o=ue(2);return Ge(o.handleClearClick(i))}),V(2,"span",28),z(3,"\xD7"),F()()}if(n&2){let t=ue(2);Ie("title",Gy(t.clearAllText()||t.config.clearAllText)),er("tabindex",t.tabFocusOnClear()?0:-1)}}function yG(n,e){if(n&1&&qe(0,mG,1,1,"ng-container",19)(1,gG,4,3,"span",26),n&2){let t=ue();He(t.clearButtonTemplate()?0:1)}}function vG(n,e){if(n&1&&Se(0,"span",33),n&2){let t=ue().$implicit,r=ue(2);Ie("ngItemLabel",t.label)("escape",r.escapeHTML)}}function kG(n,e){}function wG(n,e){if(n&1){let t=Vn();V(0,"div",32),Pe("click",function(){let i=$e(t).$implicit,o=ue(2);return Ge(o.toggleItem(i))})("mouseover",function(){let i=$e(t).$implicit,o=ue(2);return Ge(o.onItemHover(i))}),Fn(1,vG,1,2,"ng-template",null,5,Ar)(3,kG,0,0,"ng-template",12),F()}if(n&2){let t=e.$implicit,r=jn(2),i=ue(2);gn("ng-option-disabled",t.disabled)("ng-option-selected",t.selected)("ng-optgroup",t.children)("ng-option",!t.children)("ng-option-child",!!t.parent)("ng-option-marked",t===i.itemsList.markedItem),er("role",t.children?"group":"option")("aria-selected",t.selected)("id",t==null?null:t.htmlId)("aria-setsize",i.itemsList.filteredItems.length)("aria-posinset",t.index+1),q(3),Ie("ngTemplateOutlet",t.children?i.optgroupTemplate()||r:i.optionTemplate()||r)("ngTemplateOutletContext",Ky(19,nG,t.value,t,t.index,i.searchTerm))}}function IG(n,e){if(n&1&&(V(0,"span")(1,"span",35),z(2),F(),z(3),F()),n&2){let t=ue(3);q(2),At(t.addTagText()||t.config.addTagText),q(),ln('"',t.searchTerm,'"')}}function MG(n,e){}function _G(n,e){if(n&1){let t=Vn();V(0,"div",34),Pe("mouseover",function(){$e(t);let i=ue(2);return Ge(i.itemsList.unmarkItem())})("click",function(){$e(t);let i=ue(2);return Ge(i.selectTag())}),Fn(1,IG,4,2,"ng-template",null,6,Ar)(3,MG,0,0,"ng-template",12),F()}if(n&2){let t=jn(2),r=ue(2);gn("ng-option-marked",!r.itemsList.markedItem),q(3),Ie("ngTemplateOutlet",r.tagTemplate()||t)("ngTemplateOutletContext",vi(4,Ud,r.searchTerm))}}function CG(n,e){if(n&1&&(V(0,"div",36),z(1),F()),n&2){let t=ue(3);q(),At(t.notFoundText()??t.config.notFoundText)}}function bG(n,e){}function EG(n,e){if(n&1&&Fn(0,CG,2,1,"ng-template",null,7,Ar)(2,bG,0,0,"ng-template",12),n&2){let t=jn(1),r=ue(2);q(2),Ie("ngTemplateOutlet",r.notFoundTemplate()||t)("ngTemplateOutletContext",vi(2,Ud,r.searchTerm))}}function SG(n,e){if(n&1&&(V(0,"div",36),z(1),F()),n&2){let t=ue(3);q(),At(t.typeToSearchText()||t.config.typeToSearchText)}}function TG(n,e){}function DG(n,e){if(n&1&&Fn(0,SG,2,1,"ng-template",null,8,Ar)(2,TG,0,0,"ng-template",19),n&2){let t=jn(1),r=ue(2);q(2),Ie("ngTemplateOutlet",r.typeToSearchTemplate()||t)}}function xG(n,e){if(n&1&&(V(0,"div",36),z(1),F()),n&2){let t=ue(3);q(),At(t.loadingText()||t.config.loadingText)}}function AG(n,e){}function LG(n,e){if(n&1&&Fn(0,xG,2,1,"ng-template",null,9,Ar)(2,AG,0,0,"ng-template",12),n&2){let t=jn(1),r=ue(2);q(2),Ie("ngTemplateOutlet",r.loadingTextTemplate()||t)("ngTemplateOutletContext",vi(2,Ud,r.searchTerm))}}function RG(n,e){if(n&1){let t=Vn();V(0,"ng-dropdown-panel",29),Pe("update",function(i){$e(t);let o=ue();return Ge(o.viewPortItems=i)})("scroll",function(i){$e(t);let o=ue();return Ge(o.scroll.emit(i))})("scrollToEnd",function(i){$e(t);let o=ue();return Ge(o.scrollToEnd.emit(i))})("outsideClick",function(){$e(t);let i=ue();return Ge(i.close())}),gi(1),tr(2,wG,4,24,"div",30,up().trackByOption,!0),qe(4,_G,4,6,"div",31),yi(),qe(5,EG,3,4),qe(6,DG,3,1),qe(7,LG,3,4),F()}if(n&2){let t=ue(),r=t.appendTo()||t.config.appendTo;$y(r?t.ngClass()?t.ngClass():t.classes:null),gn("ng-select-multiple",t.multiple()),Ie("virtualScroll",t.virtualScroll()??!t.config.disableVirtualScroll??!1)("bufferAmount",t.bufferAmount())("appendTo",r)("position",t.dropdownPosition())("headerTemplate",t.headerTemplate())("footerTemplate",t.footerTemplate())("filterValue",t.searchTerm)("items",t.itemsList.filteredItems)("markedItem",t.itemsList.markedItem)("id",t.dropdownId),lp("ariaLabelDropdown",t.ariaLabelDropdown()),q(2),nr(t.viewPortItems),q(2),He(t.showAddTag?4:-1),q(),He(t.showNoItemsFound()?5:-1),q(),He(t.showTypeToSearch()?6:-1),q(),He(t.loading()&&t.itemsList.filteredItems.length===0?7:-1)}}function PG(n,e){if(n&1&&z(0),n&2){let t=ue();ln(" ",t.notFoundText," ")}}var Fx=/[&<>"']/g,NG=RegExp(Fx.source),OG={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function FG(n){return n&&NG.test(n)?n.replace(Fx,e=>OG[e]):n}function tt(n){return n!=null}function zd(n){return typeof n=="object"&&tt(n)}function VG(n){return n instanceof Promise}function o2(n){return n instanceof Function}var jG=(()=>{let e=class e{constructor(){this.element=b(Ae),this.ngItemLabel=K(),this.escape=K(!0),Xa(()=>{this.element.nativeElement.innerHTML=this.escape()?FG(this.ngItemLabel()):this.ngItemLabel()})}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=ye({type:e,selectors:[["","ngItemLabel",""]],inputs:{ngItemLabel:[1,"ngItemLabel"],escape:[1,"escape"]}});let n=e;return n})(),Ix=(()=>{let e=class e{constructor(){this.template=b(he)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=ye({type:e,selectors:[["","ng-option-tmp",""]]});let n=e;return n})(),Mx=(()=>{let e=class e{constructor(){this.template=b(he)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=ye({type:e,selectors:[["","ng-optgroup-tmp",""]]});let n=e;return n})(),_x=(()=>{let e=class e{constructor(){this.template=b(he)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=ye({type:e,selectors:[["","ng-label-tmp",""]]});let n=e;return n})(),Cx=(()=>{let e=class e{constructor(){this.template=b(he)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=ye({type:e,selectors:[["","ng-multi-label-tmp",""]]});let n=e;return n})(),bx=(()=>{let e=class e{constructor(){this.template=b(he)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=ye({type:e,selectors:[["","ng-header-tmp",""]]});let n=e;return n})(),Ex=(()=>{let e=class e{constructor(){this.template=b(he)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=ye({type:e,selectors:[["","ng-footer-tmp",""]]});let n=e;return n})(),Sx=(()=>{let e=class e{constructor(){this.template=b(he)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=ye({type:e,selectors:[["","ng-notfound-tmp",""]]});let n=e;return n})(),Tx=(()=>{let e=class e{constructor(){this.template=b(he)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=ye({type:e,selectors:[["","ng-placeholder-tmp",""]]});let n=e;return n})(),Dx=(()=>{let e=class e{constructor(){this.template=b(he)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=ye({type:e,selectors:[["","ng-typetosearch-tmp",""]]});let n=e;return n})(),xx=(()=>{let e=class e{constructor(){this.template=b(he)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=ye({type:e,selectors:[["","ng-loadingtext-tmp",""]]});let n=e;return n})(),Ax=(()=>{let e=class e{constructor(){this.template=b(he)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=ye({type:e,selectors:[["","ng-tag-tmp",""]]});let n=e;return n})(),Lx=(()=>{let e=class e{constructor(){this.template=b(he)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=ye({type:e,selectors:[["","ng-loadingspinner-tmp",""]]});let n=e;return n})(),Rx=(()=>{let e=class e{constructor(){this.template=b(he)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=ye({type:e,selectors:[["","ng-clearbutton-tmp",""]]});let n=e;return n})(),BG=(()=>{let e=class e{constructor(){this.fixedPlaceholder=!0,this.notFoundText="No items found",this.typeToSearchText="Type to search",this.addTagText="Add item",this.loadingText="Loading...",this.clearAllText="Clear all",this.disableVirtualScroll=!0,this.openOnEnter=!0,this.appearance="underline",this.tabFocusOnClear=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),qG=(()=>{let e=class e{warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function Vx(){return"axxxxxxxxxxx".replace(/[x]/g,()=>(Math.random()*16|0).toString(16))}var HG={"\u24B6":"A",\uFF21:"A",\u00C0:"A",\u00C1:"A",\u00C2:"A",\u1EA6:"A",\u1EA4:"A",\u1EAA:"A",\u1EA8:"A",\u00C3:"A",\u0100:"A",\u0102:"A",\u1EB0:"A",\u1EAE:"A",\u1EB4:"A",\u1EB2:"A",\u0226:"A",\u01E0:"A",\u00C4:"A",\u01DE:"A",\u1EA2:"A",\u00C5:"A",\u01FA:"A",\u01CD:"A",\u0200:"A",\u0202:"A",\u1EA0:"A",\u1EAC:"A",\u1EB6:"A",\u1E00:"A",\u0104:"A","\u023A":"A","\u2C6F":"A","\uA732":"AA",\u00C6:"AE",\u01FC:"AE",\u01E2:"AE","\uA734":"AO","\uA736":"AU","\uA738":"AV","\uA73A":"AV","\uA73C":"AY","\u24B7":"B",\uFF22:"B",\u1E02:"B",\u1E04:"B",\u1E06:"B","\u0243":"B",\u0182:"B",\u0181:"B","\u24B8":"C",\uFF23:"C",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u00C7:"C",\u1E08:"C",\u0187:"C","\u023B":"C","\uA73E":"C","\u24B9":"D",\uFF24:"D",\u1E0A:"D",\u010E:"D",\u1E0C:"D",\u1E10:"D",\u1E12:"D",\u1E0E:"D",\u0110:"D",\u018B:"D",\u018A:"D",\u0189:"D","\uA779":"D",\u01F1:"DZ",\u01C4:"DZ",\u01F2:"Dz",\u01C5:"Dz","\u24BA":"E",\uFF25:"E",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u1EC0:"E",\u1EBE:"E",\u1EC4:"E",\u1EC2:"E",\u1EBC:"E",\u0112:"E",\u1E14:"E",\u1E16:"E",\u0114:"E",\u0116:"E",\u00CB:"E",\u1EBA:"E",\u011A:"E",\u0204:"E",\u0206:"E",\u1EB8:"E",\u1EC6:"E",\u0228:"E",\u1E1C:"E",\u0118:"E",\u1E18:"E",\u1E1A:"E",\u0190:"E",\u018E:"E","\u24BB":"F",\uFF26:"F",\u1E1E:"F",\u0191:"F","\uA77B":"F","\u24BC":"G",\uFF27:"G",\u01F4:"G",\u011C:"G",\u1E20:"G",\u011E:"G",\u0120:"G",\u01E6:"G",\u0122:"G",\u01E4:"G",\u0193:"G","\uA7A0":"G","\uA77D":"G","\uA77E":"G","\u24BD":"H",\uFF28:"H",\u0124:"H",\u1E22:"H",\u1E26:"H",\u021E:"H",\u1E24:"H",\u1E28:"H",\u1E2A:"H",\u0126:"H","\u2C67":"H","\u2C75":"H","\uA78D":"H","\u24BE":"I",\uFF29:"I",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u0128:"I",\u012A:"I",\u012C:"I",\u0130:"I",\u00CF:"I",\u1E2E:"I",\u1EC8:"I",\u01CF:"I",\u0208:"I",\u020A:"I",\u1ECA:"I",\u012E:"I",\u1E2C:"I",\u0197:"I","\u24BF":"J",\uFF2A:"J",\u0134:"J","\u0248":"J","\u24C0":"K",\uFF2B:"K",\u1E30:"K",\u01E8:"K",\u1E32:"K",\u0136:"K",\u1E34:"K",\u0198:"K","\u2C69":"K","\uA740":"K","\uA742":"K","\uA744":"K","\uA7A2":"K","\u24C1":"L",\uFF2C:"L",\u013F:"L",\u0139:"L",\u013D:"L",\u1E36:"L",\u1E38:"L",\u013B:"L",\u1E3C:"L",\u1E3A:"L",\u0141:"L","\u023D":"L","\u2C62":"L","\u2C60":"L","\uA748":"L","\uA746":"L","\uA780":"L",\u01C7:"LJ",\u01C8:"Lj","\u24C2":"M",\uFF2D:"M",\u1E3E:"M",\u1E40:"M",\u1E42:"M","\u2C6E":"M",\u019C:"M","\u24C3":"N",\uFF2E:"N",\u01F8:"N",\u0143:"N",\u00D1:"N",\u1E44:"N",\u0147:"N",\u1E46:"N",\u0145:"N",\u1E4A:"N",\u1E48:"N","\u0220":"N",\u019D:"N","\uA790":"N","\uA7A4":"N",\u01CA:"NJ",\u01CB:"Nj","\u24C4":"O",\uFF2F:"O",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u1ED2:"O",\u1ED0:"O",\u1ED6:"O",\u1ED4:"O",\u00D5:"O",\u1E4C:"O",\u022C:"O",\u1E4E:"O",\u014C:"O",\u1E50:"O",\u1E52:"O",\u014E:"O",\u022E:"O",\u0230:"O",\u00D6:"O",\u022A:"O",\u1ECE:"O",\u0150:"O",\u01D1:"O",\u020C:"O",\u020E:"O",\u01A0:"O",\u1EDC:"O",\u1EDA:"O",\u1EE0:"O",\u1EDE:"O",\u1EE2:"O",\u1ECC:"O",\u1ED8:"O",\u01EA:"O",\u01EC:"O",\u00D8:"O",\u01FE:"O",\u0186:"O",\u019F:"O","\uA74A":"O","\uA74C":"O",\u01A2:"OI","\uA74E":"OO",\u0222:"OU","\u24C5":"P",\uFF30:"P",\u1E54:"P",\u1E56:"P",\u01A4:"P","\u2C63":"P","\uA750":"P","\uA752":"P","\uA754":"P","\u24C6":"Q",\uFF31:"Q","\uA756":"Q","\uA758":"Q","\u024A":"Q","\u24C7":"R",\uFF32:"R",\u0154:"R",\u1E58:"R",\u0158:"R",\u0210:"R",\u0212:"R",\u1E5A:"R",\u1E5C:"R",\u0156:"R",\u1E5E:"R","\u024C":"R","\u2C64":"R","\uA75A":"R","\uA7A6":"R","\uA782":"R","\u24C8":"S",\uFF33:"S","\u1E9E":"S",\u015A:"S",\u1E64:"S",\u015C:"S",\u1E60:"S",\u0160:"S",\u1E66:"S",\u1E62:"S",\u1E68:"S",\u0218:"S",\u015E:"S","\u2C7E":"S","\uA7A8":"S","\uA784":"S","\u24C9":"T",\uFF34:"T",\u1E6A:"T",\u0164:"T",\u1E6C:"T",\u021A:"T",\u0162:"T",\u1E70:"T",\u1E6E:"T",\u0166:"T",\u01AC:"T",\u01AE:"T","\u023E":"T","\uA786":"T","\uA728":"TZ","\u24CA":"U",\uFF35:"U",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u0168:"U",\u1E78:"U",\u016A:"U",\u1E7A:"U",\u016C:"U",\u00DC:"U",\u01DB:"U",\u01D7:"U",\u01D5:"U",\u01D9:"U",\u1EE6:"U",\u016E:"U",\u0170:"U",\u01D3:"U",\u0214:"U",\u0216:"U",\u01AF:"U",\u1EEA:"U",\u1EE8:"U",\u1EEE:"U",\u1EEC:"U",\u1EF0:"U",\u1EE4:"U",\u1E72:"U",\u0172:"U",\u1E76:"U",\u1E74:"U","\u0244":"U","\u24CB":"V",\uFF36:"V",\u1E7C:"V",\u1E7E:"V",\u01B2:"V","\uA75E":"V","\u0245":"V","\uA760":"VY","\u24CC":"W",\uFF37:"W",\u1E80:"W",\u1E82:"W",\u0174:"W",\u1E86:"W",\u1E84:"W",\u1E88:"W","\u2C72":"W","\u24CD":"X",\uFF38:"X",\u1E8A:"X",\u1E8C:"X","\u24CE":"Y",\uFF39:"Y",\u1EF2:"Y",\u00DD:"Y",\u0176:"Y",\u1EF8:"Y",\u0232:"Y",\u1E8E:"Y",\u0178:"Y",\u1EF6:"Y",\u1EF4:"Y",\u01B3:"Y","\u024E":"Y","\u1EFE":"Y","\u24CF":"Z",\uFF3A:"Z",\u0179:"Z",\u1E90:"Z",\u017B:"Z",\u017D:"Z",\u1E92:"Z",\u1E94:"Z",\u01B5:"Z",\u0224:"Z","\u2C7F":"Z","\u2C6B":"Z","\uA762":"Z","\u24D0":"a",\uFF41:"a",\u1E9A:"a",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u1EA7:"a",\u1EA5:"a",\u1EAB:"a",\u1EA9:"a",\u00E3:"a",\u0101:"a",\u0103:"a",\u1EB1:"a",\u1EAF:"a",\u1EB5:"a",\u1EB3:"a",\u0227:"a",\u01E1:"a",\u00E4:"a",\u01DF:"a",\u1EA3:"a",\u00E5:"a",\u01FB:"a",\u01CE:"a",\u0201:"a",\u0203:"a",\u1EA1:"a",\u1EAD:"a",\u1EB7:"a",\u1E01:"a",\u0105:"a","\u2C65":"a",\u0250:"a","\uA733":"aa",\u00E6:"ae",\u01FD:"ae",\u01E3:"ae","\uA735":"ao","\uA737":"au","\uA739":"av","\uA73B":"av","\uA73D":"ay","\u24D1":"b",\uFF42:"b",\u1E03:"b",\u1E05:"b",\u1E07:"b",\u0180:"b",\u0183:"b",\u0253:"b","\u24D2":"c",\uFF43:"c",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u00E7:"c",\u1E09:"c",\u0188:"c","\u023C":"c","\uA73F":"c","\u2184":"c","\u24D3":"d",\uFF44:"d",\u1E0B:"d",\u010F:"d",\u1E0D:"d",\u1E11:"d",\u1E13:"d",\u1E0F:"d",\u0111:"d",\u018C:"d",\u0256:"d",\u0257:"d","\uA77A":"d",\u01F3:"dz",\u01C6:"dz","\u24D4":"e",\uFF45:"e",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u1EC1:"e",\u1EBF:"e",\u1EC5:"e",\u1EC3:"e",\u1EBD:"e",\u0113:"e",\u1E15:"e",\u1E17:"e",\u0115:"e",\u0117:"e",\u00EB:"e",\u1EBB:"e",\u011B:"e",\u0205:"e",\u0207:"e",\u1EB9:"e",\u1EC7:"e",\u0229:"e",\u1E1D:"e",\u0119:"e",\u1E19:"e",\u1E1B:"e","\u0247":"e",\u025B:"e",\u01DD:"e","\u24D5":"f",\uFF46:"f",\u1E1F:"f",\u0192:"f","\uA77C":"f","\u24D6":"g",\uFF47:"g",\u01F5:"g",\u011D:"g",\u1E21:"g",\u011F:"g",\u0121:"g",\u01E7:"g",\u0123:"g",\u01E5:"g",\u0260:"g","\uA7A1":"g","\u1D79":"g","\uA77F":"g","\u24D7":"h",\uFF48:"h",\u0125:"h",\u1E23:"h",\u1E27:"h",\u021F:"h",\u1E25:"h",\u1E29:"h",\u1E2B:"h",\u1E96:"h",\u0127:"h","\u2C68":"h","\u2C76":"h",\u0265:"h",\u0195:"hv","\u24D8":"i",\uFF49:"i",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u0129:"i",\u012B:"i",\u012D:"i",\u00EF:"i",\u1E2F:"i",\u1EC9:"i",\u01D0:"i",\u0209:"i",\u020B:"i",\u1ECB:"i",\u012F:"i",\u1E2D:"i",\u0268:"i",\u0131:"i","\u24D9":"j",\uFF4A:"j",\u0135:"j",\u01F0:"j","\u0249":"j","\u24DA":"k",\uFF4B:"k",\u1E31:"k",\u01E9:"k",\u1E33:"k",\u0137:"k",\u1E35:"k",\u0199:"k","\u2C6A":"k","\uA741":"k","\uA743":"k","\uA745":"k","\uA7A3":"k","\u24DB":"l",\uFF4C:"l",\u0140:"l",\u013A:"l",\u013E:"l",\u1E37:"l",\u1E39:"l",\u013C:"l",\u1E3D:"l",\u1E3B:"l",\u017F:"l",\u0142:"l",\u019A:"l",\u026B:"l","\u2C61":"l","\uA749":"l","\uA781":"l","\uA747":"l",\u01C9:"lj","\u24DC":"m",\uFF4D:"m",\u1E3F:"m",\u1E41:"m",\u1E43:"m",\u0271:"m",\u026F:"m","\u24DD":"n",\uFF4E:"n",\u01F9:"n",\u0144:"n",\u00F1:"n",\u1E45:"n",\u0148:"n",\u1E47:"n",\u0146:"n",\u1E4B:"n",\u1E49:"n",\u019E:"n",\u0272:"n",\u0149:"n","\uA791":"n","\uA7A5":"n",\u01CC:"nj","\u24DE":"o",\uFF4F:"o",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u1ED3:"o",\u1ED1:"o",\u1ED7:"o",\u1ED5:"o",\u00F5:"o",\u1E4D:"o",\u022D:"o",\u1E4F:"o",\u014D:"o",\u1E51:"o",\u1E53:"o",\u014F:"o",\u022F:"o",\u0231:"o",\u00F6:"o",\u022B:"o",\u1ECF:"o",\u0151:"o",\u01D2:"o",\u020D:"o",\u020F:"o",\u01A1:"o",\u1EDD:"o",\u1EDB:"o",\u1EE1:"o",\u1EDF:"o",\u1EE3:"o",\u1ECD:"o",\u1ED9:"o",\u01EB:"o",\u01ED:"o",\u00F8:"o",\u01FF:"o",\u0254:"o","\uA74B":"o","\uA74D":"o",\u0275:"o",\u01A3:"oi",\u0223:"ou","\uA74F":"oo","\u24DF":"p",\uFF50:"p",\u1E55:"p",\u1E57:"p",\u01A5:"p","\u1D7D":"p","\uA751":"p","\uA753":"p","\uA755":"p","\u24E0":"q",\uFF51:"q","\u024B":"q","\uA757":"q","\uA759":"q","\u24E1":"r",\uFF52:"r",\u0155:"r",\u1E59:"r",\u0159:"r",\u0211:"r",\u0213:"r",\u1E5B:"r",\u1E5D:"r",\u0157:"r",\u1E5F:"r","\u024D":"r",\u027D:"r","\uA75B":"r","\uA7A7":"r","\uA783":"r","\u24E2":"s",\uFF53:"s",\u00DF:"s",\u015B:"s",\u1E65:"s",\u015D:"s",\u1E61:"s",\u0161:"s",\u1E67:"s",\u1E63:"s",\u1E69:"s",\u0219:"s",\u015F:"s","\u023F":"s","\uA7A9":"s","\uA785":"s",\u1E9B:"s","\u24E3":"t",\uFF54:"t",\u1E6B:"t",\u1E97:"t",\u0165:"t",\u1E6D:"t",\u021B:"t",\u0163:"t",\u1E71:"t",\u1E6F:"t",\u0167:"t",\u01AD:"t",\u0288:"t","\u2C66":"t","\uA787":"t","\uA729":"tz","\u24E4":"u",\uFF55:"u",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u0169:"u",\u1E79:"u",\u016B:"u",\u1E7B:"u",\u016D:"u",\u00FC:"u",\u01DC:"u",\u01D8:"u",\u01D6:"u",\u01DA:"u",\u1EE7:"u",\u016F:"u",\u0171:"u",\u01D4:"u",\u0215:"u",\u0217:"u",\u01B0:"u",\u1EEB:"u",\u1EE9:"u",\u1EEF:"u",\u1EED:"u",\u1EF1:"u",\u1EE5:"u",\u1E73:"u",\u0173:"u",\u1E77:"u",\u1E75:"u",\u0289:"u","\u24E5":"v",\uFF56:"v",\u1E7D:"v",\u1E7F:"v",\u028B:"v","\uA75F":"v",\u028C:"v","\uA761":"vy","\u24E6":"w",\uFF57:"w",\u1E81:"w",\u1E83:"w",\u0175:"w",\u1E87:"w",\u1E85:"w",\u1E98:"w",\u1E89:"w","\u2C73":"w","\u24E7":"x",\uFF58:"x",\u1E8B:"x",\u1E8D:"x","\u24E8":"y",\uFF59:"y",\u1EF3:"y",\u00FD:"y",\u0177:"y",\u1EF9:"y",\u0233:"y",\u1E8F:"y",\u00FF:"y",\u1EF7:"y",\u1E99:"y",\u1EF5:"y",\u01B4:"y","\u024F":"y","\u1EFF":"y","\u24E9":"z",\uFF5A:"z",\u017A:"z",\u1E91:"z",\u017C:"z",\u017E:"z",\u1E93:"z",\u1E95:"z",\u01B6:"z",\u0225:"z","\u0240":"z","\u2C6C":"z","\uA763":"z",\u0386:"\u0391",\u0388:"\u0395",\u0389:"\u0397",\u038A:"\u0399",\u03AA:"\u0399",\u038C:"\u039F",\u038E:"\u03A5",\u03AB:"\u03A5",\u038F:"\u03A9",\u03AC:"\u03B1",\u03AD:"\u03B5",\u03AE:"\u03B7",\u03AF:"\u03B9",\u03CA:"\u03B9",\u0390:"\u03B9",\u03CC:"\u03BF",\u03CD:"\u03C5",\u03CB:"\u03C5",\u03B0:"\u03C5",\u03C9:"\u03C9",\u03C2:"\u03C3"};function i2(n){let e=t=>HG[t]||t;return n.replace(/[^\u0000-\u007E]/g,e)}var sM=class{constructor(e,t){this._ngSelect=e,this._selectionModel=t,this._items=[],this._filteredItems=[],this._markedIndex=-1}get items(){return this._items}get filteredItems(){return this._filteredItems}get markedIndex(){return this._markedIndex}get selectedItems(){return this._selectionModel.value}get markedItem(){return this._filteredItems[this._markedIndex]}get noItemsToSelect(){return this._ngSelect.hideSelected()&&this._items.length===this.selectedItems.length}get maxItemsSelected(){return this._ngSelect.multiple()&&this._ngSelect.maxSelectedItems()<=this.selectedItems.length}get lastSelectedItem(){let e=this.selectedItems.length-1;for(;e>=0;e--){let t=this.selectedItems[e];if(!t.disabled)return t}return null}setItems(e){this._items=e.map((r,i)=>this.mapItem(r,i));let t=this._ngSelect.groupBy();t?(this._groups=this._groupBy(this._items,t),this._items=this._flatten(this._groups)):(this._groups=new Map,this._groups.set(void 0,this._items)),this._filteredItems=[...this._items]}select(e){if(e.selected||this.maxItemsSelected)return;let t=this._ngSelect.multiple();t||this.clearSelected(),this._selectionModel.select(e,t,this._ngSelect.selectableGroupAsModel()),this._ngSelect.hideSelected()&&this._hideSelected(e)}unselect(e){if(!e.selected)return;let t=this._ngSelect.multiple();this._selectionModel.unselect(e,t),this._ngSelect.hideSelected()&&tt(e.index)&&t&&this._showSelected(e)}findItem(e){let t;return this._ngSelect.compareWith()?t=r=>this._ngSelect.compareWith()(r.value,e):this._ngSelect.bindValue()?t=r=>!r.children&&this.resolveNested(r.value,this._ngSelect.bindValue())===e:t=r=>r.value===e||!r.children&&r.label&&r.label===this.resolveNested(e,this._ngSelect.bindLabel()),this._items.find(r=>t(r))}addItem(e){let t=this.mapItem(e,this._items.length);return this._items.push(t),this._filteredItems.push(t),t}clearSelected(e=!1){this._selectionModel.clear(e),this._items.forEach(t=>{t.selected=e&&t.selected&&t.disabled,t.marked=!1}),this._ngSelect.hideSelected()&&this.resetFilteredItems()}findByLabel(e){return e=i2(e).toLocaleLowerCase(),this.filteredItems.find(t=>i2(t.label).toLocaleLowerCase().substr(0,e.length)===e)}filter(e){if(!e){this.resetFilteredItems();return}this._filteredItems=[],e=this._ngSelect.searchFn()?e:i2(e).toLocaleLowerCase();let t=this._ngSelect.searchFn()||this._defaultSearchFn,r=this._ngSelect.hideSelected();for(let i of Array.from(this._groups.keys())){let o=[];for(let s of this._groups.get(i)){if(r&&(s.parent&&s.parent.selected||s.selected))continue;let a=this._ngSelect.searchFn()?s.value:s;t(e,a)&&o.push(s)}if(o.length>0){let[s]=o.slice(-1);if(s.parent){let a=this._items.find(c=>c===s.parent);this._filteredItems.push(a)}this._filteredItems.push(...o)}}}resetFilteredItems(){this._filteredItems.length!==this._items.length&&(this._ngSelect.hideSelected()&&this.selectedItems.length>0?this._filteredItems=this._items.filter(e=>!e.selected):this._filteredItems=this._items)}unmarkItem(){this._markedIndex=-1}markNextItem(){this._stepToItem(1)}markPreviousItem(){this._stepToItem(-1)}markItem(e){this._markedIndex=this._filteredItems.indexOf(e)}markSelectedOrDefault(e){if(this._filteredItems.length===0)return;let t=this._getLastMarkedIndex();t>-1?this._markedIndex=t:this._markedIndex=e?this.filteredItems.findIndex(r=>!r.disabled):-1}resolveNested(e,t){if(!zd(e))return e;if(t.indexOf(".")===-1)return e[t];{let r=t.split("."),i=e;for(let o=0,s=r.length;o<s;++o){if(i==null)return null;i=i[r[o]]}return i}}mapItem(e,t){let r=tt(e.$ngOptionLabel)?e.$ngOptionLabel:this.resolveNested(e,this._ngSelect.bindLabel()),i=tt(e.$ngOptionValue)?e.$ngOptionValue:e;return{index:t,label:tt(r)?r.toString():"",value:i,disabled:e.disabled,htmlId:`${this._ngSelect.dropdownId}-${t}`}}mapSelectedItems(){let e=this._ngSelect.multiple();for(let t of this.selectedItems){let r=this._ngSelect.bindValue(),i=null;if(this._ngSelect.compareWith())i=this._items.find(o=>this._ngSelect.compareWith()(o.value,t.value));else{let o=r?this.resolveNested(t.value,r):t.value;i=tt(o)?this.findItem(o):null}this._selectionModel.unselect(t,e),this._selectionModel.select(i||t,e,this._ngSelect.selectableGroupAsModel())}this._ngSelect.hideSelected()&&(this._filteredItems=this.filteredItems.filter(t=>this.selectedItems.indexOf(t)===-1))}_showSelected(e){if(this._filteredItems.push(e),e.parent){let t=e.parent;this._filteredItems.find(i=>i===t)||this._filteredItems.push(t)}else if(e.children)for(let t of e.children)t.selected=!1,this._filteredItems.push(t);this._filteredItems=[...this._filteredItems.sort((t,r)=>t.index-r.index)]}_hideSelected(e){this._filteredItems=this._filteredItems.filter(t=>t!==e),e.parent?e.parent.children.every(r=>r.selected)&&(this._filteredItems=this._filteredItems.filter(r=>r!==e.parent)):e.children&&(this._filteredItems=this.filteredItems.filter(t=>t.parent!==e))}_defaultSearchFn(e,t){return i2(t.label).toLocaleLowerCase().indexOf(e)>-1}_getNextItemIndex(e){return e>0?this._markedIndex>=this._filteredItems.length-1?0:this._markedIndex+1:this._markedIndex<=0?this._filteredItems.length-1:this._markedIndex-1}_stepToItem(e){this._filteredItems.length===0||this._filteredItems.every(t=>t.disabled)||(this._markedIndex=this._getNextItemIndex(e),this.markedItem.disabled&&this._stepToItem(e))}_getLastMarkedIndex(){if(this._ngSelect.hideSelected()||this._markedIndex>-1&&this.markedItem===void 0)return-1;let e=this._filteredItems.indexOf(this.lastSelectedItem);return this.lastSelectedItem&&e<0?-1:Math.max(this.markedIndex,e)}_groupBy(e,t){let r=new Map;if(e.length===0)return r;if(Array.isArray(e[0].value[t])){for(let s of e){let a=(s.value[t]||[]).map((c,u)=>this.mapItem(c,u));r.set(s,a)}return r}let i=o2(this._ngSelect.groupBy()),o=s=>{let a=i?t(s.value):s.value[t];return tt(a)?a:void 0};for(let s of e){let a=o(s),c=r.get(a);c?c.push(s):r.set(a,[s])}return r}_flatten(e){let t=o2(this._ngSelect.groupBy()),r=[];for(let i of Array.from(e.keys())){let o=r.length;if(i===void 0){let f=e.get(void 0)||[];r.push(...f.map(m=>(m.index=o++,m)));continue}let s=zd(i),a={label:s?"":String(i),children:void 0,parent:null,index:o++,disabled:!this._ngSelect.selectableGroup(),htmlId:Vx()},c=t?this._ngSelect.bindLabel():this._ngSelect.groupBy(),u=this._ngSelect.groupValue()||(()=>s?i.value:{[c]:i}),h=e.get(i).map(f=>(f.parent=a,f.children=void 0,f.index=o++,f));a.children=h,a.value=u(i,h.map(f=>f.value)),r.push(a),r.push(...h)}return r}},jx=(()=>{let e=class e{constructor(){this._dimensions={itemHeight:0,panelHeight:0,itemsPerViewport:0}}get dimensions(){return this._dimensions}calculateItems(r,i,o){let s=this._dimensions,a=s.itemHeight*i,u=Math.max(0,r)/a*i,h=Math.min(i,Math.ceil(u)+(s.itemsPerViewport+1)),m=Math.max(0,h-s.itemsPerViewport),y=Math.min(m,Math.floor(u)),M=s.itemHeight*Math.ceil(y)-s.itemHeight*Math.min(y,o);return M=isNaN(M)?0:M,y=isNaN(y)?-1:y,h=isNaN(h)?-1:h,y-=o,y=Math.max(0,y),h+=o,h=Math.min(i,h),{topPadding:M,scrollHeight:a,start:y,end:h}}setDimensions(r,i){let o=Math.max(1,Math.floor(i/r));this._dimensions={itemHeight:r,panelHeight:i,itemsPerViewport:o}}getScrollTo(r,i,o){let{panelHeight:s}=this.dimensions,a=r+i,c=o,u=c+s;return s>=a&&o===r?null:a>u?c+a-u:r<=c?r:null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac});let n=e;return n})(),Px=["top","right","bottom","left"],zG=typeof requestAnimationFrame<"u"?im:tm,oM=(()=>{let e=class e{constructor(){this._renderer=b(jt),this._zone=b(Ce),this._panelService=b(jx),this._document=b(We,{optional:!0}),this._dropdown=b(Ae).nativeElement,this.items=K([]),this.markedItem=K(void 0),this.position=K("auto"),this.appendTo=K(void 0),this.bufferAmount=K(void 0),this.virtualScroll=K(!1,{transform:Ve}),this.headerTemplate=K(void 0),this.footerTemplate=K(void 0),this.filterValue=K(null),this.ariaLabelDropdown=K(null),this.update=en(),this.scroll=en(),this.scrollToEnd=en(),this.outsideClick=en(),this.contentElementRef=to("content",{read:Ae}),this.scrollElementRef=to("scroll",{read:Ae}),this.paddingElementRef=to("padding",{read:Ae}),this._destroy$=new Fe,this._virtualPadding=Jt(()=>this.paddingElementRef()?.nativeElement),this._scrollablePanel=Jt(()=>this.scrollElementRef()?.nativeElement),this._contentPanel=Jt(()=>this.contentElementRef()?.nativeElement),this._scrollToEndFired=!1,this._updateScrollHeight=!1,this._lastScrollPosition=0}get currentPosition(){return this._currentPosition}get itemsLength(){return this._itemsLength}set itemsLength(r){r!==this._itemsLength&&(this._itemsLength=r,this._onItemsLengthChanged())}get _startOffset(){if(this.markedItem()){let{itemHeight:r,panelHeight:i}=this._panelService.dimensions,o=this.markedItem().index*r;return i>o?0:o}return 0}ngOnInit(){this._select=this._dropdown.parentElement,this._handleScroll(),this._handleOutsideClick(),this._appendDropdown(),this._setupMousedownListener()}ngOnChanges(r){if(r.items){let i=r.items;this._onItemsChange(i.currentValue,i.firstChange)}}ngOnDestroy(){this._destroy$.next(),this._destroy$.complete(),this._destroy$.unsubscribe(),this.appendTo()&&this._renderer.removeChild(this._dropdown.parentNode,this._dropdown)}scrollTo(r,i=!1){if(!r)return;let o=this.items().indexOf(r);if(o<0||o>=this.itemsLength)return;let s;if(this.virtualScroll()){let a=this._panelService.dimensions.itemHeight;s=this._panelService.getScrollTo(o*a,a,this._lastScrollPosition)}else{let a=this._dropdown.querySelector(`#${r.htmlId}`),c=i?a.offsetTop:this._lastScrollPosition;s=this._panelService.getScrollTo(a.offsetTop,a.clientHeight,c)}tt(s)&&(this._scrollablePanel().scrollTop=s)}scrollToTag(){let r=this._scrollablePanel();r.scrollTop=r.scrollHeight-r.clientHeight}adjustPosition(){this._updateYPosition()}_handleDropdownPosition(){this._currentPosition=this._calculateCurrentPosition(this._dropdown),Px.includes(this._currentPosition)?this._updateDropdownClass(this._currentPosition):this._updateDropdownClass("bottom"),this.appendTo()&&this._updateYPosition(),this._dropdown.style.opacity="1"}_updateDropdownClass(r){Px.forEach(o=>{let s=`ng-select-${o}`;this._renderer.removeClass(this._dropdown,s),this._renderer.removeClass(this._select,s)});let i=`ng-select-${r}`;this._renderer.addClass(this._dropdown,i),this._renderer.addClass(this._select,i)}_handleScroll(){this._zone.runOutsideAngular(()=>{this._scrollablePanel()&&Bi(this._scrollablePanel(),"scroll").pipe(Ir(this._destroy$),lm(0,zG)).subscribe(r=>{let i=r.path||r.composedPath&&r.composedPath();if(!i||i.length===0&&!r.target)return;let o=!i||i.length===0?r.target.scrollTop:i[0].scrollTop;this._onContentScrolled(o)})})}_handleOutsideClick(){this._document&&this._zone.runOutsideAngular(()=>{$h(Bi(this._document,"touchstart",{capture:!0}),Bi(this._document,"click",{capture:!0})).pipe(Ir(this._destroy$)).subscribe(r=>this._checkToClose(r))})}_checkToClose(r){if(this._select.contains(r.target)||this._dropdown.contains(r.target))return;let i=r.path||r.composedPath&&r.composedPath();r.target&&r.target.shadowRoot&&i&&i[0]&&this._select.contains(i[0])||this._zone.run(()=>this.outsideClick.emit())}_onItemsChange(r=[],i){this._scrollToEndFired=!1,this.itemsLength=r.length,this.virtualScroll()?this._updateItemsRange(i):(this._setVirtualHeight(),this._updateItems(i))}_updateItems(r){this.update.emit(this.items()),r!==!1&&this._zone.runOutsideAngular(()=>{Promise.resolve().then(()=>{let i=this._scrollablePanel().clientHeight;this._panelService.setDimensions(0,i),this._handleDropdownPosition(),this.scrollTo(this.markedItem(),r)})})}_updateItemsRange(r){this._zone.runOutsideAngular(()=>{this._measureDimensions().then(()=>{r?(this._renderItemsRange(this._startOffset),this._handleDropdownPosition()):this._renderItemsRange()})})}_onContentScrolled(r){this.virtualScroll()&&this._renderItemsRange(r),this._lastScrollPosition=r,this._fireScrollToEnd(r)}_updateVirtualHeight(r){this._updateScrollHeight&&(this._virtualPadding().style.height=`${r}px`,this._updateScrollHeight=!1)}_setVirtualHeight(){this._virtualPadding()&&(this._virtualPadding().style.height="0px")}_onItemsLengthChanged(){this._updateScrollHeight=!0}_renderItemsRange(r=null){if(r&&this._lastScrollPosition===r)return;r=r||this._scrollablePanel().scrollTop;let i=this._panelService.calculateItems(r,this.itemsLength,this.bufferAmount());this._updateVirtualHeight(i.scrollHeight),this._contentPanel().style.transform=`translateY(${i.topPadding}px)`,this._zone.run(()=>{this.update.emit(this.items().slice(i.start,i.end)),this.scroll.emit({start:i.start,end:i.end})}),tt(r)&&this._lastScrollPosition===0&&(this._scrollablePanel().scrollTop=r,this._lastScrollPosition=r)}_measureDimensions(){if(this._panelService.dimensions.itemHeight>0||this.itemsLength===0)return Promise.resolve(this._panelService.dimensions);let[r]=this.items();return this.update.emit([r]),Promise.resolve().then(()=>{let o=this._dropdown.querySelector(`#${r.htmlId}`).clientHeight;this._virtualPadding().style.height=`${o*this.itemsLength}px`;let s=this._scrollablePanel().clientHeight;return this._panelService.setDimensions(o,s),this._panelService.dimensions})}_fireScrollToEnd(r){if(this._scrollToEndFired||r===0)return;let i=this.virtualScroll()?this._virtualPadding():this._contentPanel();r+this._dropdown.clientHeight>=i.clientHeight-1&&(this._zone.run(()=>this.scrollToEnd.emit()),this._scrollToEndFired=!0)}_calculateCurrentPosition(r){let i=this.position();if(i!=="auto")return i;let o=this._select.getBoundingClientRect(),s=document.documentElement.scrollTop||document.body.scrollTop,a=o.top+window.pageYOffset,c=o.height,u=r.getBoundingClientRect().height;return a+c+u>s+document.documentElement.clientHeight?"top":"bottom"}_appendDropdown(){if(this.appendTo()){if(this._parent=this._dropdown.shadowRoot?this._dropdown.shadowRoot.querySelector(this.appendTo()):document.querySelector(this.appendTo()),!this._parent)throw new Error(`appendTo selector ${this.appendTo()} did not found any parent element`);this._updateXPosition(),this._parent.appendChild(this._dropdown)}}_updateXPosition(){let r=this._select.getBoundingClientRect(),i=this._parent.getBoundingClientRect(),o=document.documentElement.dir==="rtl",s=r.left-i.left;if(o){let a=i.right-r.right;this._dropdown.style.right=a+"px",this._dropdown.style.left="auto"}else this._dropdown.style.left=s+"px",this._dropdown.style.right="auto";this._dropdown.style.width=r.width+"px",this._dropdown.style.minWidth=r.width+"px"}_updateYPosition(){let r=this._select.getBoundingClientRect(),i=this._parent.getBoundingClientRect(),o=r.height;if(this._currentPosition==="top"){let s=i.bottom-r.bottom;this._dropdown.style.bottom=s+o+"px",this._dropdown.style.top="auto"}else if(this._currentPosition==="bottom"){let s=r.top-i.top;this._dropdown.style.top=s+o+"px",this._dropdown.style.bottom="auto"}}_setupMousedownListener(){this._zone.runOutsideAngular(()=>{Bi(this._dropdown,"mousedown").pipe(Ir(this._destroy$)).subscribe(r=>{r.target.tagName!=="INPUT"&&r.preventDefault()})})}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=et({type:e,selectors:[["ng-dropdown-panel"]],viewQuery:function(i,o){i&1&&(eo(o.contentElementRef,W$,5,Ae),eo(o.scrollElementRef,K$,5,Ae),eo(o.paddingElementRef,Z$,5,Ae)),i&2&&pu(3)},inputs:{items:[1,"items"],markedItem:[1,"markedItem"],position:[1,"position"],appendTo:[1,"appendTo"],bufferAmount:[1,"bufferAmount"],virtualScroll:[1,"virtualScroll"],headerTemplate:[1,"headerTemplate"],footerTemplate:[1,"footerTemplate"],filterValue:[1,"filterValue"],ariaLabelDropdown:[1,"ariaLabelDropdown"]},outputs:{update:"update",scroll:"scroll",scrollToEnd:"scrollToEnd",outsideClick:"outsideClick"},features:[Vt],ngContentSelectors:Ox,decls:9,vars:7,consts:[["scroll",""],["padding",""],["content",""],[1,"ng-dropdown-header"],["role","listbox",1,"ng-dropdown-panel-items","scroll-host"],[1,"ng-dropdown-footer"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(i,o){i&1&&(Ka(),qe(0,Q$,2,4,"div",3),V(1,"div",4,0),Se(3,"div",null,1),V(5,"div",null,2),Za(7),F()(),qe(8,X$,2,4,"div",5)),i&2&&(He(o.headerTemplate()?0:-1),q(),er("aria-label",o.ariaLabelDropdown()),q(2),gn("total-padding",o.virtualScroll()),q(2),gn("scrollable-content",o.virtualScroll()&&o.items().length),q(3),He(o.footerTemplate()?8:-1))},dependencies:[Ip],encapsulation:2,changeDetection:0});let n=e;return n})(),Nx=(()=>{let e=class e{constructor(){this.value=K(),this.disabled=K(!1,{transform:Ve}),this.elementRef=b(Ae),this.label=Je(""),this.stateChange=Jt(()=>({value:this.value(),disabled:this.disabled(),label:this.label()})),this.stateChange$=Bk(this.stateChange),ms(()=>{this._label!==this.label()&&this.label.set(this._label)})}get _label(){return(this.elementRef.nativeElement.innerHTML||"").trim()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=et({type:e,selectors:[["ng-option"]],inputs:{value:[1,"value"],disabled:[1,"disabled"]},ngContentSelectors:Ox,decls:1,vars:0,template:function(i,o){i&1&&(Ka(),Za(0))},encapsulation:2,changeDetection:0});let n=e;return n})(),Xr=(function(n){return n.Tab="Tab",n.Enter="Enter",n.Esc="Escape",n.Space=" ",n.ArrowUp="ArrowUp",n.ArrowDown="ArrowDown",n.Backspace="Backspace",n})(Xr||{});function Bx(){return new aM}var aM=class{constructor(){this._selected=[]}get value(){return this._selected}select(e,t,r){if(e.selected=!0,(!e.children||!t&&r)&&this._selected.push(e),t)if(e.parent){let i=e.parent.children.length,o=e.parent.children.filter(s=>s.selected).length;e.parent.selected=i===o}else e.children&&(this._setChildrenSelectedState(e.children,!0),this._removeChildren(e),r&&this._activeChildren(e)?this._selected=[...this._selected.filter(i=>i.parent!==e),e]:this._selected=[...this._selected,...e.children.filter(i=>!i.disabled)])}unselect(e,t){if(this._selected=this._selected.filter(r=>r!==e),e.selected=!1,t)if(e.parent&&e.parent.selected){let r=e.parent.children;this._removeParent(e.parent),this._removeChildren(e.parent),this._selected.push(...r.filter(i=>i!==e&&!i.disabled)),e.parent.selected=!1}else e.children&&(this._setChildrenSelectedState(e.children,!1),this._removeChildren(e))}clear(e){this._selected=e?this._selected.filter(t=>t.disabled):[]}_setChildrenSelectedState(e,t){for(let r of e)r.disabled||(r.selected=t)}_removeChildren(e){this._selected=[...this._selected.filter(t=>t.parent!==e),...e.children.filter(t=>t.parent===e&&t.disabled&&t.selected)]}_removeParent(e){this._selected=this._selected.filter(t=>t!==e)}_activeChildren(e){return e.children.every(t=>!t.disabled||t.selected)}},qx=new j("ng-select-selection-model"),Hx=(()=>{let e=class e{constructor(){this.classes=b(new gs("class"),{optional:!0}),this.autoFocus=b(new gs("autofocus"),{optional:!0}),this.config=b(BG),this._cd=b(Bn),this._console=b(qG),this._disabled=Je(!1),this.ariaLabelDropdown=K("Options List"),this.ariaLabel=K(void 0),this.markFirst=K(!0,{transform:Ve}),this.placeholder=K(this.config.placeholder),this.fixedPlaceholder=K(!0),this.notFoundText=K(void 0),this.typeToSearchText=K(void 0),this.preventToggleOnRightClick=K(!1),this.addTagText=K(void 0),this.loadingText=K(void 0),this.clearAllText=K(void 0),this.dropdownPosition=K("auto"),this.appendTo=K(void 0),this.loading=K(!1,{transform:Ve}),this.closeOnSelect=K(!0,{transform:Ve}),this.hideSelected=K(!1,{transform:Ve}),this.selectOnTab=K(!1,{transform:Ve}),this.openOnEnter=K(void 0,{transform:Ve}),this.maxSelectedItems=K(void 0,{transform:ks}),this.groupBy=K(void 0),this.groupValue=K(void 0),this.bufferAmount=K(4,{transform:ks}),this.virtualScroll=K(void 0,{transform:Ve}),this.selectableGroup=K(!1,{transform:Ve}),this.tabFocusOnClearButton=K(),this.selectableGroupAsModel=K(!0,{transform:Ve}),this.searchFn=K(null),this.trackByFn=K(null),this.clearOnBackspace=K(!0,{transform:Ve}),this.labelForId=K(null),this.inputAttrs=K({}),this.tabIndex=K(void 0,{transform:ks}),this.readonly=K(!1,{transform:Ve}),this.searchWhileComposing=K(!0,{transform:Ve}),this.minTermLength=K(0,{transform:ks}),this.editableSearchTerm=K(!1,{transform:Ve}),this.ngClass=K(null),this.typeahead=K(void 0),this.multiple=K(!1,{transform:Ve}),this.addTag=K(!1),this.searchable=K(!0,{transform:Ve}),this.clearable=K(!0,{transform:Ve}),this.deselectOnClick=K(),this.clearSearchOnAdd=K(void 0),this.compareWith=K(void 0,{transform:s=>{if(s!=null&&!o2(s))throw Error("`compareWith` must be a function.");return s}}),this.bindLabel=Ya(void 0),this.bindValue=Ya(void 0),this.appearance=Ya(void 0),this.isOpen=Ya(!1),this.items=Ya([]),this.blurEvent=en({alias:"blur"}),this.focusEvent=en({alias:"focus"}),this.changeEvent=en({alias:"change"}),this.openEvent=en({alias:"open"}),this.closeEvent=en({alias:"close"}),this.searchEvent=en({alias:"search"}),this.clearEvent=en({alias:"clear"}),this.addEvent=en({alias:"add"}),this.removeEvent=en({alias:"remove"}),this.scroll=en({alias:"scroll"}),this.scrollToEnd=en({alias:"scrollToEnd"}),this.disabled=Jt(()=>this.readonly()||this._disabled()),this.clearSearchOnAddValue=Jt(()=>tt(this.clearSearchOnAdd())?this.clearSearchOnAdd():tt(this.config.clearSearchOnAdd)?this.config.clearSearchOnAdd:this.closeOnSelect()),this.deselectOnClickValue=Jt(()=>tt(this.deselectOnClick())?this.deselectOnClick():tt(this.config.deselectOnClick)?this.config.deselectOnClick:this.multiple()),this.optionTemplate=yn(Ix,{read:he}),this.optgroupTemplate=yn(Mx,{read:he}),this.labelTemplate=yn(_x,{read:he}),this.multiLabelTemplate=yn(Cx,{read:he}),this.headerTemplate=yn(bx,{read:he}),this.footerTemplate=yn(Ex,{read:he}),this.notFoundTemplate=yn(Sx,{read:he}),this.placeholderTemplate=yn(Tx,{read:he}),this.typeToSearchTemplate=yn(Dx,{read:he}),this.loadingTextTemplate=yn(xx,{read:he}),this.tagTemplate=yn(Ax,{read:he}),this.loadingSpinnerTemplate=yn(Lx,{read:he}),this.clearButtonTemplate=yn(Rx,{read:he}),this.dropdownPanel=to(fn(()=>oM)),this.searchInput=to("searchInput"),this.clearButton=to("clearButton"),this.ngOptions=wb(Nx,{descendants:!0}),this.ngOptionsObservable=Bk(this.ngOptions),this.viewPortItems=[],this.searchTerm=null,this.dropdownId=Vx(),this.escapeHTML=!0,this.tabFocusOnClear=Je(!0),this._defaultLabel="label",this._pressedKeys=[],this._isComposing=!1,this._destroy$=new Fe,this._keyPress$=new Fe,this.keyDownFn=K(s=>!0),this.clearItem=s=>{let a=this.selectedItems.find(c=>c.value===s);this.unselect(a)},this.trackByOption=(s,a)=>this.trackByFn()?this.trackByFn()(a.value):a,this._onChange=s=>{},this._onTouched=()=>{};let r=this.config,i=b(qx,{optional:!0}),o=b(Ae);this._mergeGlobalConfig(r),this.itemsList=new sM(this,i?i():Bx()),this.element=o.nativeElement}get filtered(){return!!this.searchTerm&&this.searchable()||this._isComposing}get selectedItems(){return this.itemsList.selectedItems}get selectedValues(){return this.selectedItems.map(r=>r.value)}get hasValue(){return this.selectedItems.length>0}get currentPanelPosition(){if(this.dropdownPanel())return this.dropdownPanel().currentPosition}get showAddTag(){if(!this._validTerm)return!1;let r=this.searchTerm.toLowerCase().trim();return this.addTag()&&!this.itemsList.filteredItems.some(i=>i.label.toLowerCase()===r)&&(!this.hideSelected()&&this.isOpen()||!this.selectedItems.some(i=>i.label.toLowerCase()===r))&&!this.loading()}get _editableSearchTerm(){return this.editableSearchTerm()&&!this.multiple()}get _isTypeahead(){return this.typeahead()&&this.typeahead().observed}get _validTerm(){let r=this.searchTerm?.trim();return r&&r.length>=this.minTermLength()}ngOnInit(){this._handleKeyPresses(),this._setInputAttributes()}ngOnChanges(r){r.multiple&&this.itemsList.clearSelected(),r.items&&(this._itemsAreUsed=!0,this._setItems(r.items.currentValue||[])),r.isOpen&&(this._manualOpen=tt(r.isOpen.currentValue)),r.groupBy&&(r.items||this._setItems([...this.items()])),r.inputAttrs&&this._setInputAttributes(),this._setTabFocusOnClear()}ngAfterViewInit(){this._itemsAreUsed||(this.escapeHTML=!1,this._setItemsFromNgOptions()),tt(this.autoFocus)&&this.focus()}ngOnDestroy(){this._destroy$.next(),this._destroy$.complete()}handleKeyDown(r){let i=r.key;if(Object.values(Xr).includes(i)){if(this.keyDownFn()(r)===!1)return;this.handleKeyCode(r)}else i&&i.length===1&&this._keyPress$.next(i.toLocaleLowerCase())}handleKeyCode(r){let i=r.target;this.clearButton()&&this.clearButton().nativeElement===i?this.handleKeyCodeClear(r):this.handleKeyCodeInput(r)}handleKeyCodeInput(r){switch(r.key){case Xr.ArrowDown:this._handleArrowDown(r);break;case Xr.ArrowUp:this._handleArrowUp(r);break;case Xr.Space:this._handleSpace(r);break;case Xr.Enter:this._handleEnter(r);break;case Xr.Tab:this._handleTab(r);break;case Xr.Esc:this.close(),r.preventDefault();break;case Xr.Backspace:this._handleBackspace();break}}handleKeyCodeClear(r){switch(r.key){case Xr.Enter:this.handleClearClick(),r.preventDefault();break}}handleMousedown(r){if(this.disabled())return;if(this.preventToggleOnRightClick()&&r.button===2)return!1;let i=r.target;if(i.tagName!=="INPUT"&&r.preventDefault(),!i.classList.contains("ng-clear-wrapper")){if(i.classList.contains("ng-arrow-wrapper")){this.handleArrowClick();return}i.classList.contains("ng-value-icon")||(this.focused||this.focus(),this.searchable()?this.open():this.toggle())}}handleArrowClick(){this.isOpen()?this.close():this.open()}handleClearClick(r){this.hasValue&&(this.itemsList.clearSelected(!0),this._updateNgModel()),this._clearSearch(),this.focus(),this.clearEvent.emit(),this._onSelectionChanged()}clearModel(){this.clearable()&&(this.itemsList.clearSelected(),this._updateNgModel())}writeValue(r){this.itemsList.clearSelected(),this._handleWriteValue(r),this._cd.markForCheck()}registerOnChange(r){this._onChange=r}registerOnTouched(r){this._onTouched=r}setDisabledState(r){this._disabled.set(r),this._cd.markForCheck()}toggle(){this.isOpen()?this.close():this.open()}open(){this.disabled()||this.isOpen()||this._manualOpen||!this._isTypeahead&&!this.addTag()&&this.itemsList.noItemsToSelect||(this.isOpen.set(!0),this.itemsList.markSelectedOrDefault(this.markFirst()),this.openEvent.emit(),this.searchTerm||this.focus(),this.detectChanges())}close(){!this.isOpen()||this._manualOpen||(this.isOpen.set(!1),this._isComposing=!1,this._editableSearchTerm?this.itemsList.resetFilteredItems():this._clearSearch(),this.itemsList.unmarkItem(),this._onTouched(),this.closeEvent.emit(),this._cd.markForCheck())}toggleItem(r){!r||r.disabled||this.disabled()||(this.deselectOnClickValue()&&r.selected?this.unselect(r):this.select(r),this._editableSearchTerm&&this._setSearchTermFromItems())}select(r){r.selected||(this.itemsList.select(r),this.clearSearchOnAddValue()&&!this._editableSearchTerm&&this._clearSearch(),this._updateNgModel(),this.multiple()&&this.addEvent.emit(r.value)),(this.closeOnSelect()||this.itemsList.noItemsToSelect)&&this.close(),this._onSelectionChanged()}focus(){this.searchInput().nativeElement.focus()}blur(){this.searchInput().nativeElement.blur()}unselect(r){r&&(this.itemsList.unselect(r),this.focus(),this._updateNgModel(),this.removeEvent.emit(r.value),this._onSelectionChanged())}selectTag(){let r;o2(this.addTag())?r=this.addTag()(this.searchTerm):r=this._primitive?this.searchTerm:{[this.bindLabel()]:this.searchTerm};let i=o=>this._isTypeahead||!this.isOpen()?this.itemsList.mapItem(o,null):this.itemsList.addItem(o);VG(r)?r.then(o=>this.select(i(o))).catch(()=>{}):r&&this.select(i(r))}showClear(){return this.clearable()&&(this.hasValue||this.searchTerm)&&!this.disabled()}focusOnClear(){this.blur(),this.clearButton()&&this.clearButton().nativeElement.focus()}showNoItemsFound(){let r=this.itemsList.filteredItems.length===0;return(r&&!this._isTypeahead&&!this.loading()||r&&this._isTypeahead&&this._validTerm&&!this.loading())&&!this.showAddTag}showTypeToSearch(){return this.itemsList.filteredItems.length===0&&this._isTypeahead&&!this._validTerm&&!this.loading()}onCompositionStart(){this._isComposing=!0}onCompositionEnd(r){this._isComposing=!1,!this.searchWhileComposing()&&this.filter(r)}filter(r){this._isComposing&&!this.searchWhileComposing()||(this.searchTerm=r,this._isTypeahead&&(this._validTerm||this.minTermLength()===0)&&this.typeahead().next(r),this._isTypeahead||(this.itemsList.filter(this.searchTerm),this.isOpen()&&this.itemsList.markSelectedOrDefault(this.markFirst())),this.searchEvent.emit({term:r,items:this.itemsList.filteredItems.map(i=>i.value)}),this.open())}onInputFocus(r){this.focused||(this._editableSearchTerm&&this._setSearchTermFromItems(),this.element.classList.add("ng-select-focused"),this.focusEvent.emit(r),this.focused=!0)}onInputBlur(r){this.element.classList.remove("ng-select-focused"),this.blurEvent.emit(r),!this.isOpen()&&!this.disabled()&&this._onTouched(),this._editableSearchTerm&&this._setSearchTermFromItems(),this.focused=!1}onItemHover(r){r.disabled||this.itemsList.markItem(r)}detectChanges(){this._cd.destroyed||this._cd.detectChanges()}_setSearchTermFromItems(){let r=this.selectedItems?.[0];this.searchTerm=r?.label??null}_setItems(r){let i=r[0];this.bindLabel.set(this.bindLabel()||this._defaultLabel),this._primitive=tt(i)?!zd(i):this._primitive||this.bindLabel()===this._defaultLabel,this.itemsList.setItems(r),r.length>0&&this.hasValue&&this.itemsList.mapSelectedItems(),this.isOpen()&&tt(this.searchTerm)&&!this._isTypeahead&&this.itemsList.filter(this.searchTerm),(this._isTypeahead||this.isOpen())&&this.itemsList.markSelectedOrDefault(this.markFirst())}_setItemsFromNgOptions(){let r=o=>{let s=o.map(a=>({$ngOptionValue:a.value(),$ngOptionLabel:a.elementRef.nativeElement.innerHTML,disabled:a.disabled()}))??[];this.items.set(s),this.itemsList.setItems(s),this.hasValue&&this.itemsList.mapSelectedItems()},i=o=>$h(...o.map(s=>s.stateChange$)).pipe(it(s=>{let a=this.itemsList.findItem(s.value);a.disabled=s.disabled,a.label=s.label||a.label}));this.ngOptionsObservable.pipe(Ca(this.ngOptions()),Ir(this._destroy$),it(o=>{this.bindLabel.set(this._defaultLabel),r(o),this._cd.detectChanges()}),It(o=>i(o))).subscribe()}_isValidWriteValue(r){if(!tt(r)||this.multiple()&&r===""||Array.isArray(r)&&r.length===0)return!1;let i=o=>!tt(this.compareWith())&&zd(o)&&this.bindValue()?(this._console.warn(`Setting object(${JSON.stringify(o)}) as your model with bindValue is not allowed unless [compareWith] is used.`),!1):!0;return this.multiple()?Array.isArray(r)?r.every(o=>i(o)):(this._console.warn("Multiple select ngModel should be array."),!1):i(r)}_handleWriteValue(r){if(!this._isValidWriteValue(r))return;let i=o=>{let s=this.itemsList.findItem(o);if(s)this.itemsList.select(s);else{let a=zd(o),c=!a&&!this.bindValue();a||c?this.itemsList.select(this.itemsList.mapItem(o,null)):this.bindValue()&&(s={[this.bindLabel()]:null,[this.bindValue()]:o},this.itemsList.select(this.itemsList.mapItem(s,null)))}};this.multiple()?r.forEach(o=>i(o)):i(r)}_handleKeyPresses(){this.searchable()||this._keyPress$.pipe(Ir(this._destroy$),it(r=>this._pressedKeys.push(r)),um(200),rt(()=>this._pressedKeys.length>0),de(()=>this._pressedKeys.join(""))).subscribe(r=>{let i=this.itemsList.findByLabel(r);i&&(this.isOpen()?(this.itemsList.markItem(i),this._scrollToMarked(),this._cd.markForCheck()):this.select(i)),this._pressedKeys=[]})}_setInputAttributes(){let r=this.searchInput().nativeElement,i=R({type:"text",autocorrect:"off",autocapitalize:"off",autocomplete:"off","aria-controls":this.dropdownId},this.inputAttrs());for(let o of Object.keys(i))r.setAttribute(o,i[o])}_setTabFocusOnClear(){this.tabFocusOnClear.set(tt(this.tabFocusOnClearButton())?!!this.tabFocusOnClearButton():this.config.tabFocusOnClear)}_updateNgModel(){let r=[];for(let o of this.selectedItems)if(this.bindValue()){let s=null;if(o.children){let a=this.groupValue()?this.bindValue():this.groupBy();s=o.value[a||this.groupBy()]}else s=this.itemsList.resolveNested(o.value,this.bindValue());r.push(s)}else r.push(o.value);let i=this.selectedItems.map(o=>o.value);this.multiple()?(this._onChange(r),this.changeEvent.emit(i)):(this._onChange(tt(r[0])?r[0]:null),this.changeEvent.emit(i[0])),this._cd.markForCheck()}_clearSearch(){this.searchTerm&&(this._changeSearch(null),this.itemsList.resetFilteredItems())}_changeSearch(r){this.searchTerm=r,this._isTypeahead&&this.typeahead().next(r)}_scrollToMarked(){!this.isOpen()||!this.dropdownPanel()||this.dropdownPanel().scrollTo(this.itemsList.markedItem)}_scrollToTag(){!this.isOpen()||!this.dropdownPanel()||this.dropdownPanel().scrollToTag()}_onSelectionChanged(){let r=this.appendTo()??this.config.appendTo;this.isOpen()&&this.deselectOnClickValue()&&r&&(this._cd.detectChanges(),this.dropdownPanel().adjustPosition())}_handleTab(r){if(this.isOpen()===!1){if(this.showClear()&&!r.shiftKey&&this.tabFocusOnClear())this.focusOnClear(),r.preventDefault();else if(!this.addTag())return}this.selectOnTab()?this.itemsList.markedItem?(this.toggleItem(this.itemsList.markedItem),r.preventDefault()):this.showAddTag?(this.selectTag(),r.preventDefault()):this.close():this.close()}_handleEnter(r){let i=this.openOnEnter()??this.config.openOnEnter;if(this.isOpen()||this._manualOpen)this.itemsList.markedItem?this.toggleItem(this.itemsList.markedItem):this.showAddTag&&this.selectTag();else if(i)this.open();else return;r.preventDefault()}_handleSpace(r){this.isOpen()||this._manualOpen||(this.open(),r.preventDefault())}_handleArrowDown(r){this._nextItemIsTag(1)?(this.itemsList.unmarkItem(),this._scrollToTag()):(this.itemsList.markNextItem(),this._scrollToMarked()),this.open(),r.preventDefault()}_handleArrowUp(r){this.isOpen()&&(this._nextItemIsTag(-1)?(this.itemsList.unmarkItem(),this._scrollToTag()):(this.itemsList.markPreviousItem(),this._scrollToMarked()),r.preventDefault())}_nextItemIsTag(r){let i=this.itemsList.markedIndex+r;return this.addTag()&&this.searchTerm&&this.itemsList.markedItem&&(i<0||i===this.itemsList.filteredItems.length)}_handleBackspace(){this.searchTerm||!this.clearable()||!this.clearOnBackspace()||!this.hasValue||(this.multiple()?this.unselect(this.itemsList.lastSelectedItem):this.clearModel())}_mergeGlobalConfig(r){this.bindValue.set(this.bindValue()||r.bindValue),this.bindLabel.set(this.bindLabel()||r.bindLabel),this.appearance.set(this.appearance()||r.appearance),this._setTabFocusOnClear()}getVirtualScroll(r){return tt(this.virtualScroll)?this.virtualScroll():this.isVirtualScrollDisabled(r)}isVirtualScrollDisabled(r){return tt(r.disableVirtualScroll)?!r.disableVirtualScroll:!1}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=et({type:e,selectors:[["ng-select"]],contentQueries:function(i,o,s){i&1&&(Yt(s,o.optionTemplate,Ix,5,he),Yt(s,o.optgroupTemplate,Mx,5,he),Yt(s,o.labelTemplate,_x,5,he),Yt(s,o.multiLabelTemplate,Cx,5,he),Yt(s,o.headerTemplate,bx,5,he),Yt(s,o.footerTemplate,Ex,5,he),Yt(s,o.notFoundTemplate,Sx,5,he),Yt(s,o.placeholderTemplate,Tx,5,he),Yt(s,o.typeToSearchTemplate,Dx,5,he),Yt(s,o.loadingTextTemplate,xx,5,he),Yt(s,o.tagTemplate,Ax,5,he),Yt(s,o.loadingSpinnerTemplate,Lx,5,he),Yt(s,o.clearButtonTemplate,Rx,5,he),Yt(s,o.ngOptions,Nx,5)),i&2&&pu(14)},viewQuery:function(i,o){i&1&&(eo(o.dropdownPanel,oM,5),eo(o.searchInput,Y$,5),eo(o.clearButton,J$,5)),i&2&&pu(3)},hostVars:20,hostBindings:function(i,o){i&1&&Pe("keydown",function(a){return o.handleKeyDown(a)}),i&2&&gn("ng-select",!0)("ng-select-single",!o.multiple())("ng-select-typeahead",o.typeahead())("ng-select-multiple",o.multiple())("ng-select-taggable",o.addTag())("ng-select-searchable",o.searchable())("ng-select-clearable",o.clearable())("ng-select-opened",o.isOpen())("ng-select-filtered",o.filtered)("ng-select-disabled",o.disabled())},inputs:{ariaLabelDropdown:[1,"ariaLabelDropdown"],ariaLabel:[1,"ariaLabel"],markFirst:[1,"markFirst"],placeholder:[1,"placeholder"],fixedPlaceholder:[1,"fixedPlaceholder"],notFoundText:[1,"notFoundText"],typeToSearchText:[1,"typeToSearchText"],preventToggleOnRightClick:[1,"preventToggleOnRightClick"],addTagText:[1,"addTagText"],loadingText:[1,"loadingText"],clearAllText:[1,"clearAllText"],dropdownPosition:[1,"dropdownPosition"],appendTo:[1,"appendTo"],loading:[1,"loading"],closeOnSelect:[1,"closeOnSelect"],hideSelected:[1,"hideSelected"],selectOnTab:[1,"selectOnTab"],openOnEnter:[1,"openOnEnter"],maxSelectedItems:[1,"maxSelectedItems"],groupBy:[1,"groupBy"],groupValue:[1,"groupValue"],bufferAmount:[1,"bufferAmount"],virtualScroll:[1,"virtualScroll"],selectableGroup:[1,"selectableGroup"],tabFocusOnClearButton:[1,"tabFocusOnClearButton"],selectableGroupAsModel:[1,"selectableGroupAsModel"],searchFn:[1,"searchFn"],trackByFn:[1,"trackByFn"],clearOnBackspace:[1,"clearOnBackspace"],labelForId:[1,"labelForId"],inputAttrs:[1,"inputAttrs"],tabIndex:[1,"tabIndex"],readonly:[1,"readonly"],searchWhileComposing:[1,"searchWhileComposing"],minTermLength:[1,"minTermLength"],editableSearchTerm:[1,"editableSearchTerm"],ngClass:[1,"ngClass"],typeahead:[1,"typeahead"],multiple:[1,"multiple"],addTag:[1,"addTag"],searchable:[1,"searchable"],clearable:[1,"clearable"],deselectOnClick:[1,"deselectOnClick"],clearSearchOnAdd:[1,"clearSearchOnAdd"],compareWith:[1,"compareWith"],bindLabel:[1,"bindLabel"],bindValue:[1,"bindValue"],appearance:[1,"appearance"],isOpen:[1,"isOpen"],items:[1,"items"],keyDownFn:[1,"keyDownFn"]},outputs:{bindLabel:"bindLabelChange",bindValue:"bindValueChange",appearance:"appearanceChange",isOpen:"isOpenChange",items:"itemsChange",blurEvent:"blur",focusEvent:"focus",changeEvent:"change",openEvent:"open",closeEvent:"close",searchEvent:"search",clearEvent:"clear",addEvent:"add",removeEvent:"remove",scroll:"scroll",scrollToEnd:"scrollToEnd"},features:[xr([{provide:kc,useExisting:fn(()=>e),multi:!0},jx]),Vt],decls:15,vars:20,consts:[["searchInput",""],["defaultPlaceholderTemplate",""],["defaultLabelTemplate",""],["defaultLoadingSpinnerTemplate",""],["clearButton",""],["defaultOptionTemplate",""],["defaultTagTemplate",""],["defaultNotFoundTemplate",""],["defaultTypeToSearchTemplate",""],["defaultLoadingTextTemplate",""],[1,"ng-select-container",3,"mousedown"],[1,"ng-value-container"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"ng-input"],["aria-autocomplete","list","role","combobox",3,"blur","change","compositionend","compositionstart","focus","input","disabled","readOnly","value"],[1,"ng-arrow-wrapper"],[1,"ng-arrow"],[1,"ng-dropdown-panel",3,"virtualScroll","bufferAmount","appendTo","position","headerTemplate","footerTemplate","filterValue","items","markedItem","ng-select-multiple","class","id","ariaLabelDropdown"],["aria-atomic","true","aria-live","polite","role","status",1,"ng-visually-hidden"],[3,"ngTemplateOutlet"],[1,"ng-placeholder"],[1,"ng-value",3,"ng-value-disabled"],[1,"ng-value"],["aria-hidden","true",1,"ng-value-icon","left",3,"click"],[1,"ng-value-label",3,"ngItemLabel","escape"],[1,"ng-spinner-loader"],["role","button","tabindex","0",1,"ng-clear-wrapper",3,"title"],["role","button","tabindex","0",1,"ng-clear-wrapper",3,"click","title"],["aria-hidden","true",1,"ng-clear"],[1,"ng-dropdown-panel",3,"update","scroll","scrollToEnd","outsideClick","virtualScroll","bufferAmount","appendTo","position","headerTemplate","footerTemplate","filterValue","items","markedItem","id","ariaLabelDropdown"],[1,"ng-option",3,"ng-option-disabled","ng-option-selected","ng-optgroup","ng-option","ng-option-child","ng-option-marked"],["role","option",1,"ng-option",3,"ng-option-marked"],[1,"ng-option",3,"click","mouseover"],[1,"ng-option-label",3,"ngItemLabel","escape"],["role","option",1,"ng-option",3,"mouseover","click"],[1,"ng-tag-label"],[1,"ng-option","ng-option-disabled"]],template:function(i,o){if(i&1){let s=Vn();V(0,"div",10),Pe("mousedown",function(c){return $e(s),Ge(o.handleMousedown(c))}),V(1,"div",11),qe(2,oG,3,1),qe(3,lG,2,0),qe(4,dG,1,5,null,12),V(5,"div",13)(6,"input",14,0),Pe("blur",function(c){return $e(s),Ge(o.onInputBlur(c))})("change",function(c){return $e(s),Ge(c.stopPropagation())})("compositionend",function(){$e(s);let c=jn(7);return Ge(o.onCompositionEnd(c.value))})("compositionstart",function(){return $e(s),Ge(o.onCompositionStart())})("focus",function(c){return $e(s),Ge(o.onInputFocus(c))})("input",function(){$e(s);let c=jn(7);return Ge(o.filter(c.value))}),F()()(),qe(8,fG,3,1),qe(9,yG,2,1),V(10,"span",15),Se(11,"span",16),F()(),qe(12,RG,8,19,"ng-dropdown-panel",17),V(13,"div",18),qe(14,PG,1,1),F()}i&2&&(gn("ng-appearance-outline",o.appearance()==="outline")("ng-has-value",o.hasValue),q(2),He(o.selectedItems.length===0&&!o.searchTerm||(o.fixedPlaceholder()??o.config.fixedPlaceholder)?2:-1),q(),He((!o.multiLabelTemplate()||!o.multiple())&&o.selectedItems.length>0?3:-1),q(),He(o.multiple()&&o.multiLabelTemplate()&&o.selectedValues.length>0?4:-1),q(2),Ie("disabled",o.disabled())("readOnly",!o.searchable()||o.itemsList.maxItemsSelected)("value",o.searchTerm??""),er("aria-activedescendant",o.isOpen()?o.itemsList==null||o.itemsList.markedItem==null?null:o.itemsList.markedItem.htmlId:null)("aria-controls",o.isOpen()?o.dropdownId:null)("aria-expanded",o.isOpen())("aria-label",o.ariaLabel())("id",o.labelForId())("tabindex",o.tabIndex()),q(2),He(o.loading()?8:-1),q(),He(o.showClear()?9:-1),q(3),He(o.isOpen()?12:-1),q(2),He(o.isOpen&&o.showNoItemsFound()?14:-1))},dependencies:[Ip,jG,oM],styles:[`@charset "UTF-8";.ng-select{position:relative;display:block;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}.ng-select div,.ng-select input,.ng-select span{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}.ng-select [hidden]{display:none}.ng-select.ng-select-searchable .ng-select-container .ng-value-container .ng-input{opacity:1}.ng-select.ng-select-opened .ng-select-container{z-index:1001}.ng-select.ng-select-disabled .ng-select-container .ng-value-container .ng-placeholder,.ng-select.ng-select-disabled .ng-select-container .ng-value-container .ng-value{-webkit-user-select:none;user-select:none;cursor:default}.ng-select.ng-select-disabled .ng-arrow-wrapper{cursor:default}.ng-select.ng-select-filtered .ng-placeholder{display:none}.ng-select .ng-select-container{cursor:default;display:flex;outline:none;overflow:hidden;position:relative;width:100%}.ng-select .ng-select-container .ng-value-container{display:flex;flex:1}.ng-select .ng-select-container .ng-value-container .ng-input{opacity:0}.ng-select .ng-select-container .ng-value-container .ng-input>input{box-sizing:content-box;background:none transparent;border:0 none;box-shadow:none;outline:none;padding:0;cursor:default;width:100%}.ng-select .ng-select-container .ng-value-container .ng-input>input::-ms-clear{display:none}.ng-select .ng-select-container .ng-value-container .ng-input>input[readonly]{-webkit-user-select:unset;user-select:unset;width:0;padding:0}.ng-select.ng-select-single.ng-select-filtered .ng-select-container .ng-value-container .ng-value{visibility:hidden}.ng-select.ng-select-single .ng-select-container .ng-value-container,.ng-select.ng-select-single .ng-select-container .ng-value-container .ng-value{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ng-select.ng-select-single .ng-select-container .ng-value-container .ng-value .ng-value-icon{display:none}.ng-select.ng-select-single .ng-select-container .ng-value-container .ng-input{position:absolute;left:0;width:100%}.ng-select.ng-select-multiple.ng-select-disabled>.ng-select-container .ng-value-container .ng-value .ng-value-icon{display:none}.ng-select.ng-select-multiple .ng-select-container .ng-value-container{flex-wrap:wrap}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-placeholder{position:absolute}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value{white-space:nowrap}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value.ng-value-disabled .ng-value-icon{display:none}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value .ng-value-icon{cursor:pointer}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-input{flex:1;z-index:2}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-placeholder{z-index:1}.ng-select .ng-clear-wrapper{cursor:pointer;position:relative;width:17px;-webkit-user-select:none;user-select:none}.ng-select .ng-clear-wrapper .ng-clear{display:inline-block;font-size:18px;line-height:1;pointer-events:none}.ng-select .ng-spinner-loader{border-radius:50%;width:17px;height:17px;margin-right:5px;font-size:10px;position:relative;text-indent:-9999em;border-top:2px solid rgba(66,66,66,.2);border-right:2px solid rgba(66,66,66,.2);border-bottom:2px solid rgba(66,66,66,.2);border-left:2px solid #424242;transform:translateZ(0);animation:load8 .8s infinite linear}.ng-select .ng-spinner-loader:after{border-radius:50%;width:17px;height:17px}@-webkit-keyframes load8{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes load8{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.ng-select .ng-arrow-wrapper{cursor:pointer;position:relative;text-align:center;-webkit-user-select:none;user-select:none}.ng-select .ng-arrow-wrapper .ng-arrow{pointer-events:none;display:inline-block;height:0;width:0;position:relative}.ng-dropdown-panel{box-sizing:border-box;position:absolute;opacity:0;width:100%;z-index:1050;-webkit-overflow-scrolling:touch}.ng-dropdown-panel .ng-dropdown-panel-items{display:block;height:auto;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;max-height:240px;overflow-y:auto}.ng-dropdown-panel .ng-dropdown-panel-items .ng-optgroup{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option{box-sizing:border-box;cursor:pointer;display:block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option .ng-option-label:empty:before{content:"\\200b"}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option .highlighted{font-weight:700;text-decoration:underline}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option.disabled{cursor:default}.ng-dropdown-panel .scroll-host{overflow:hidden;overflow-y:auto;position:relative;display:block;-webkit-overflow-scrolling:touch}.ng-dropdown-panel .scrollable-content{top:0;left:0;width:100%;height:100%;position:absolute}.ng-dropdown-panel .total-padding{width:1px;opacity:0}.ng-visually-hidden{position:absolute!important;width:1px;height:1px;margin:-1px;padding:0;overflow:hidden;clip:rect(0 0 0 0);border:0;white-space:nowrap}
`],encapsulation:2,changeDetection:0});let n=e;return n})(),zx=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Bt({type:e}),e.\u0275inj=St({providers:UG()});let n=e;return n})();function UG(){return[{provide:qx,useValue:Bx}]}function GG(n,e){if(n&1){let t=Vn();V(0,"tr")(1,"td"),z(2),F(),V(3,"td"),z(4),F(),V(5,"td")(6,"span",27),z(7),F()(),V(8,"td")(9,"button",28),Pe("click",function(){let i=$e(t).$implicit,o=ue();return Ge(o.formInit(i))}),z(10,"Editar"),F(),V(11,"button",29),Pe("click",function(){let i=$e(t).$implicit,o=ue();return Ge(o.destroy(i.id))}),z(12,"Eliminar"),F()()()}if(n&2){let t=e.$implicit;q(2),At(t.nombre),q(2),At(t.descripcion),q(3),ln("Estudiantes ",t.estudiantes.length)}}var s2=class n{cursoForm;listCursos;fb=b(yf);cursoSrv=b(rl);listEstudiantes;ngOnInit(){this.formInit(),this.getEstudiantes(),this.getAll()}getEstudiantes(){this.cursoSrv.getEstudiantes().then(e=>{console.log(e),this.listEstudiantes=e.map(t=>({nombre:t.nombre,uid:t.uid}))})}formInit(e=null){this.cursoForm=this.fb.group({id:[e?e.id:null],nombre:[e?e.nombre:"",sr.required],descripcion:[e?e.descripcion:"",sr.required],estudiantes:[e?e.estudiantes:[]]})}getAll(){this.cursoSrv.getAll().subscribe(e=>{console.log(e),this.listCursos=e})}create(){console.log(this.cursoForm.value),this.cursoForm.valid&&this.cursoSrv.create(this.cursoForm.value).then(e=>{console.log("Se guard\xF3 correctamente"),this.closeModal(),this.getAll(),this.cursoForm.reset()})}edit(){this.cursoForm.valid&&this.cursoSrv.update(this.cursoForm.controls.id.value,this.cursoForm.value).then(e=>{console.log("Se edit\xF3 correctamente"),this.closeModal(),this.getAll(),this.cursoForm.reset()})}destroy(e){this.cursoSrv.delete(e).then(t=>{console.log("se elimin\xF3"),this.getAll()})}closeModal(){let e=document.getElementById("cursoModal");e&&(bootstrap.Modal.getInstance(e)||new bootstrap.Modal(e)).hide()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=et({type:n,selectors:[["app-curso"]],decls:56,vars:7,consts:[[1,"row"],[1,"mb-12"],[1,"row","align-items-center","mb-3"],[1,"col"],[1,"mb-0"],[1,"col-auto"],["type","button","data-bs-toggle","modal","data-bs-target","#cursoModal",1,"btn","btn-primary",3,"click"],[2,"border","1px solid aliceblue","padding","1rem"],[1,"table"],["id","cursoModal","tabindex","-1","aria-labelledby","cursoModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[3,"formGroup"],[1,"modal-header"],["id","cursoModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Cerrar",1,"btn-close"],[1,"modal-body"],[1,"mb-3"],["for","nombre",1,"form-label"],["type","text","id","nombre","formControlName","nombre","placeholder","Nombre del curso",1,"form-control"],["for","descripcion",1,"form-label"],["type","text","id","descripcion","formControlName","descripcion","placeholder","N\xFAmero de cr\xE9ditos",1,"form-control"],["for","estudiantes",1,"form-label"],["bindLabel","nombre","bindValue","uid","placeholder","Selecciona estudiantes","formControlName","estudiantes",3,"items","multiple","searchable"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","button",1,"btn","btn-primary",3,"click"],[1,"badge","rounded-pill","text-bg-warning"],["data-bs-toggle","modal","data-bs-target","#cursoModal",1,"btn","btn-sm","btn-primary","me-2",3,"click"],[1,"btn","btn-sm","btn-danger",3,"click"]],template:function(t,r){t&1&&(V(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),z(5,"M\xF3dulo de Curso"),F(),V(6,"p",4),z(7,"CRUD de cursos y asignaci\xF3n de estudiantes"),F()(),V(8,"div",5)(9,"button",6),Pe("click",function(){return r.formInit()}),z(10," Nuevo Curso "),F()()(),V(11,"div",7)(12,"h3"),z(13),F(),V(14,"span"),z(15,"Gestione todos los cursos del sistemas"),F(),V(16,"table",8)(17,"thead")(18,"tr")(19,"th"),z(20,"Nombre"),F(),V(21,"th"),z(22,"Descripcion"),F(),V(23,"th"),z(24,"Estudiantes"),F(),V(25,"th"),z(26,"Acciones"),F()()(),V(27,"tbody"),tr(28,GG,13,3,"tr",null,Ji),F()()()()(),V(30,"div",9)(31,"div",10)(32,"div",11)(33,"form",12)(34,"div",13)(35,"h5",14),z(36),F(),Se(37,"button",15),F(),V(38,"div",16)(39,"div",17)(40,"label",18),z(41,"Nombre Curso"),F(),Se(42,"input",19),F(),V(43,"div",17)(44,"label",20),z(45,"Descripcion"),F(),Se(46,"input",21),F(),V(47,"div",17)(48,"label",22),z(49,"Estudiantes"),F(),Se(50,"ng-select",23),F()(),V(51,"div",24)(52,"button",25),z(53,"Cerrar"),F(),V(54,"button",26),Pe("click",function(){return r.cursoForm.controls.id.value?r.edit():r.create()}),z(55),F()()()()()()),t&2&&(q(13),ln("Lista de Cursos (",r.listCursos.length,")"),q(15),nr(r.listCursos),q(5),Ie("formGroup",r.cursoForm),q(3),ln(" ",r.cursoForm.controls.id.value?"Editar Curso":"Nuevo Curso"," "),q(14),Ie("items",r.listEstudiantes)("multiple",!0)("searchable",!0),q(5),ln(" ",r.cursoForm.controls.id.value?"Actualizar":"Guardar"," "))},dependencies:[fo,Mc,po,wc,Ic,xs,As,zx,Hx],encapsulation:2})};var a2=class n{firestore=b(fr);usuarioRef=Bd(this.firestore,"users");getAll(){return v(this,null,function*(){let e=Y0(this.usuarioRef,e2("rol","==","estudiante"));return(yield X0(e)).docs.map(r=>R({uid:r.id},r.data()))})}create(e){return K0(this.usuarioRef,e)}update(e,t){let r=Zr(this.firestore,`cursos/${e}`);return J0(r,R({},t))}delete(e){let t=Zr(this.firestore,`cursos/${e}`);return Z0(t)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})};function KG(n,e){if(n&1){let t=Vn();Dt(0,"tr")(1,"td"),z(2),xt(),Dt(3,"td"),z(4),xt(),dp(5,"td"),Dt(6,"td")(7,"button",7),hp("click",function(){let i=$e(t).$implicit,o=ue();return Ge(o.formInit(i))}),z(8,"Agregar cursos"),xt()()()}if(n&2){let t=e.$implicit;q(2),At(t.nombre),q(2),At(t.email)}}var c2=class n{constructor(e,t,r){this.fb=e;this.estudianteSrv=t;this.cursoSrvc=r}estudianteForm;listEstudiante;listCursos;ngOnInit(){this.getAll()}formInit(e=null){this.estudianteForm=this.fb.group({uid:[e?e.uid:""],nombre:[e?e.nombre:""],email:[e?e.email:""],rol:[e?e.rol:""]})}modalInit(e){}getAll(){this.estudianteSrv.getAll().then(e=>{console.log(this.listEstudiante),this.listEstudiante=e}),this.cursoSrvc.getAll().subscribe(e=>{this.listCursos=e})}static \u0275fac=function(t){return new(t||n)(Y(yf),Y(a2),Y(rl))};static \u0275cmp=et({type:n,selectors:[["app-estudiante"]],decls:27,vars:1,consts:[[1,"row"],[1,"mb-12"],[1,"row","align-items-center","mb-3"],[1,"col"],[1,"mb-0"],[2,"border","1px solid aliceblue","padding","1rem"],[1,"table"],["data-bs-toggle","modal","data-bs-target","#cursoModal",1,"btn","btn-sm","btn-primary","me-2",3,"click"]],template:function(t,r){t&1&&(Dt(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),z(5,"M\xF3dulo de Estudiantes"),xt(),Dt(6,"p",4),z(7,"Gestion los estudiantes de la plataforma"),xt()()(),Dt(8,"div",5)(9,"h3"),z(10),xt(),Dt(11,"span"),z(12,"Gestione todos los cursos del sistemas"),xt(),Dt(13,"table",6)(14,"thead")(15,"tr")(16,"th"),z(17,"Nombre"),xt(),Dt(18,"th"),z(19,"Email"),xt(),Dt(20,"th"),z(21,"Cursos"),xt(),Dt(22,"th"),z(23,"Acciones"),xt()()(),Dt(24,"tbody"),tr(25,KG,9,2,"tr",null,Ji),xt()()()()()),t&2&&(q(10),ln("Lista de Cursos (",r.listEstudiante.length,")"),q(15),nr(r.listEstudiante))},dependencies:[ro,fo],encapsulation:2})};var ZG=["class","component"],l2=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=et({type:n,selectors:[["app-perfil",8,"component"]],attrs:ZG,decls:2,vars:0,template:function(t,r){t&1&&(Dt(0,"p"),z(1,"perfil.component works!"),xt())},encapsulation:2})};var Ux=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",component:t2},{path:"register",component:n2},{path:"nav",component:r2,children:[{path:"perfil",component:l2},{path:"estudiantes",component:c2},{path:"curso",component:s2}]}];var $x={providers:[o1(Sv),dg(),Xy({eventCoalescing:!0}),nk(Ux),f8(()=>m8({projectId:"escuela-portafolio",appId:"1:52507293005:web:d0a248991ca7a6eb66b304",storageBucket:"escuela-portafolio.firebasestorage.app",apiKey:"AIzaSyA9GZvARSsVwd_lDsu9mT9jf9eSsc6NZ6M",authDomain:"escuela-portafolio.firebaseapp.com",messagingSenderId:"52507293005",measurementId:"G-E2MRH0L39B"})),wS(()=>MS()),cx(()=>ux())]};var u2=class n{title=Je("escuela-angular");static \u0275fac=function(t){return new(t||n)};static \u0275cmp=et({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,r){t&1&&Se(0,"router-outlet")},dependencies:[Ss],encapsulation:2})};Iv(u2,$x).catch(n=>console.error(n));
